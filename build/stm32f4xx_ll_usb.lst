ARM GAS  /tmp/ccVcqEjV.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"stm32f4xx_ll_usb.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.USB_CoreInit,"ax",%progbits
  22              		.align	2
  23              		.global	USB_CoreInit
  24              		.thumb
  25              		.thumb_func
  27              	USB_CoreInit:
  28              	.LFB126:
  29              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @version V1.5.2
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @date    22-September-2016
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *    
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following 
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions 
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
ARM GAS  /tmp/ccVcqEjV.s 			page 2


  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Redistribution and use in source and binary forms, with or without modification,
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * are permitted provided that the following conditions are met:
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      this list of conditions and the following disclaimer.
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      this list of conditions and the following disclaimer in the documentation
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      and/or other materials provided with the distribution.
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      may be used to endorse or promote products derived from this software
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      without specific prior written permission.
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */ 
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(HAL_PCD_MODULE_ENABLED) || defined(HAL_HCD_MODULE_ENABLED)
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F405xx) || defined(STM32F415xx) || defined(STM32F407xx) || defined(STM32F417xx) ||
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F427xx) || defined(STM32F437xx) || defined(STM32F429xx) || defined(STM32F439xx) ||
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F401xC) || defined(STM32F401xE) || defined(STM32F411xE) || defined(STM32F446xx) ||
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) || defined(STM32F412Vx) ||
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx)
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup LL_USB_Exported_Functions USB Low Layer Exported Functions
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup LL_USB_Group1 Initialization/de-initialization functions 
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *  @brief    Initialization and Configuration functions 
ARM GAS  /tmp/ccVcqEjV.s 			page 3


  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim    
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****               ##### Initialization/de-initialization functions #####
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]  This section provides functions allowing to:
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx: USB Instance
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg : pointer to a USB_OTG_CfgTypeDef structure that contains
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  30              		.loc 1 106 0
  31              		.cfi_startproc
  32              		@ args = 56, pretend = 16, frame = 8
  33              		@ frame_needed = 1, uses_anonymous_args = 0
  34 0000 84B0     		sub	sp, sp, #16
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37 0002 80B5     		push	{r7, lr}
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 24
  40              		.cfi_offset 7, -24
  41              		.cfi_offset 14, -20
  42 0004 82B0     		sub	sp, sp, #8
  43              	.LCFI2:
  44              		.cfi_def_cfa_offset 32
  45 0006 00AF     		add	r7, sp, #0
  46              	.LCFI3:
  47              		.cfi_def_cfa_register 7
  48 0008 7860     		str	r0, [r7, #4]
  49 000a 07F11400 		add	r0, r7, #20
  50 000e 80E80E00 		stmia	r0, {r1, r2, r3}
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  51              		.loc 1 107 0
  52 0012 BB6A     		ldr	r3, [r7, #40]
  53 0014 012B     		cmp	r3, #1
  54 0016 20D1     		bne	.L2
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  55              		.loc 1 110 0
  56 0018 7B68     		ldr	r3, [r7, #4]
  57 001a 9B6B     		ldr	r3, [r3, #56]
  58 001c 23F48032 		bic	r2, r3, #65536
  59 0020 7B68     		ldr	r3, [r7, #4]
  60 0022 9A63     		str	r2, [r3, #56]
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
ARM GAS  /tmp/ccVcqEjV.s 			page 4


 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  61              		.loc 1 113 0
  62 0024 7B68     		ldr	r3, [r7, #4]
  63 0026 DB68     		ldr	r3, [r3, #12]
  64 0028 23F48403 		bic	r3, r3, #4325376
  65 002c 23F04003 		bic	r3, r3, #64
  66 0030 7A68     		ldr	r2, [r7, #4]
  67 0032 D360     		str	r3, [r2, #12]
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  68              		.loc 1 116 0
  69 0034 7B68     		ldr	r3, [r7, #4]
  70 0036 DB68     		ldr	r3, [r3, #12]
  71 0038 23F44012 		bic	r2, r3, #3145728
  72 003c 7B68     		ldr	r3, [r7, #4]
  73 003e DA60     		str	r2, [r3, #12]
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if(cfg.use_external_vbus == 1U)
  74              		.loc 1 117 0
  75 0040 7B6C     		ldr	r3, [r7, #68]
  76 0042 012B     		cmp	r3, #1
  77 0044 05D1     		bne	.L3
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
  78              		.loc 1 119 0
  79 0046 7B68     		ldr	r3, [r7, #4]
  80 0048 DB68     		ldr	r3, [r3, #12]
  81 004a 43F48012 		orr	r2, r3, #1048576
  82 004e 7B68     		ldr	r3, [r7, #4]
  83 0050 DA60     		str	r2, [r3, #12]
  84              	.L3:
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select  */
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_CoreReset(USBx); 
  85              		.loc 1 122 0
  86 0052 7868     		ldr	r0, [r7, #4]
  87 0054 FFF7FEFF 		bl	USB_CoreReset
  88 0058 0CE0     		b	.L4
  89              	.L2:
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  90              		.loc 1 127 0
  91 005a 7B68     		ldr	r3, [r7, #4]
  92 005c DB68     		ldr	r3, [r3, #12]
  93 005e 43F04002 		orr	r2, r3, #64
  94 0062 7B68     		ldr	r3, [r7, #4]
  95 0064 DA60     		str	r2, [r3, #12]
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select and set Host mode */
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_CoreReset(USBx);
  96              		.loc 1 130 0
  97 0066 7868     		ldr	r0, [r7, #4]
  98 0068 FFF7FEFF 		bl	USB_CoreReset
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
ARM GAS  /tmp/ccVcqEjV.s 			page 5


 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate the power down*/
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG = USB_OTG_GCCFG_PWRDWN;
  99              		.loc 1 133 0
 100 006c 7B68     		ldr	r3, [r7, #4]
 101 006e 4FF48032 		mov	r2, #65536
 102 0072 9A63     		str	r2, [r3, #56]
 103              	.L4:
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.dma_enable == ENABLE)
 104              		.loc 1 136 0
 105 0074 3B6A     		ldr	r3, [r7, #32]
 106 0076 012B     		cmp	r3, #1
 107 0078 05D1     		bne	.L5
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 108              		.loc 1 138 0
 109 007a 7B68     		ldr	r3, [r7, #4]
 110 007c 9B68     		ldr	r3, [r3, #8]
 111 007e 43F02002 		orr	r2, r3, #32
 112 0082 7B68     		ldr	r3, [r7, #4]
 113 0084 9A60     		str	r2, [r3, #8]
 114              	.L5:
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }  
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 115              		.loc 1 141 0
 116 0086 0023     		movs	r3, #0
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 117              		.loc 1 142 0
 118 0088 1846     		mov	r0, r3
 119 008a 0837     		adds	r7, r7, #8
 120              	.LCFI4:
 121              		.cfi_def_cfa_offset 24
 122 008c BD46     		mov	sp, r7
 123              	.LCFI5:
 124              		.cfi_def_cfa_register 13
 125              		@ sp needed
 126 008e BDE88040 		pop	{r7, lr}
 127              	.LCFI6:
 128              		.cfi_restore 14
 129              		.cfi_restore 7
 130              		.cfi_def_cfa_offset 16
 131 0092 04B0     		add	sp, sp, #16
 132              	.LCFI7:
 133              		.cfi_def_cfa_offset 0
 134 0094 7047     		bx	lr
 135              		.cfi_endproc
 136              	.LFE126:
 138 0096 00BF     		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 139              		.align	2
 140              		.global	USB_EnableGlobalInt
 141              		.thumb
 142              		.thumb_func
 144              	USB_EnableGlobalInt:
 145              	.LFB127:
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccVcqEjV.s 			page 6


 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 146              		.loc 1 151 0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 8
 149              		@ frame_needed = 1, uses_anonymous_args = 0
 150              		@ link register save eliminated.
 151 0000 80B4     		push	{r7}
 152              	.LCFI8:
 153              		.cfi_def_cfa_offset 4
 154              		.cfi_offset 7, -4
 155 0002 83B0     		sub	sp, sp, #12
 156              	.LCFI9:
 157              		.cfi_def_cfa_offset 16
 158 0004 00AF     		add	r7, sp, #0
 159              	.LCFI10:
 160              		.cfi_def_cfa_register 7
 161 0006 7860     		str	r0, [r7, #4]
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 162              		.loc 1 152 0
 163 0008 7B68     		ldr	r3, [r7, #4]
 164 000a 9B68     		ldr	r3, [r3, #8]
 165 000c 43F00102 		orr	r2, r3, #1
 166 0010 7B68     		ldr	r3, [r7, #4]
 167 0012 9A60     		str	r2, [r3, #8]
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 168              		.loc 1 153 0
 169 0014 0023     		movs	r3, #0
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 170              		.loc 1 154 0
 171 0016 1846     		mov	r0, r3
 172 0018 0C37     		adds	r7, r7, #12
 173              	.LCFI11:
 174              		.cfi_def_cfa_offset 4
 175 001a BD46     		mov	sp, r7
 176              	.LCFI12:
 177              		.cfi_def_cfa_register 13
 178              		@ sp needed
 179 001c 5DF8047B 		ldr	r7, [sp], #4
 180              	.LCFI13:
 181              		.cfi_restore 7
 182              		.cfi_def_cfa_offset 0
 183 0020 7047     		bx	lr
 184              		.cfi_endproc
 185              	.LFE127:
 187              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 188              		.align	2
 189              		.global	USB_DisableGlobalInt
 190              		.thumb
 191              		.thumb_func
 193              	USB_DisableGlobalInt:
ARM GAS  /tmp/ccVcqEjV.s 			page 7


 194              	.LFB128:
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 195              		.loc 1 164 0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 8
 198              		@ frame_needed = 1, uses_anonymous_args = 0
 199              		@ link register save eliminated.
 200 0000 80B4     		push	{r7}
 201              	.LCFI14:
 202              		.cfi_def_cfa_offset 4
 203              		.cfi_offset 7, -4
 204 0002 83B0     		sub	sp, sp, #12
 205              	.LCFI15:
 206              		.cfi_def_cfa_offset 16
 207 0004 00AF     		add	r7, sp, #0
 208              	.LCFI16:
 209              		.cfi_def_cfa_register 7
 210 0006 7860     		str	r0, [r7, #4]
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 211              		.loc 1 165 0
 212 0008 7B68     		ldr	r3, [r7, #4]
 213 000a 9B68     		ldr	r3, [r3, #8]
 214 000c 23F00102 		bic	r2, r3, #1
 215 0010 7B68     		ldr	r3, [r7, #4]
 216 0012 9A60     		str	r2, [r3, #8]
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 217              		.loc 1 166 0
 218 0014 0023     		movs	r3, #0
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 219              		.loc 1 167 0
 220 0016 1846     		mov	r0, r3
 221 0018 0C37     		adds	r7, r7, #12
 222              	.LCFI17:
 223              		.cfi_def_cfa_offset 4
 224 001a BD46     		mov	sp, r7
 225              	.LCFI18:
 226              		.cfi_def_cfa_register 13
 227              		@ sp needed
 228 001c 5DF8047B 		ldr	r7, [sp], #4
 229              	.LCFI19:
 230              		.cfi_restore 7
 231              		.cfi_def_cfa_offset 0
 232 0020 7047     		bx	lr
 233              		.cfi_endproc
 234              	.LFE128:
 236              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 237              		.align	2
 238              		.global	USB_SetCurrentMode
ARM GAS  /tmp/ccVcqEjV.s 			page 8


 239              		.thumb
 240              		.thumb_func
 242              	USB_SetCurrentMode:
 243              	.LFB129:
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode : Set functional mode
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode :  current core mode
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_DEVICE_MODE: Peripheral mode
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_HOST_MODE: Host mode
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_DRD_MODE: Dual Role Device mode  
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx , USB_OTG_ModeTypeDef mode)
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 244              		.loc 1 180 0
 245              		.cfi_startproc
 246              		@ args = 0, pretend = 0, frame = 8
 247              		@ frame_needed = 1, uses_anonymous_args = 0
 248 0000 80B5     		push	{r7, lr}
 249              	.LCFI20:
 250              		.cfi_def_cfa_offset 8
 251              		.cfi_offset 7, -8
 252              		.cfi_offset 14, -4
 253 0002 82B0     		sub	sp, sp, #8
 254              	.LCFI21:
 255              		.cfi_def_cfa_offset 16
 256 0004 00AF     		add	r7, sp, #0
 257              	.LCFI22:
 258              		.cfi_def_cfa_register 7
 259 0006 7860     		str	r0, [r7, #4]
 260 0008 0B46     		mov	r3, r1
 261 000a FB70     		strb	r3, [r7, #3]
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD); 
 262              		.loc 1 181 0
 263 000c 7B68     		ldr	r3, [r7, #4]
 264 000e DB68     		ldr	r3, [r3, #12]
 265 0010 23F0C042 		bic	r2, r3, #1610612736
 266 0014 7B68     		ldr	r3, [r7, #4]
 267 0016 DA60     		str	r2, [r3, #12]
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ( mode == USB_OTG_HOST_MODE)
 268              		.loc 1 183 0
 269 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 270 001a 012B     		cmp	r3, #1
 271 001c 06D1     		bne	.L12
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD; 
 272              		.loc 1 185 0
 273 001e 7B68     		ldr	r3, [r7, #4]
 274 0020 DB68     		ldr	r3, [r3, #12]
 275 0022 43F00052 		orr	r2, r3, #536870912
 276 0026 7B68     		ldr	r3, [r7, #4]
 277 0028 DA60     		str	r2, [r3, #12]
 278 002a 08E0     		b	.L13
ARM GAS  /tmp/ccVcqEjV.s 			page 9


 279              	.L12:
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ( mode == USB_OTG_DEVICE_MODE)
 280              		.loc 1 187 0
 281 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 282 002e 002B     		cmp	r3, #0
 283 0030 05D1     		bne	.L13
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD; 
 284              		.loc 1 189 0
 285 0032 7B68     		ldr	r3, [r7, #4]
 286 0034 DB68     		ldr	r3, [r3, #12]
 287 0036 43F08042 		orr	r2, r3, #1073741824
 288 003a 7B68     		ldr	r3, [r7, #4]
 289 003c DA60     		str	r2, [r3, #12]
 290              	.L13:
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(50U);
 291              		.loc 1 191 0
 292 003e 3220     		movs	r0, #50
 293 0040 FFF7FEFF 		bl	HAL_Delay
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 294              		.loc 1 193 0
 295 0044 0023     		movs	r3, #0
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 296              		.loc 1 194 0
 297 0046 1846     		mov	r0, r3
 298 0048 0837     		adds	r7, r7, #8
 299              	.LCFI23:
 300              		.cfi_def_cfa_offset 8
 301 004a BD46     		mov	sp, r7
 302              	.LCFI24:
 303              		.cfi_def_cfa_register 13
 304              		@ sp needed
 305 004c 80BD     		pop	{r7, pc}
 306              		.cfi_endproc
 307              	.LFE129:
 309 004e 00BF     		.section	.text.USB_DevInit,"ax",%progbits
 310              		.align	2
 311              		.global	USB_DevInit
 312              		.thumb
 313              		.thumb_func
 315              	USB_DevInit:
 316              	.LFB130:
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit : Initializes the USB_OTG controller registers 
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg  : pointer to a USB_OTG_CfgTypeDef structure that contains
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit (USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 317              		.loc 1 205 0
ARM GAS  /tmp/ccVcqEjV.s 			page 10


 318              		.cfi_startproc
 319              		@ args = 56, pretend = 16, frame = 16
 320              		@ frame_needed = 1, uses_anonymous_args = 0
 321 0000 84B0     		sub	sp, sp, #16
 322              	.LCFI25:
 323              		.cfi_def_cfa_offset 16
 324 0002 80B5     		push	{r7, lr}
 325              	.LCFI26:
 326              		.cfi_def_cfa_offset 24
 327              		.cfi_offset 7, -24
 328              		.cfi_offset 14, -20
 329 0004 84B0     		sub	sp, sp, #16
 330              	.LCFI27:
 331              		.cfi_def_cfa_offset 40
 332 0006 00AF     		add	r7, sp, #0
 333              	.LCFI28:
 334              		.cfi_def_cfa_register 7
 335 0008 7860     		str	r0, [r7, #4]
 336 000a 07F11C00 		add	r0, r7, #28
 337 000e 80E80E00 		stmia	r0, {r1, r2, r3}
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i = 0U;
 338              		.loc 1 206 0
 339 0012 0023     		movs	r3, #0
 340 0014 FB60     		str	r3, [r7, #12]
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*Activate VBUS Sensing B */
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx)
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 341              		.loc 1 211 0
 342 0016 7B68     		ldr	r3, [r7, #4]
 343 0018 9B6B     		ldr	r3, [r3, #56]
 344 001a 43F40012 		orr	r2, r3, #2097152
 345 001e 7B68     		ldr	r3, [r7, #4]
 346 0020 9A63     		str	r2, [r3, #56]
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 347              		.loc 1 213 0
 348 0022 7B6C     		ldr	r3, [r7, #68]
 349 0024 002B     		cmp	r3, #0
 350 0026 11D1     		bne	.L16
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 351              		.loc 1 216 0
 352 0028 7B68     		ldr	r3, [r7, #4]
 353 002a 9B6B     		ldr	r3, [r3, #56]
 354 002c 23F40012 		bic	r2, r3, #2097152
 355 0030 7B68     		ldr	r3, [r7, #4]
 356 0032 9A63     		str	r2, [r3, #56]
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable*/ 
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 357              		.loc 1 219 0
 358 0034 7B68     		ldr	r3, [r7, #4]
 359 0036 1B68     		ldr	r3, [r3]
 360 0038 43F04002 		orr	r2, r3, #64
ARM GAS  /tmp/ccVcqEjV.s 			page 11


 361 003c 7B68     		ldr	r3, [r7, #4]
 362 003e 1A60     		str	r2, [r3]
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 363              		.loc 1 220 0
 364 0040 7B68     		ldr	r3, [r7, #4]
 365 0042 1B68     		ldr	r3, [r3]
 366 0044 43F08002 		orr	r2, r3, #128
 367 0048 7B68     		ldr	r3, [r7, #4]
 368 004a 1A60     		str	r2, [r3]
 369              	.L16:
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* STM32F446xx || STM32F469xx || STM32F479xx || STM32F412Zx || STM32F412Rx || STM32F412Vx ||
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 370              		.loc 1 232 0
 371 004c 7B68     		ldr	r3, [r7, #4]
 372 004e 03F56063 		add	r3, r3, #3584
 373 0052 1A46     		mov	r2, r3
 374 0054 0023     		movs	r3, #0
 375 0056 1360     		str	r3, [r2]
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 376              		.loc 1 235 0
 377 0058 7B68     		ldr	r3, [r7, #4]
 378 005a 03F50063 		add	r3, r3, #2048
 379 005e 1A46     		mov	r2, r3
 380 0060 7B68     		ldr	r3, [r7, #4]
 381 0062 03F50063 		add	r3, r3, #2048
 382 0066 1B68     		ldr	r3, [r3]
 383 0068 1360     		str	r3, [r2]
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.phy_itface  == USB_OTG_ULPI_PHY)
 384              		.loc 1 237 0
 385 006a 3B6B     		ldr	r3, [r7, #48]
 386 006c 012B     		cmp	r3, #1
 387 006e 0CD1     		bne	.L17
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if(cfg.speed == USB_OTG_SPEED_HIGH)
 388              		.loc 1 239 0
 389 0070 7B6A     		ldr	r3, [r7, #36]
 390 0072 002B     		cmp	r3, #0
 391 0074 04D1     		bne	.L18
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {      
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set High speed phy */
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_SetDevSpeed (USBx , USB_OTG_SPEED_HIGH);
 392              		.loc 1 242 0
 393 0076 0021     		movs	r1, #0
 394 0078 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 12


 395 007a FFF7FEFF 		bl	USB_SetDevSpeed
 396 007e 08E0     		b	.L20
 397              	.L18:
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else 
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* set High speed phy in Full speed mode */
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_SetDevSpeed (USBx , USB_OTG_SPEED_HIGH_IN_FULL);
 398              		.loc 1 247 0
 399 0080 0121     		movs	r1, #1
 400 0082 7868     		ldr	r0, [r7, #4]
 401 0084 FFF7FEFF 		bl	USB_SetDevSpeed
 402 0088 03E0     		b	.L20
 403              	.L17:
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Full speed phy */
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_SetDevSpeed (USBx , USB_OTG_SPEED_FULL);
 404              		.loc 1 253 0
 405 008a 0321     		movs	r1, #3
 406 008c 7868     		ldr	r0, [r7, #4]
 407 008e FFF7FEFF 		bl	USB_SetDevSpeed
 408              	.L20:
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx , 0x10U); /* all Tx FIFOs */
 409              		.loc 1 257 0
 410 0092 1021     		movs	r1, #16
 411 0094 7868     		ldr	r0, [r7, #4]
 412 0096 FFF7FEFF 		bl	USB_FlushTxFifo
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 413              		.loc 1 258 0
 414 009a 7868     		ldr	r0, [r7, #4]
 415 009c FFF7FEFF 		bl	USB_FlushRxFifo
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 416              		.loc 1 261 0
 417 00a0 7B68     		ldr	r3, [r7, #4]
 418 00a2 03F50063 		add	r3, r3, #2048
 419 00a6 1A46     		mov	r2, r3
 420 00a8 0023     		movs	r3, #0
 421 00aa 1361     		str	r3, [r2, #16]
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 422              		.loc 1 262 0
 423 00ac 7B68     		ldr	r3, [r7, #4]
 424 00ae 03F50063 		add	r3, r3, #2048
 425 00b2 1A46     		mov	r2, r3
 426 00b4 0023     		movs	r3, #0
 427 00b6 5361     		str	r3, [r2, #20]
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 428              		.loc 1 263 0
 429 00b8 7B68     		ldr	r3, [r7, #4]
 430 00ba 03F50063 		add	r3, r3, #2048
ARM GAS  /tmp/ccVcqEjV.s 			page 13


 431 00be 1A46     		mov	r2, r3
 432 00c0 4FF0FF33 		mov	r3, #-1
 433 00c4 9361     		str	r3, [r2, #24]
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 434              		.loc 1 264 0
 435 00c6 7B68     		ldr	r3, [r7, #4]
 436 00c8 03F50063 		add	r3, r3, #2048
 437 00cc 1A46     		mov	r2, r3
 438 00ce 0023     		movs	r3, #0
 439 00d0 D361     		str	r3, [r2, #28]
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 440              		.loc 1 266 0
 441 00d2 0023     		movs	r3, #0
 442 00d4 FB60     		str	r3, [r7, #12]
 443 00d6 31E0     		b	.L21
 444              	.L24:
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 445              		.loc 1 268 0
 446 00d8 FB68     		ldr	r3, [r7, #12]
 447 00da 5A01     		lsls	r2, r3, #5
 448 00dc 7B68     		ldr	r3, [r7, #4]
 449 00de 1344     		add	r3, r3, r2
 450 00e0 03F51063 		add	r3, r3, #2304
 451 00e4 1B68     		ldr	r3, [r3]
 452 00e6 002B     		cmp	r3, #0
 453 00e8 0ADA     		bge	.L22
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = (USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK);
 454              		.loc 1 270 0
 455 00ea FB68     		ldr	r3, [r7, #12]
 456 00ec 5A01     		lsls	r2, r3, #5
 457 00ee 7B68     		ldr	r3, [r7, #4]
 458 00f0 1344     		add	r3, r3, r2
 459 00f2 03F51063 		add	r3, r3, #2304
 460 00f6 1A46     		mov	r2, r3
 461 00f8 4FF09043 		mov	r3, #1207959552
 462 00fc 1360     		str	r3, [r2]
 463 00fe 08E0     		b	.L23
 464              	.L22:
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 465              		.loc 1 274 0
 466 0100 FB68     		ldr	r3, [r7, #12]
 467 0102 5A01     		lsls	r2, r3, #5
 468 0104 7B68     		ldr	r3, [r7, #4]
 469 0106 1344     		add	r3, r3, r2
 470 0108 03F51063 		add	r3, r3, #2304
 471 010c 1A46     		mov	r2, r3
 472 010e 0023     		movs	r3, #0
 473 0110 1360     		str	r3, [r2]
 474              	.L23:
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
ARM GAS  /tmp/ccVcqEjV.s 			page 14


 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 475              		.loc 1 277 0 discriminator 2
 476 0112 FB68     		ldr	r3, [r7, #12]
 477 0114 5A01     		lsls	r2, r3, #5
 478 0116 7B68     		ldr	r3, [r7, #4]
 479 0118 1344     		add	r3, r3, r2
 480 011a 03F51063 		add	r3, r3, #2304
 481 011e 1A46     		mov	r2, r3
 482 0120 0023     		movs	r3, #0
 483 0122 1361     		str	r3, [r2, #16]
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFFU;
 484              		.loc 1 278 0 discriminator 2
 485 0124 FB68     		ldr	r3, [r7, #12]
 486 0126 5A01     		lsls	r2, r3, #5
 487 0128 7B68     		ldr	r3, [r7, #4]
 488 012a 1344     		add	r3, r3, r2
 489 012c 03F51063 		add	r3, r3, #2304
 490 0130 1A46     		mov	r2, r3
 491 0132 FF23     		movs	r3, #255
 492 0134 9360     		str	r3, [r2, #8]
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 493              		.loc 1 266 0 discriminator 2
 494 0136 FB68     		ldr	r3, [r7, #12]
 495 0138 0133     		adds	r3, r3, #1
 496 013a FB60     		str	r3, [r7, #12]
 497              	.L21:
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 498              		.loc 1 266 0 is_stmt 0 discriminator 1
 499 013c FA69     		ldr	r2, [r7, #28]
 500 013e FB68     		ldr	r3, [r7, #12]
 501 0140 9A42     		cmp	r2, r3
 502 0142 C9D8     		bhi	.L24
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 503              		.loc 1 281 0 is_stmt 1
 504 0144 0023     		movs	r3, #0
 505 0146 FB60     		str	r3, [r7, #12]
 506 0148 31E0     		b	.L25
 507              	.L28:
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 508              		.loc 1 283 0
 509 014a FB68     		ldr	r3, [r7, #12]
 510 014c 5A01     		lsls	r2, r3, #5
 511 014e 7B68     		ldr	r3, [r7, #4]
 512 0150 1344     		add	r3, r3, r2
 513 0152 03F53063 		add	r3, r3, #2816
 514 0156 1B68     		ldr	r3, [r3]
 515 0158 002B     		cmp	r3, #0
 516 015a 0ADA     		bge	.L26
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = (USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK);
 517              		.loc 1 285 0
 518 015c FB68     		ldr	r3, [r7, #12]
 519 015e 5A01     		lsls	r2, r3, #5
 520 0160 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 15


 521 0162 1344     		add	r3, r3, r2
 522 0164 03F53063 		add	r3, r3, #2816
 523 0168 1A46     		mov	r2, r3
 524 016a 4FF09043 		mov	r3, #1207959552
 525 016e 1360     		str	r3, [r2]
 526 0170 08E0     		b	.L27
 527              	.L26:
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 528              		.loc 1 289 0
 529 0172 FB68     		ldr	r3, [r7, #12]
 530 0174 5A01     		lsls	r2, r3, #5
 531 0176 7B68     		ldr	r3, [r7, #4]
 532 0178 1344     		add	r3, r3, r2
 533 017a 03F53063 		add	r3, r3, #2816
 534 017e 1A46     		mov	r2, r3
 535 0180 0023     		movs	r3, #0
 536 0182 1360     		str	r3, [r2]
 537              	.L27:
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 538              		.loc 1 292 0 discriminator 2
 539 0184 FB68     		ldr	r3, [r7, #12]
 540 0186 5A01     		lsls	r2, r3, #5
 541 0188 7B68     		ldr	r3, [r7, #4]
 542 018a 1344     		add	r3, r3, r2
 543 018c 03F53063 		add	r3, r3, #2816
 544 0190 1A46     		mov	r2, r3
 545 0192 0023     		movs	r3, #0
 546 0194 1361     		str	r3, [r2, #16]
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFFU;
 547              		.loc 1 293 0 discriminator 2
 548 0196 FB68     		ldr	r3, [r7, #12]
 549 0198 5A01     		lsls	r2, r3, #5
 550 019a 7B68     		ldr	r3, [r7, #4]
 551 019c 1344     		add	r3, r3, r2
 552 019e 03F53063 		add	r3, r3, #2816
 553 01a2 1A46     		mov	r2, r3
 554 01a4 FF23     		movs	r3, #255
 555 01a6 9360     		str	r3, [r2, #8]
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 556              		.loc 1 281 0 discriminator 2
 557 01a8 FB68     		ldr	r3, [r7, #12]
 558 01aa 0133     		adds	r3, r3, #1
 559 01ac FB60     		str	r3, [r7, #12]
 560              	.L25:
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 561              		.loc 1 281 0 is_stmt 0 discriminator 1
 562 01ae FA69     		ldr	r2, [r7, #28]
 563 01b0 FB68     		ldr	r3, [r7, #12]
 564 01b2 9A42     		cmp	r2, r3
 565 01b4 C9D8     		bhi	.L28
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
ARM GAS  /tmp/ccVcqEjV.s 			page 16


 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 566              		.loc 1 296 0 is_stmt 1
 567 01b6 7B68     		ldr	r3, [r7, #4]
 568 01b8 03F50063 		add	r3, r3, #2048
 569 01bc 1A46     		mov	r2, r3
 570 01be 7B68     		ldr	r3, [r7, #4]
 571 01c0 03F50063 		add	r3, r3, #2048
 572 01c4 1B69     		ldr	r3, [r3, #16]
 573 01c6 23F48073 		bic	r3, r3, #256
 574 01ca 1361     		str	r3, [r2, #16]
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 575              		.loc 1 298 0
 576 01cc BB6A     		ldr	r3, [r7, #40]
 577 01ce 012B     		cmp	r3, #1
 578 01d0 17D1     		bne	.L29
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Set threshold parameters */
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL = (USB_OTG_DTHRCTL_TXTHRLEN_6 | USB_OTG_DTHRCTL_RXTHRLEN_6);
 579              		.loc 1 301 0
 580 01d2 7B68     		ldr	r3, [r7, #4]
 581 01d4 03F50063 		add	r3, r3, #2048
 582 01d8 1A46     		mov	r2, r3
 583 01da 234B     		ldr	r3, .L34
 584 01dc 1363     		str	r3, [r2, #48]
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL |= (USB_OTG_DTHRCTL_RXTHREN | USB_OTG_DTHRCTL_ISOTHREN | USB_OTG_DTHRCTL_N
 585              		.loc 1 302 0
 586 01de 7B68     		ldr	r3, [r7, #4]
 587 01e0 03F50063 		add	r3, r3, #2048
 588 01e4 1A46     		mov	r2, r3
 589 01e6 7B68     		ldr	r3, [r7, #4]
 590 01e8 03F50063 		add	r3, r3, #2048
 591 01ec 1B6B     		ldr	r3, [r3, #48]
 592 01ee 43F48033 		orr	r3, r3, #65536
 593 01f2 43F00303 		orr	r3, r3, #3
 594 01f6 1363     		str	r3, [r2, #48]
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     i= USBx_DEVICE->DTHRCTL;
 595              		.loc 1 304 0
 596 01f8 7B68     		ldr	r3, [r7, #4]
 597 01fa 03F50063 		add	r3, r3, #2048
 598 01fe 1B6B     		ldr	r3, [r3, #48]
 599 0200 FB60     		str	r3, [r7, #12]
 600              	.L29:
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 601              		.loc 1 308 0
 602 0202 7B68     		ldr	r3, [r7, #4]
 603 0204 0022     		movs	r2, #0
 604 0206 9A61     		str	r2, [r3, #24]
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 605              		.loc 1 311 0
 606 0208 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 17


 607 020a 6FF08042 		mvn	r2, #1073741824
 608 020e 5A61     		str	r2, [r3, #20]
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == DISABLE)
 609              		.loc 1 314 0
 610 0210 BB6A     		ldr	r3, [r7, #40]
 611 0212 002B     		cmp	r3, #0
 612 0214 05D1     		bne	.L30
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM; 
 613              		.loc 1 316 0
 614 0216 7B68     		ldr	r3, [r7, #4]
 615 0218 9B69     		ldr	r3, [r3, #24]
 616 021a 43F01002 		orr	r2, r3, #16
 617 021e 7B68     		ldr	r3, [r7, #4]
 618 0220 9A61     		str	r2, [r3, #24]
 619              	.L30:
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |\
 620              		.loc 1 320 0
 621 0222 7B68     		ldr	r3, [r7, #4]
 622 0224 9A69     		ldr	r2, [r3, #24]
 623 0226 114B     		ldr	r3, .L34+4
 624 0228 1343     		orrs	r3, r3, r2
 625 022a 7A68     		ldr	r2, [r7, #4]
 626 022c 9361     		str	r3, [r2, #24]
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |\
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM|\
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM);
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.Sof_enable)
 627              		.loc 1 325 0
 628 022e 7B6B     		ldr	r3, [r7, #52]
 629 0230 002B     		cmp	r3, #0
 630 0232 05D0     		beq	.L31
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 631              		.loc 1 327 0
 632 0234 7B68     		ldr	r3, [r7, #4]
 633 0236 9B69     		ldr	r3, [r3, #24]
 634 0238 43F00802 		orr	r2, r3, #8
 635 023c 7B68     		ldr	r3, [r7, #4]
 636 023e 9A61     		str	r2, [r3, #24]
 637              	.L31:
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == ENABLE)
 638              		.loc 1 330 0
 639 0240 7B6C     		ldr	r3, [r7, #68]
 640 0242 012B     		cmp	r3, #1
 641 0244 07D1     		bne	.L32
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT); 
 642              		.loc 1 332 0
ARM GAS  /tmp/ccVcqEjV.s 			page 18


 643 0246 7B68     		ldr	r3, [r7, #4]
 644 0248 9B69     		ldr	r3, [r3, #24]
 645 024a 43F08043 		orr	r3, r3, #1073741824
 646 024e 43F00403 		orr	r3, r3, #4
 647 0252 7A68     		ldr	r2, [r7, #4]
 648 0254 9361     		str	r3, [r2, #24]
 649              	.L32:
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 650              		.loc 1 335 0
 651 0256 0023     		movs	r3, #0
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 652              		.loc 1 336 0
 653 0258 1846     		mov	r0, r3
 654 025a 1037     		adds	r7, r7, #16
 655              	.LCFI29:
 656              		.cfi_def_cfa_offset 24
 657 025c BD46     		mov	sp, r7
 658              	.LCFI30:
 659              		.cfi_def_cfa_register 13
 660              		@ sp needed
 661 025e BDE88040 		pop	{r7, lr}
 662              	.LCFI31:
 663              		.cfi_restore 14
 664              		.cfi_restore 7
 665              		.cfi_def_cfa_offset 16
 666 0262 04B0     		add	sp, sp, #16
 667              	.LCFI32:
 668              		.cfi_def_cfa_offset 0
 669 0264 7047     		bx	lr
 670              	.L35:
 671 0266 00BF     		.align	2
 672              	.L34:
 673 0268 00018000 		.word	8388864
 674 026c 00383C80 		.word	-2143537152
 675              		.cfi_endproc
 676              	.LFE130:
 678              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 679              		.align	2
 680              		.global	USB_FlushTxFifo
 681              		.thumb
 682              		.thumb_func
 684              	USB_FlushTxFifo:
 685              	.LFB131:
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_FlushTxFifo : Flush a Tx FIFO
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num : FIFO number
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo (USB_OTG_GlobalTypeDef *USBx, uint32_t num )
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
ARM GAS  /tmp/ccVcqEjV.s 			page 19


 686              		.loc 1 348 0
 687              		.cfi_startproc
 688              		@ args = 0, pretend = 0, frame = 16
 689              		@ frame_needed = 1, uses_anonymous_args = 0
 690              		@ link register save eliminated.
 691 0000 80B4     		push	{r7}
 692              	.LCFI33:
 693              		.cfi_def_cfa_offset 4
 694              		.cfi_offset 7, -4
 695 0002 85B0     		sub	sp, sp, #20
 696              	.LCFI34:
 697              		.cfi_def_cfa_offset 24
 698 0004 00AF     		add	r7, sp, #0
 699              	.LCFI35:
 700              		.cfi_def_cfa_register 7
 701 0006 7860     		str	r0, [r7, #4]
 702 0008 3960     		str	r1, [r7]
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 703              		.loc 1 349 0
 704 000a 0023     		movs	r3, #0
 705 000c FB60     		str	r3, [r7, #12]
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = ( USB_OTG_GRSTCTL_TXFFLSH |(uint32_t)( num << 6)); 
 706              		.loc 1 351 0
 707 000e 3B68     		ldr	r3, [r7]
 708 0010 9B01     		lsls	r3, r3, #6
 709 0012 43F02002 		orr	r2, r3, #32
 710 0016 7B68     		ldr	r3, [r7, #4]
 711 0018 1A61     		str	r2, [r3, #16]
 712              	.L39:
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 713              		.loc 1 355 0
 714 001a FB68     		ldr	r3, [r7, #12]
 715 001c 0133     		adds	r3, r3, #1
 716 001e FB60     		str	r3, [r7, #12]
 717 0020 FB68     		ldr	r3, [r7, #12]
 718 0022 094A     		ldr	r2, .L40
 719 0024 9342     		cmp	r3, r2
 720 0026 01D9     		bls	.L37
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 721              		.loc 1 357 0
 722 0028 0323     		movs	r3, #3
 723 002a 06E0     		b	.L38
 724              	.L37:
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 725              		.loc 1 360 0
 726 002c 7B68     		ldr	r3, [r7, #4]
 727 002e 1B69     		ldr	r3, [r3, #16]
 728 0030 03F02003 		and	r3, r3, #32
 729 0034 002B     		cmp	r3, #0
 730 0036 F0D1     		bne	.L39
ARM GAS  /tmp/ccVcqEjV.s 			page 20


 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 731              		.loc 1 362 0
 732 0038 0023     		movs	r3, #0
 733              	.L38:
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 734              		.loc 1 363 0
 735 003a 1846     		mov	r0, r3
 736 003c 1437     		adds	r7, r7, #20
 737              	.LCFI36:
 738              		.cfi_def_cfa_offset 4
 739 003e BD46     		mov	sp, r7
 740              	.LCFI37:
 741              		.cfi_def_cfa_register 13
 742              		@ sp needed
 743 0040 5DF8047B 		ldr	r7, [sp], #4
 744              	.LCFI38:
 745              		.cfi_restore 7
 746              		.cfi_def_cfa_offset 0
 747 0044 7047     		bx	lr
 748              	.L41:
 749 0046 00BF     		.align	2
 750              	.L40:
 751 0048 400D0300 		.word	200000
 752              		.cfi_endproc
 753              	.LFE131:
 755              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 756              		.align	2
 757              		.global	USB_FlushRxFifo
 758              		.thumb
 759              		.thumb_func
 761              	USB_FlushRxFifo:
 762              	.LFB132:
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 763              		.loc 1 372 0
 764              		.cfi_startproc
 765              		@ args = 0, pretend = 0, frame = 16
 766              		@ frame_needed = 1, uses_anonymous_args = 0
 767              		@ link register save eliminated.
 768 0000 80B4     		push	{r7}
 769              	.LCFI39:
 770              		.cfi_def_cfa_offset 4
 771              		.cfi_offset 7, -4
 772 0002 85B0     		sub	sp, sp, #20
 773              	.LCFI40:
 774              		.cfi_def_cfa_offset 24
 775 0004 00AF     		add	r7, sp, #0
 776              	.LCFI41:
 777              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccVcqEjV.s 			page 21


 778 0006 7860     		str	r0, [r7, #4]
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 779              		.loc 1 373 0
 780 0008 0023     		movs	r3, #0
 781 000a FB60     		str	r3, [r7, #12]
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 782              		.loc 1 375 0
 783 000c 7B68     		ldr	r3, [r7, #4]
 784 000e 1022     		movs	r2, #16
 785 0010 1A61     		str	r2, [r3, #16]
 786              	.L45:
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 787              		.loc 1 379 0
 788 0012 FB68     		ldr	r3, [r7, #12]
 789 0014 0133     		adds	r3, r3, #1
 790 0016 FB60     		str	r3, [r7, #12]
 791 0018 FB68     		ldr	r3, [r7, #12]
 792 001a 094A     		ldr	r2, .L46
 793 001c 9342     		cmp	r3, r2
 794 001e 01D9     		bls	.L43
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 795              		.loc 1 381 0
 796 0020 0323     		movs	r3, #3
 797 0022 06E0     		b	.L44
 798              	.L43:
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 799              		.loc 1 384 0
 800 0024 7B68     		ldr	r3, [r7, #4]
 801 0026 1B69     		ldr	r3, [r3, #16]
 802 0028 03F01003 		and	r3, r3, #16
 803 002c 002B     		cmp	r3, #0
 804 002e F0D1     		bne	.L45
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 805              		.loc 1 386 0
 806 0030 0023     		movs	r3, #0
 807              	.L44:
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 808              		.loc 1 387 0
 809 0032 1846     		mov	r0, r3
 810 0034 1437     		adds	r7, r7, #20
 811              	.LCFI42:
 812              		.cfi_def_cfa_offset 4
 813 0036 BD46     		mov	sp, r7
 814              	.LCFI43:
 815              		.cfi_def_cfa_register 13
 816              		@ sp needed
 817 0038 5DF8047B 		ldr	r7, [sp], #4
 818              	.LCFI44:
 819              		.cfi_restore 7
ARM GAS  /tmp/ccVcqEjV.s 			page 22


 820              		.cfi_def_cfa_offset 0
 821 003c 7047     		bx	lr
 822              	.L47:
 823 003e 00BF     		.align	2
 824              	.L46:
 825 0040 400D0300 		.word	200000
 826              		.cfi_endproc
 827              	.LFE132:
 829              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 830              		.align	2
 831              		.global	USB_SetDevSpeed
 832              		.thumb
 833              		.thumb_func
 835              	USB_SetDevSpeed:
 836              	.LFB133:
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed :Initializes the DevSpd field of DCFG register 
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed : device speed
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx , uint8_t speed)
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 837              		.loc 1 402 0
 838              		.cfi_startproc
 839              		@ args = 0, pretend = 0, frame = 8
 840              		@ frame_needed = 1, uses_anonymous_args = 0
 841              		@ link register save eliminated.
 842 0000 80B4     		push	{r7}
 843              	.LCFI45:
 844              		.cfi_def_cfa_offset 4
 845              		.cfi_offset 7, -4
 846 0002 83B0     		sub	sp, sp, #12
 847              	.LCFI46:
 848              		.cfi_def_cfa_offset 16
 849 0004 00AF     		add	r7, sp, #0
 850              	.LCFI47:
 851              		.cfi_def_cfa_register 7
 852 0006 7860     		str	r0, [r7, #4]
 853 0008 0B46     		mov	r3, r1
 854 000a FB70     		strb	r3, [r7, #3]
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 855              		.loc 1 403 0
 856 000c 7B68     		ldr	r3, [r7, #4]
 857 000e 03F50063 		add	r3, r3, #2048
 858 0012 1946     		mov	r1, r3
 859 0014 7B68     		ldr	r3, [r7, #4]
 860 0016 03F50063 		add	r3, r3, #2048
 861 001a 1A68     		ldr	r2, [r3]
 862 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccVcqEjV.s 			page 23


 863 001e 1343     		orrs	r3, r3, r2
 864 0020 0B60     		str	r3, [r1]
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 865              		.loc 1 404 0
 866 0022 0023     		movs	r3, #0
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 867              		.loc 1 405 0
 868 0024 1846     		mov	r0, r3
 869 0026 0C37     		adds	r7, r7, #12
 870              	.LCFI48:
 871              		.cfi_def_cfa_offset 4
 872 0028 BD46     		mov	sp, r7
 873              	.LCFI49:
 874              		.cfi_def_cfa_register 13
 875              		@ sp needed
 876 002a 5DF8047B 		ldr	r7, [sp], #4
 877              	.LCFI50:
 878              		.cfi_restore 7
 879              		.cfi_def_cfa_offset 0
 880 002e 7047     		bx	lr
 881              		.cfi_endproc
 882              	.LFE133:
 884              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 885              		.align	2
 886              		.global	USB_GetDevSpeed
 887              		.thumb
 888              		.thumb_func
 890              	USB_GetDevSpeed:
 891              	.LFB134:
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed :Return the  Dev Speed 
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : device speed
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 892              		.loc 1 417 0
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 16
 895              		@ frame_needed = 1, uses_anonymous_args = 0
 896              		@ link register save eliminated.
 897 0000 80B4     		push	{r7}
 898              	.LCFI51:
 899              		.cfi_def_cfa_offset 4
 900              		.cfi_offset 7, -4
 901 0002 85B0     		sub	sp, sp, #20
 902              	.LCFI52:
 903              		.cfi_def_cfa_offset 24
 904 0004 00AF     		add	r7, sp, #0
 905              	.LCFI53:
 906              		.cfi_def_cfa_register 7
 907 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 24


 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed = 0U;
 908              		.loc 1 418 0
 909 0008 0023     		movs	r3, #0
 910 000a FB73     		strb	r3, [r7, #15]
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 911              		.loc 1 420 0
 912 000c 7B68     		ldr	r3, [r7, #4]
 913 000e 03F50063 		add	r3, r3, #2048
 914 0012 9B68     		ldr	r3, [r3, #8]
 915 0014 03F00603 		and	r3, r3, #6
 916 0018 002B     		cmp	r3, #0
 917 001a 02D1     		bne	.L51
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_HIGH;
 918              		.loc 1 422 0
 919 001c 0023     		movs	r3, #0
 920 001e FB73     		strb	r3, [r7, #15]
 921 0020 1CE0     		b	.L52
 922              	.L51:
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ)||
 923              		.loc 1 424 0
 924 0022 7B68     		ldr	r3, [r7, #4]
 925 0024 03F50063 		add	r3, r3, #2048
 926 0028 9B68     		ldr	r3, [r3, #8]
 927 002a 03F00603 		and	r3, r3, #6
 928 002e 022B     		cmp	r3, #2
 929 0030 07D0     		beq	.L53
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_48MHZ))
 930              		.loc 1 425 0 discriminator 1
 931 0032 7B68     		ldr	r3, [r7, #4]
 932 0034 03F50063 		add	r3, r3, #2048
 933 0038 9B68     		ldr	r3, [r3, #8]
 934 003a 03F00603 		and	r3, r3, #6
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_48MHZ))
 935              		.loc 1 424 0 discriminator 1
 936 003e 062B     		cmp	r3, #6
 937 0040 02D1     		bne	.L54
 938              	.L53:
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_FULL;
 939              		.loc 1 427 0
 940 0042 0323     		movs	r3, #3
 941 0044 FB73     		strb	r3, [r7, #15]
 942 0046 09E0     		b	.L52
 943              	.L54:
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 944              		.loc 1 429 0
 945 0048 7B68     		ldr	r3, [r7, #4]
 946 004a 03F50063 		add	r3, r3, #2048
 947 004e 9B68     		ldr	r3, [r3, #8]
 948 0050 03F00603 		and	r3, r3, #6
 949 0054 042B     		cmp	r3, #4
 950 0056 01D1     		bne	.L52
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccVcqEjV.s 			page 25


 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_LOW;
 951              		.loc 1 431 0
 952 0058 0223     		movs	r3, #2
 953 005a FB73     		strb	r3, [r7, #15]
 954              	.L52:
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 955              		.loc 1 434 0
 956 005c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 957              		.loc 1 435 0
 958 005e 1846     		mov	r0, r3
 959 0060 1437     		adds	r7, r7, #20
 960              	.LCFI54:
 961              		.cfi_def_cfa_offset 4
 962 0062 BD46     		mov	sp, r7
 963              	.LCFI55:
 964              		.cfi_def_cfa_register 13
 965              		@ sp needed
 966 0064 5DF8047B 		ldr	r7, [sp], #4
 967              	.LCFI56:
 968              		.cfi_restore 7
 969              		.cfi_def_cfa_offset 0
 970 0068 7047     		bx	lr
 971              		.cfi_endproc
 972              	.LFE134:
 974 006a 00BF     		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 975              		.align	2
 976              		.global	USB_ActivateEndpoint
 977              		.thumb
 978              		.thumb_func
 980              	USB_ActivateEndpoint:
 981              	.LFB135:
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 982              		.loc 1 444 0
 983              		.cfi_startproc
 984              		@ args = 0, pretend = 0, frame = 8
 985              		@ frame_needed = 1, uses_anonymous_args = 0
 986              		@ link register save eliminated.
 987 0000 80B4     		push	{r7}
 988              	.LCFI57:
 989              		.cfi_def_cfa_offset 4
 990              		.cfi_offset 7, -4
 991 0002 83B0     		sub	sp, sp, #12
 992              	.LCFI58:
 993              		.cfi_def_cfa_offset 16
 994 0004 00AF     		add	r7, sp, #0
 995              	.LCFI59:
ARM GAS  /tmp/ccVcqEjV.s 			page 26


 996              		.cfi_def_cfa_register 7
 997 0006 7860     		str	r0, [r7, #4]
 998 0008 3960     		str	r1, [r7]
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 999              		.loc 1 445 0
 1000 000a 3B68     		ldr	r3, [r7]
 1001 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1002 000e 012B     		cmp	r3, #1
 1003 0010 3ED1     		bne	.L57
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num)));
 1004              		.loc 1 447 0
 1005 0012 7B68     		ldr	r3, [r7, #4]
 1006 0014 03F50063 		add	r3, r3, #2048
 1007 0018 1946     		mov	r1, r3
 1008 001a 7B68     		ldr	r3, [r7, #4]
 1009 001c 03F50063 		add	r3, r3, #2048
 1010 0020 DA69     		ldr	r2, [r3, #28]
 1011 0022 3B68     		ldr	r3, [r7]
 1012 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1013 0026 1846     		mov	r0, r3
 1014 0028 0123     		movs	r3, #1
 1015 002a 8340     		lsls	r3, r3, r0
 1016 002c 9BB2     		uxth	r3, r3
 1017 002e 1343     		orrs	r3, r3, r2
 1018 0030 CB61     		str	r3, [r1, #28]
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1019              		.loc 1 449 0
 1020 0032 3B68     		ldr	r3, [r7]
 1021 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1022 0036 5A01     		lsls	r2, r3, #5
 1023 0038 7B68     		ldr	r3, [r7, #4]
 1024 003a 1344     		add	r3, r3, r2
 1025 003c 03F51063 		add	r3, r3, #2304
 1026 0040 1B68     		ldr	r3, [r3]
 1027 0042 03F40043 		and	r3, r3, #32768
 1028 0046 002B     		cmp	r3, #0
 1029 0048 5CD1     		bne	.L59
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) 
 1030              		.loc 1 451 0
 1031 004a 3B68     		ldr	r3, [r7]
 1032 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1033 004e 5A01     		lsls	r2, r3, #5
 1034 0050 7B68     		ldr	r3, [r7, #4]
 1035 0052 1344     		add	r3, r3, r2
 1036 0054 03F51063 		add	r3, r3, #2304
 1037 0058 1846     		mov	r0, r3
 1038 005a 3B68     		ldr	r3, [r7]
 1039 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1040 005e 5A01     		lsls	r2, r3, #5
 1041 0060 7B68     		ldr	r3, [r7, #4]
 1042 0062 1344     		add	r3, r3, r2
 1043 0064 03F51063 		add	r3, r3, #2304
 1044 0068 1A68     		ldr	r2, [r3]
 1045 006a 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccVcqEjV.s 			page 27


 1046 006c 9B68     		ldr	r3, [r3, #8]
 1047 006e C3F30A03 		ubfx	r3, r3, #0, #11
 1048 0072 3968     		ldr	r1, [r7]
 1049 0074 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 1050 0076 8904     		lsls	r1, r1, #18
 1051 0078 0B43     		orrs	r3, r3, r1
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1052              		.loc 1 452 0
 1053 007a 3968     		ldr	r1, [r7]
 1054 007c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1055 007e 8905     		lsls	r1, r1, #22
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1056              		.loc 1 451 0
 1057 0080 0B43     		orrs	r3, r3, r1
 1058 0082 1343     		orrs	r3, r3, r2
 1059 0084 43F08053 		orr	r3, r3, #268435456
 1060 0088 43F40043 		orr	r3, r3, #32768
 1061 008c 0360     		str	r3, [r0]
 1062 008e 39E0     		b	.L59
 1063              	.L57:
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U);
 1064              		.loc 1 457 0
 1065 0090 7B68     		ldr	r3, [r7, #4]
 1066 0092 03F50063 		add	r3, r3, #2048
 1067 0096 1946     		mov	r1, r3
 1068 0098 7B68     		ldr	r3, [r7, #4]
 1069 009a 03F50063 		add	r3, r3, #2048
 1070 009e DA69     		ldr	r2, [r3, #28]
 1071 00a0 3B68     		ldr	r3, [r7]
 1072 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1073 00a4 1846     		mov	r0, r3
 1074 00a6 0123     		movs	r3, #1
 1075 00a8 8340     		lsls	r3, r3, r0
 1076 00aa 1B04     		lsls	r3, r3, #16
 1077 00ac 1343     		orrs	r3, r3, r2
 1078 00ae CB61     		str	r3, [r1, #28]
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1079              		.loc 1 459 0
 1080 00b0 3B68     		ldr	r3, [r7]
 1081 00b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1082 00b4 5A01     		lsls	r2, r3, #5
 1083 00b6 7B68     		ldr	r3, [r7, #4]
 1084 00b8 1344     		add	r3, r3, r2
 1085 00ba 03F53063 		add	r3, r3, #2816
 1086 00be 1B68     		ldr	r3, [r3]
 1087 00c0 03F40043 		and	r3, r3, #32768
 1088 00c4 002B     		cmp	r3, #0
 1089 00c6 1DD1     		bne	.L59
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U)
 1090              		.loc 1 461 0
 1091 00c8 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccVcqEjV.s 			page 28


 1092 00ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1093 00cc 5A01     		lsls	r2, r3, #5
 1094 00ce 7B68     		ldr	r3, [r7, #4]
 1095 00d0 1344     		add	r3, r3, r2
 1096 00d2 03F53063 		add	r3, r3, #2816
 1097 00d6 1846     		mov	r0, r3
 1098 00d8 3B68     		ldr	r3, [r7]
 1099 00da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1100 00dc 5A01     		lsls	r2, r3, #5
 1101 00de 7B68     		ldr	r3, [r7, #4]
 1102 00e0 1344     		add	r3, r3, r2
 1103 00e2 03F53063 		add	r3, r3, #2816
 1104 00e6 1A68     		ldr	r2, [r3]
 1105 00e8 3B68     		ldr	r3, [r7]
 1106 00ea 9B68     		ldr	r3, [r3, #8]
 1107 00ec C3F30A03 		ubfx	r3, r3, #0, #11
 1108 00f0 3968     		ldr	r1, [r7]
 1109 00f2 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 1110 00f4 8904     		lsls	r1, r1, #18
 1111 00f6 0B43     		orrs	r3, r3, r1
 1112 00f8 1343     		orrs	r3, r3, r2
 1113 00fa 43F08053 		orr	r3, r3, #268435456
 1114 00fe 43F40043 		orr	r3, r3, #32768
 1115 0102 0360     		str	r3, [r0]
 1116              	.L59:
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        (USB_OTG_DIEPCTL_SD0PID_SEVNFRM)| (USB_OTG_DOEPCTL_USBAEP));
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1117              		.loc 1 465 0
 1118 0104 0023     		movs	r3, #0
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1119              		.loc 1 466 0
 1120 0106 1846     		mov	r0, r3
 1121 0108 0C37     		adds	r7, r7, #12
 1122              	.LCFI60:
 1123              		.cfi_def_cfa_offset 4
 1124 010a BD46     		mov	sp, r7
 1125              	.LCFI61:
 1126              		.cfi_def_cfa_register 13
 1127              		@ sp needed
 1128 010c 5DF8047B 		ldr	r7, [sp], #4
 1129              	.LCFI62:
 1130              		.cfi_restore 7
 1131              		.cfi_def_cfa_offset 0
 1132 0110 7047     		bx	lr
 1133              		.cfi_endproc
 1134              	.LFE135:
 1136 0112 00BF     		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1137              		.align	2
 1138              		.global	USB_ActivateDedicatedEndpoint
 1139              		.thumb
 1140              		.thumb_func
 1142              	USB_ActivateDedicatedEndpoint:
 1143              	.LFB136:
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
ARM GAS  /tmp/ccVcqEjV.s 			page 29


 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1144              		.loc 1 474 0
 1145              		.cfi_startproc
 1146              		@ args = 0, pretend = 0, frame = 8
 1147              		@ frame_needed = 1, uses_anonymous_args = 0
 1148              		@ link register save eliminated.
 1149 0000 80B4     		push	{r7}
 1150              	.LCFI63:
 1151              		.cfi_def_cfa_offset 4
 1152              		.cfi_offset 7, -4
 1153 0002 83B0     		sub	sp, sp, #12
 1154              	.LCFI64:
 1155              		.cfi_def_cfa_offset 16
 1156 0004 00AF     		add	r7, sp, #0
 1157              	.LCFI65:
 1158              		.cfi_def_cfa_register 7
 1159 0006 7860     		str	r0, [r7, #4]
 1160 0008 3960     		str	r1, [r7]
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   static __IO uint32_t debug = 0U;
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1161              		.loc 1 478 0
 1162 000a 3B68     		ldr	r3, [r7]
 1163 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1164 000e 012B     		cmp	r3, #1
 1165 0010 53D1     		bne	.L62
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1166              		.loc 1 480 0
 1167 0012 3B68     		ldr	r3, [r7]
 1168 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1169 0016 5A01     		lsls	r2, r3, #5
 1170 0018 7B68     		ldr	r3, [r7, #4]
 1171 001a 1344     		add	r3, r3, r2
 1172 001c 03F51063 		add	r3, r3, #2304
 1173 0020 1B68     		ldr	r3, [r3]
 1174 0022 03F40043 		and	r3, r3, #32768
 1175 0026 002B     		cmp	r3, #0
 1176 0028 21D1     		bne	.L63
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) 
 1177              		.loc 1 482 0
 1178 002a 3B68     		ldr	r3, [r7]
 1179 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1180 002e 5A01     		lsls	r2, r3, #5
 1181 0030 7B68     		ldr	r3, [r7, #4]
 1182 0032 1344     		add	r3, r3, r2
 1183 0034 03F51063 		add	r3, r3, #2304
 1184 0038 1846     		mov	r0, r3
 1185 003a 3B68     		ldr	r3, [r7]
 1186 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccVcqEjV.s 			page 30


 1187 003e 5A01     		lsls	r2, r3, #5
 1188 0040 7B68     		ldr	r3, [r7, #4]
 1189 0042 1344     		add	r3, r3, r2
 1190 0044 03F51063 		add	r3, r3, #2304
 1191 0048 1A68     		ldr	r2, [r3]
 1192 004a 3B68     		ldr	r3, [r7]
 1193 004c 9B68     		ldr	r3, [r3, #8]
 1194 004e C3F30A03 		ubfx	r3, r3, #0, #11
 1195 0052 3968     		ldr	r1, [r7]
 1196 0054 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 1197 0056 8904     		lsls	r1, r1, #18
 1198 0058 0B43     		orrs	r3, r3, r1
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1199              		.loc 1 483 0
 1200 005a 3968     		ldr	r1, [r7]
 1201 005c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1202 005e 8905     		lsls	r1, r1, #22
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1203              		.loc 1 482 0
 1204 0060 0B43     		orrs	r3, r3, r1
 1205 0062 1343     		orrs	r3, r3, r2
 1206 0064 43F08053 		orr	r3, r3, #268435456
 1207 0068 43F40043 		orr	r3, r3, #32768
 1208 006c 0360     		str	r3, [r0]
 1209              	.L63:
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     debug  |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) |\
 1210              		.loc 1 487 0
 1211 006e 3B68     		ldr	r3, [r7]
 1212 0070 9B68     		ldr	r3, [r3, #8]
 1213 0072 C3F30A03 		ubfx	r3, r3, #0, #11
 1214 0076 3A68     		ldr	r2, [r7]
 1215 0078 D278     		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 1216 007a 9204     		lsls	r2, r2, #18
 1217 007c 1343     		orrs	r3, r3, r2
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1218              		.loc 1 488 0
 1219 007e 3A68     		ldr	r2, [r7]
 1220 0080 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1221 0082 9205     		lsls	r2, r2, #22
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1222              		.loc 1 487 0
 1223 0084 1A43     		orrs	r2, r2, r3
 1224 0086 3F4B     		ldr	r3, .L67
 1225 0088 1B68     		ldr	r3, [r3]
 1226 008a 1343     		orrs	r3, r3, r2
 1227 008c 43F08053 		orr	r3, r3, #268435456
 1228 0090 43F40043 		orr	r3, r3, #32768
 1229 0094 3B4A     		ldr	r2, .L67
 1230 0096 1360     		str	r3, [r2]
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num)));
 1231              		.loc 1 490 0
 1232 0098 7B68     		ldr	r3, [r7, #4]
 1233 009a 03F50063 		add	r3, r3, #2048
ARM GAS  /tmp/ccVcqEjV.s 			page 31


 1234 009e 1946     		mov	r1, r3
 1235 00a0 7B68     		ldr	r3, [r7, #4]
 1236 00a2 03F50063 		add	r3, r3, #2048
 1237 00a6 DA6B     		ldr	r2, [r3, #60]
 1238 00a8 3B68     		ldr	r3, [r7]
 1239 00aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1240 00ac 1846     		mov	r0, r3
 1241 00ae 0123     		movs	r3, #1
 1242 00b0 8340     		lsls	r3, r3, r0
 1243 00b2 9BB2     		uxth	r3, r3
 1244 00b4 1343     		orrs	r3, r3, r2
 1245 00b6 CB63     		str	r3, [r1, #60]
 1246 00b8 5DE0     		b	.L64
 1247              	.L62:
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1248              		.loc 1 494 0
 1249 00ba 3B68     		ldr	r3, [r7]
 1250 00bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1251 00be 5A01     		lsls	r2, r3, #5
 1252 00c0 7B68     		ldr	r3, [r7, #4]
 1253 00c2 1344     		add	r3, r3, r2
 1254 00c4 03F53063 		add	r3, r3, #2816
 1255 00c8 1B68     		ldr	r3, [r3]
 1256 00ca 03F40043 		and	r3, r3, #32768
 1257 00ce 002B     		cmp	r3, #0
 1258 00d0 41D1     		bne	.L65
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U)
 1259              		.loc 1 496 0
 1260 00d2 3B68     		ldr	r3, [r7]
 1261 00d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1262 00d6 5A01     		lsls	r2, r3, #5
 1263 00d8 7B68     		ldr	r3, [r7, #4]
 1264 00da 1344     		add	r3, r3, r2
 1265 00dc 03F53063 		add	r3, r3, #2816
 1266 00e0 1846     		mov	r0, r3
 1267 00e2 3B68     		ldr	r3, [r7]
 1268 00e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1269 00e6 5A01     		lsls	r2, r3, #5
 1270 00e8 7B68     		ldr	r3, [r7, #4]
 1271 00ea 1344     		add	r3, r3, r2
 1272 00ec 03F53063 		add	r3, r3, #2816
 1273 00f0 1A68     		ldr	r2, [r3]
 1274 00f2 3B68     		ldr	r3, [r7]
 1275 00f4 9B68     		ldr	r3, [r3, #8]
 1276 00f6 C3F30A03 		ubfx	r3, r3, #0, #11
 1277 00fa 3968     		ldr	r1, [r7]
 1278 00fc C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 1279 00fe 8904     		lsls	r1, r1, #18
 1280 0100 0B43     		orrs	r3, r3, r1
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP));
 1281              		.loc 1 497 0
 1282 0102 3968     		ldr	r1, [r7]
 1283 0104 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
ARM GAS  /tmp/ccVcqEjV.s 			page 32


 1284 0106 8905     		lsls	r1, r1, #22
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP));
 1285              		.loc 1 496 0
 1286 0108 0B43     		orrs	r3, r3, r1
 1287 010a 1343     		orrs	r3, r3, r2
 1288 010c 43F40043 		orr	r3, r3, #32768
 1289 0110 0360     		str	r3, [r0]
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug = (uint32_t)(((uint32_t )USBx) + USB_OTG_OUT_ENDPOINT_BASE + (0U)*USB_OTG_EP_REG_SIZE);
 1290              		.loc 1 499 0
 1291 0112 7B68     		ldr	r3, [r7, #4]
 1292 0114 03F53063 		add	r3, r3, #2816
 1293 0118 1A4A     		ldr	r2, .L67
 1294 011a 1360     		str	r3, [r2]
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug = (uint32_t )&USBx_OUTEP(ep->num)->DOEPCTL;
 1295              		.loc 1 500 0
 1296 011c 3B68     		ldr	r3, [r7]
 1297 011e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1298 0120 5A01     		lsls	r2, r3, #5
 1299 0122 7B68     		ldr	r3, [r7, #4]
 1300 0124 1344     		add	r3, r3, r2
 1301 0126 03F53063 		add	r3, r3, #2816
 1302 012a 1A46     		mov	r2, r3
 1303 012c 154B     		ldr	r3, .L67
 1304 012e 1A60     		str	r2, [r3]
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U) |\
 1305              		.loc 1 501 0
 1306 0130 3B68     		ldr	r3, [r7]
 1307 0132 9B68     		ldr	r3, [r3, #8]
 1308 0134 C3F30A03 		ubfx	r3, r3, #0, #11
 1309 0138 3A68     		ldr	r2, [r7]
 1310 013a D278     		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 1311 013c 9204     		lsls	r2, r2, #18
 1312 013e 1343     		orrs	r3, r3, r2
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP)); 
 1313              		.loc 1 502 0
 1314 0140 3A68     		ldr	r2, [r7]
 1315 0142 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1316 0144 9205     		lsls	r2, r2, #22
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U) |\
 1317              		.loc 1 501 0
 1318 0146 1A43     		orrs	r2, r2, r3
 1319 0148 0E4B     		ldr	r3, .L67
 1320 014a 1B68     		ldr	r3, [r3]
 1321 014c 1343     		orrs	r3, r3, r2
 1322 014e 43F40043 		orr	r3, r3, #32768
 1323 0152 0C4A     		ldr	r2, .L67
 1324 0154 1360     		str	r3, [r2]
 1325              	.L65:
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U);
 1326              		.loc 1 505 0
 1327 0156 7B68     		ldr	r3, [r7, #4]
 1328 0158 03F50063 		add	r3, r3, #2048
 1329 015c 1946     		mov	r1, r3
 1330 015e 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 33


 1331 0160 03F50063 		add	r3, r3, #2048
 1332 0164 DA6B     		ldr	r2, [r3, #60]
 1333 0166 3B68     		ldr	r3, [r7]
 1334 0168 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1335 016a 1846     		mov	r0, r3
 1336 016c 0123     		movs	r3, #1
 1337 016e 8340     		lsls	r3, r3, r0
 1338 0170 1B04     		lsls	r3, r3, #16
 1339 0172 1343     		orrs	r3, r3, r2
 1340 0174 CB63     		str	r3, [r1, #60]
 1341              	.L64:
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1342              		.loc 1 508 0
 1343 0176 0023     		movs	r3, #0
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1344              		.loc 1 509 0
 1345 0178 1846     		mov	r0, r3
 1346 017a 0C37     		adds	r7, r7, #12
 1347              	.LCFI66:
 1348              		.cfi_def_cfa_offset 4
 1349 017c BD46     		mov	sp, r7
 1350              	.LCFI67:
 1351              		.cfi_def_cfa_register 13
 1352              		@ sp needed
 1353 017e 5DF8047B 		ldr	r7, [sp], #4
 1354              	.LCFI68:
 1355              		.cfi_restore 7
 1356              		.cfi_def_cfa_offset 0
 1357 0182 7047     		bx	lr
 1358              	.L68:
 1359              		.align	2
 1360              	.L67:
 1361 0184 00000000 		.word	debug.7541
 1362              		.cfi_endproc
 1363              	.LFE136:
 1365              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1366              		.align	2
 1367              		.global	USB_DeactivateEndpoint
 1368              		.thumb
 1369              		.thumb_func
 1371              	USB_DeactivateEndpoint:
 1372              	.LFB137:
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1373              		.loc 1 517 0
 1374              		.cfi_startproc
 1375              		@ args = 0, pretend = 0, frame = 8
 1376              		@ frame_needed = 1, uses_anonymous_args = 0
 1377              		@ link register save eliminated.
ARM GAS  /tmp/ccVcqEjV.s 			page 34


 1378 0000 80B4     		push	{r7}
 1379              	.LCFI69:
 1380              		.cfi_def_cfa_offset 4
 1381              		.cfi_offset 7, -4
 1382 0002 83B0     		sub	sp, sp, #12
 1383              	.LCFI70:
 1384              		.cfi_def_cfa_offset 16
 1385 0004 00AF     		add	r7, sp, #0
 1386              	.LCFI71:
 1387              		.cfi_def_cfa_register 7
 1388 0006 7860     		str	r0, [r7, #4]
 1389 0008 3960     		str	r1, [r7]
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1390              		.loc 1 519 0
 1391 000a 3B68     		ldr	r3, [r7]
 1392 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1393 000e 012B     		cmp	r3, #1
 1394 0010 35D1     		bne	.L70
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num))));
 1395              		.loc 1 521 0
 1396 0012 7B68     		ldr	r3, [r7, #4]
 1397 0014 03F50063 		add	r3, r3, #2048
 1398 0018 1946     		mov	r1, r3
 1399 001a 7B68     		ldr	r3, [r7, #4]
 1400 001c 03F50063 		add	r3, r3, #2048
 1401 0020 DA6B     		ldr	r2, [r3, #60]
 1402 0022 3B68     		ldr	r3, [r7]
 1403 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1404 0026 1846     		mov	r0, r3
 1405 0028 0123     		movs	r3, #1
 1406 002a 8340     		lsls	r3, r3, r0
 1407 002c 9BB2     		uxth	r3, r3
 1408 002e DB43     		mvns	r3, r3
 1409 0030 1340     		ands	r3, r3, r2
 1410 0032 CB63     		str	r3, [r1, #60]
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num))));   
 1411              		.loc 1 522 0
 1412 0034 7B68     		ldr	r3, [r7, #4]
 1413 0036 03F50063 		add	r3, r3, #2048
 1414 003a 1946     		mov	r1, r3
 1415 003c 7B68     		ldr	r3, [r7, #4]
 1416 003e 03F50063 		add	r3, r3, #2048
 1417 0042 DA69     		ldr	r2, [r3, #28]
 1418 0044 3B68     		ldr	r3, [r7]
 1419 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1420 0048 1846     		mov	r0, r3
 1421 004a 0123     		movs	r3, #1
 1422 004c 8340     		lsls	r3, r3, r0
 1423 004e 9BB2     		uxth	r3, r3
 1424 0050 DB43     		mvns	r3, r3
 1425 0052 1340     		ands	r3, r3, r2
 1426 0054 CB61     		str	r3, [r1, #28]
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_INEP(ep->num)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;   
 1427              		.loc 1 523 0
 1428 0056 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccVcqEjV.s 			page 35


 1429 0058 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1430 005a 5A01     		lsls	r2, r3, #5
 1431 005c 7B68     		ldr	r3, [r7, #4]
 1432 005e 1344     		add	r3, r3, r2
 1433 0060 03F51063 		add	r3, r3, #2304
 1434 0064 1946     		mov	r1, r3
 1435 0066 3B68     		ldr	r3, [r7]
 1436 0068 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1437 006a 5A01     		lsls	r2, r3, #5
 1438 006c 7B68     		ldr	r3, [r7, #4]
 1439 006e 1344     		add	r3, r3, r2
 1440 0070 03F51063 		add	r3, r3, #2304
 1441 0074 1B68     		ldr	r3, [r3]
 1442 0076 23F40043 		bic	r3, r3, #32768
 1443 007a 0B60     		str	r3, [r1]
 1444 007c 34E0     		b	.L71
 1445              	.L70:
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U));
 1446              		.loc 1 527 0
 1447 007e 7B68     		ldr	r3, [r7, #4]
 1448 0080 03F50063 		add	r3, r3, #2048
 1449 0084 1946     		mov	r1, r3
 1450 0086 7B68     		ldr	r3, [r7, #4]
 1451 0088 03F50063 		add	r3, r3, #2048
 1452 008c DA6B     		ldr	r2, [r3, #60]
 1453 008e 3B68     		ldr	r3, [r7]
 1454 0090 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1455 0092 1846     		mov	r0, r3
 1456 0094 0123     		movs	r3, #1
 1457 0096 8340     		lsls	r3, r3, r0
 1458 0098 1B04     		lsls	r3, r3, #16
 1459 009a DB43     		mvns	r3, r3
 1460 009c 1340     		ands	r3, r3, r2
 1461 009e CB63     		str	r3, [r1, #60]
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U));     
 1462              		.loc 1 528 0
 1463 00a0 7B68     		ldr	r3, [r7, #4]
 1464 00a2 03F50063 		add	r3, r3, #2048
 1465 00a6 1946     		mov	r1, r3
 1466 00a8 7B68     		ldr	r3, [r7, #4]
 1467 00aa 03F50063 		add	r3, r3, #2048
 1468 00ae DA69     		ldr	r2, [r3, #28]
 1469 00b0 3B68     		ldr	r3, [r7]
 1470 00b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1471 00b4 1846     		mov	r0, r3
 1472 00b6 0123     		movs	r3, #1
 1473 00b8 8340     		lsls	r3, r3, r0
 1474 00ba 1B04     		lsls	r3, r3, #16
 1475 00bc DB43     		mvns	r3, r3
 1476 00be 1340     		ands	r3, r3, r2
 1477 00c0 CB61     		str	r3, [r1, #28]
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;      
 1478              		.loc 1 529 0
 1479 00c2 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccVcqEjV.s 			page 36


 1480 00c4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1481 00c6 5A01     		lsls	r2, r3, #5
 1482 00c8 7B68     		ldr	r3, [r7, #4]
 1483 00ca 1344     		add	r3, r3, r2
 1484 00cc 03F53063 		add	r3, r3, #2816
 1485 00d0 1946     		mov	r1, r3
 1486 00d2 3B68     		ldr	r3, [r7]
 1487 00d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1488 00d6 5A01     		lsls	r2, r3, #5
 1489 00d8 7B68     		ldr	r3, [r7, #4]
 1490 00da 1344     		add	r3, r3, r2
 1491 00dc 03F53063 		add	r3, r3, #2816
 1492 00e0 1B68     		ldr	r3, [r3]
 1493 00e2 23F40043 		bic	r3, r3, #32768
 1494 00e6 0B60     		str	r3, [r1]
 1495              	.L71:
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1496              		.loc 1 531 0
 1497 00e8 0023     		movs	r3, #0
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1498              		.loc 1 532 0
 1499 00ea 1846     		mov	r0, r3
 1500 00ec 0C37     		adds	r7, r7, #12
 1501              	.LCFI72:
 1502              		.cfi_def_cfa_offset 4
 1503 00ee BD46     		mov	sp, r7
 1504              	.LCFI73:
 1505              		.cfi_def_cfa_register 13
 1506              		@ sp needed
 1507 00f0 5DF8047B 		ldr	r7, [sp], #4
 1508              	.LCFI74:
 1509              		.cfi_restore 7
 1510              		.cfi_def_cfa_offset 0
 1511 00f4 7047     		bx	lr
 1512              		.cfi_endproc
 1513              	.LFE137:
 1515 00f6 00BF     		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 1516              		.align	2
 1517              		.global	USB_DeactivateDedicatedEndpoint
 1518              		.thumb
 1519              		.thumb_func
 1521              	USB_DeactivateDedicatedEndpoint:
 1522              	.LFB138:
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1523              		.loc 1 541 0
 1524              		.cfi_startproc
 1525              		@ args = 0, pretend = 0, frame = 8
 1526              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccVcqEjV.s 			page 37


 1527              		@ link register save eliminated.
 1528 0000 80B4     		push	{r7}
 1529              	.LCFI75:
 1530              		.cfi_def_cfa_offset 4
 1531              		.cfi_offset 7, -4
 1532 0002 83B0     		sub	sp, sp, #12
 1533              	.LCFI76:
 1534              		.cfi_def_cfa_offset 16
 1535 0004 00AF     		add	r7, sp, #0
 1536              	.LCFI77:
 1537              		.cfi_def_cfa_register 7
 1538 0006 7860     		str	r0, [r7, #4]
 1539 0008 3960     		str	r1, [r7]
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1540              		.loc 1 543 0
 1541 000a 3B68     		ldr	r3, [r7]
 1542 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1543 000e 012B     		cmp	r3, #1
 1544 0010 24D1     		bne	.L74
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_INEP(ep->num)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 1545              		.loc 1 545 0
 1546 0012 3B68     		ldr	r3, [r7]
 1547 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1548 0016 5A01     		lsls	r2, r3, #5
 1549 0018 7B68     		ldr	r3, [r7, #4]
 1550 001a 1344     		add	r3, r3, r2
 1551 001c 03F51063 		add	r3, r3, #2304
 1552 0020 1946     		mov	r1, r3
 1553 0022 3B68     		ldr	r3, [r7]
 1554 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1555 0026 5A01     		lsls	r2, r3, #5
 1556 0028 7B68     		ldr	r3, [r7, #4]
 1557 002a 1344     		add	r3, r3, r2
 1558 002c 03F51063 		add	r3, r3, #2304
 1559 0030 1B68     		ldr	r3, [r3]
 1560 0032 23F40043 		bic	r3, r3, #32768
 1561 0036 0B60     		str	r3, [r1]
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num))));
 1562              		.loc 1 546 0
 1563 0038 7B68     		ldr	r3, [r7, #4]
 1564 003a 03F50063 		add	r3, r3, #2048
 1565 003e 1946     		mov	r1, r3
 1566 0040 7B68     		ldr	r3, [r7, #4]
 1567 0042 03F50063 		add	r3, r3, #2048
 1568 0046 DA69     		ldr	r2, [r3, #28]
 1569 0048 3B68     		ldr	r3, [r7]
 1570 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1571 004c 1846     		mov	r0, r3
 1572 004e 0123     		movs	r3, #1
 1573 0050 8340     		lsls	r3, r3, r0
 1574 0052 9BB2     		uxth	r3, r3
 1575 0054 DB43     		mvns	r3, r3
 1576 0056 1340     		ands	r3, r3, r2
 1577 0058 CB61     		str	r3, [r1, #28]
 1578 005a 23E0     		b	.L75
ARM GAS  /tmp/ccVcqEjV.s 			page 38


 1579              	.L74:
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP; 
 1580              		.loc 1 550 0
 1581 005c 3B68     		ldr	r3, [r7]
 1582 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1583 0060 5A01     		lsls	r2, r3, #5
 1584 0062 7B68     		ldr	r3, [r7, #4]
 1585 0064 1344     		add	r3, r3, r2
 1586 0066 03F53063 		add	r3, r3, #2816
 1587 006a 1946     		mov	r1, r3
 1588 006c 3B68     		ldr	r3, [r7]
 1589 006e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1590 0070 5A01     		lsls	r2, r3, #5
 1591 0072 7B68     		ldr	r3, [r7, #4]
 1592 0074 1344     		add	r3, r3, r2
 1593 0076 03F53063 		add	r3, r3, #2816
 1594 007a 1B68     		ldr	r3, [r3]
 1595 007c 23F40043 		bic	r3, r3, #32768
 1596 0080 0B60     		str	r3, [r1]
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U));
 1597              		.loc 1 551 0
 1598 0082 7B68     		ldr	r3, [r7, #4]
 1599 0084 03F50063 		add	r3, r3, #2048
 1600 0088 1946     		mov	r1, r3
 1601 008a 7B68     		ldr	r3, [r7, #4]
 1602 008c 03F50063 		add	r3, r3, #2048
 1603 0090 DA69     		ldr	r2, [r3, #28]
 1604 0092 3B68     		ldr	r3, [r7]
 1605 0094 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1606 0096 1846     		mov	r0, r3
 1607 0098 0123     		movs	r3, #1
 1608 009a 8340     		lsls	r3, r3, r0
 1609 009c 1B04     		lsls	r3, r3, #16
 1610 009e DB43     		mvns	r3, r3
 1611 00a0 1340     		ands	r3, r3, r2
 1612 00a2 CB61     		str	r3, [r1, #28]
 1613              	.L75:
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1614              		.loc 1 553 0
 1615 00a4 0023     		movs	r3, #0
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1616              		.loc 1 554 0
 1617 00a6 1846     		mov	r0, r3
 1618 00a8 0C37     		adds	r7, r7, #12
 1619              	.LCFI78:
 1620              		.cfi_def_cfa_offset 4
 1621 00aa BD46     		mov	sp, r7
 1622              	.LCFI79:
 1623              		.cfi_def_cfa_register 13
 1624              		@ sp needed
 1625 00ac 5DF8047B 		ldr	r7, [sp], #4
 1626              	.LCFI80:
 1627              		.cfi_restore 7
ARM GAS  /tmp/ccVcqEjV.s 			page 39


 1628              		.cfi_def_cfa_offset 0
 1629 00b0 7047     		bx	lr
 1630              		.cfi_endproc
 1631              	.LFE138:
 1633 00b2 00BF     		.section	.text.USB_EPStartXfer,"ax",%progbits
 1634              		.align	2
 1635              		.global	USB_EPStartXfer
 1636              		.thumb
 1637              		.thumb_func
 1639              	USB_EPStartXfer:
 1640              	.LFB139:
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma: USB dma enabled or disabled 
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep, uint8_t dma)
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1641              		.loc 1 567 0
 1642              		.cfi_startproc
 1643              		@ args = 0, pretend = 0, frame = 24
 1644              		@ frame_needed = 1, uses_anonymous_args = 0
 1645 0000 80B5     		push	{r7, lr}
 1646              	.LCFI81:
 1647              		.cfi_def_cfa_offset 8
 1648              		.cfi_offset 7, -8
 1649              		.cfi_offset 14, -4
 1650 0002 88B0     		sub	sp, sp, #32
 1651              	.LCFI82:
 1652              		.cfi_def_cfa_offset 40
 1653 0004 02AF     		add	r7, sp, #8
 1654              	.LCFI83:
 1655              		.cfi_def_cfa 7, 32
 1656 0006 F860     		str	r0, [r7, #12]
 1657 0008 B960     		str	r1, [r7, #8]
 1658 000a 1346     		mov	r3, r2
 1659 000c FB71     		strb	r3, [r7, #7]
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt = 0U;
 1660              		.loc 1 568 0
 1661 000e 0023     		movs	r3, #0
 1662 0010 FB82     		strh	r3, [r7, #22]	@ movhi
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1663              		.loc 1 571 0
 1664 0012 BB68     		ldr	r3, [r7, #8]
 1665 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1666 0016 012B     		cmp	r3, #1
 1667 0018 40F04681 		bne	.L78
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
ARM GAS  /tmp/ccVcqEjV.s 			page 40


 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 1668              		.loc 1 574 0
 1669 001c BB68     		ldr	r3, [r7, #8]
 1670 001e 5B69     		ldr	r3, [r3, #20]
 1671 0020 002B     		cmp	r3, #0
 1672 0022 3BD1     		bne	.L79
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 1673              		.loc 1 576 0
 1674 0024 BB68     		ldr	r3, [r7, #8]
 1675 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1676 0028 5A01     		lsls	r2, r3, #5
 1677 002a FB68     		ldr	r3, [r7, #12]
 1678 002c 1344     		add	r3, r3, r2
 1679 002e 03F51063 		add	r3, r3, #2304
 1680 0032 1946     		mov	r1, r3
 1681 0034 BB68     		ldr	r3, [r7, #8]
 1682 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1683 0038 5A01     		lsls	r2, r3, #5
 1684 003a FB68     		ldr	r3, [r7, #12]
 1685 003c 1344     		add	r3, r3, r2
 1686 003e 03F51063 		add	r3, r3, #2304
 1687 0042 1B69     		ldr	r3, [r3, #16]
 1688 0044 23F0FF53 		bic	r3, r3, #534773760
 1689 0048 23F4C013 		bic	r3, r3, #1572864
 1690 004c 0B61     		str	r3, [r1, #16]
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 1691              		.loc 1 577 0
 1692 004e BB68     		ldr	r3, [r7, #8]
 1693 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1694 0052 5A01     		lsls	r2, r3, #5
 1695 0054 FB68     		ldr	r3, [r7, #12]
 1696 0056 1344     		add	r3, r3, r2
 1697 0058 03F51063 		add	r3, r3, #2304
 1698 005c 1946     		mov	r1, r3
 1699 005e BB68     		ldr	r3, [r7, #8]
 1700 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1701 0062 5A01     		lsls	r2, r3, #5
 1702 0064 FB68     		ldr	r3, [r7, #12]
 1703 0066 1344     		add	r3, r3, r2
 1704 0068 03F51063 		add	r3, r3, #2304
 1705 006c 1B69     		ldr	r3, [r3, #16]
 1706 006e 43F40023 		orr	r3, r3, #524288
 1707 0072 0B61     		str	r3, [r1, #16]
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 1708              		.loc 1 578 0
 1709 0074 BB68     		ldr	r3, [r7, #8]
 1710 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1711 0078 5A01     		lsls	r2, r3, #5
 1712 007a FB68     		ldr	r3, [r7, #12]
 1713 007c 1344     		add	r3, r3, r2
 1714 007e 03F51063 		add	r3, r3, #2304
 1715 0082 1946     		mov	r1, r3
 1716 0084 BB68     		ldr	r3, [r7, #8]
 1717 0086 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1718 0088 5A01     		lsls	r2, r3, #5
 1719 008a FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccVcqEjV.s 			page 41


 1720 008c 1344     		add	r3, r3, r2
 1721 008e 03F51063 		add	r3, r3, #2304
 1722 0092 1B69     		ldr	r3, [r3, #16]
 1723 0094 DB0C     		lsrs	r3, r3, #19
 1724 0096 DB04     		lsls	r3, r3, #19
 1725 0098 0B61     		str	r3, [r1, #16]
 1726 009a 86E0     		b	.L80
 1727              	.L79:
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 1728              		.loc 1 587 0
 1729 009c BB68     		ldr	r3, [r7, #8]
 1730 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1731 00a0 5A01     		lsls	r2, r3, #5
 1732 00a2 FB68     		ldr	r3, [r7, #12]
 1733 00a4 1344     		add	r3, r3, r2
 1734 00a6 03F51063 		add	r3, r3, #2304
 1735 00aa 1946     		mov	r1, r3
 1736 00ac BB68     		ldr	r3, [r7, #8]
 1737 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1738 00b0 5A01     		lsls	r2, r3, #5
 1739 00b2 FB68     		ldr	r3, [r7, #12]
 1740 00b4 1344     		add	r3, r3, r2
 1741 00b6 03F51063 		add	r3, r3, #2304
 1742 00ba 1B69     		ldr	r3, [r3, #16]
 1743 00bc DB0C     		lsrs	r3, r3, #19
 1744 00be DB04     		lsls	r3, r3, #19
 1745 00c0 0B61     		str	r3, [r1, #16]
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 1746              		.loc 1 588 0
 1747 00c2 BB68     		ldr	r3, [r7, #8]
 1748 00c4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1749 00c6 5A01     		lsls	r2, r3, #5
 1750 00c8 FB68     		ldr	r3, [r7, #12]
 1751 00ca 1344     		add	r3, r3, r2
 1752 00cc 03F51063 		add	r3, r3, #2304
 1753 00d0 1946     		mov	r1, r3
 1754 00d2 BB68     		ldr	r3, [r7, #8]
 1755 00d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1756 00d6 5A01     		lsls	r2, r3, #5
 1757 00d8 FB68     		ldr	r3, [r7, #12]
 1758 00da 1344     		add	r3, r3, r2
 1759 00dc 03F51063 		add	r3, r3, #2304
 1760 00e0 1B69     		ldr	r3, [r3, #16]
 1761 00e2 23F0FF53 		bic	r3, r3, #534773760
 1762 00e6 23F4C013 		bic	r3, r3, #1572864
 1763 00ea 0B61     		str	r3, [r1, #16]
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (((ep->xfer_len + ep->maxpacket -1
 1764              		.loc 1 589 0
 1765 00ec BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccVcqEjV.s 			page 42


 1766 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1767 00f0 5A01     		lsls	r2, r3, #5
 1768 00f2 FB68     		ldr	r3, [r7, #12]
 1769 00f4 1344     		add	r3, r3, r2
 1770 00f6 03F51063 		add	r3, r3, #2304
 1771 00fa 1846     		mov	r0, r3
 1772 00fc BB68     		ldr	r3, [r7, #8]
 1773 00fe 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1774 0100 5A01     		lsls	r2, r3, #5
 1775 0102 FB68     		ldr	r3, [r7, #12]
 1776 0104 1344     		add	r3, r3, r2
 1777 0106 03F51063 		add	r3, r3, #2304
 1778 010a 1A69     		ldr	r2, [r3, #16]
 1779 010c BB68     		ldr	r3, [r7, #8]
 1780 010e 5969     		ldr	r1, [r3, #20]
 1781 0110 BB68     		ldr	r3, [r7, #8]
 1782 0112 9B68     		ldr	r3, [r3, #8]
 1783 0114 0B44     		add	r3, r3, r1
 1784 0116 591E     		subs	r1, r3, #1
 1785 0118 BB68     		ldr	r3, [r7, #8]
 1786 011a 9B68     		ldr	r3, [r3, #8]
 1787 011c B1FBF3F3 		udiv	r3, r1, r3
 1788 0120 D904     		lsls	r1, r3, #19
 1789 0122 8C4B     		ldr	r3, .L93
 1790 0124 0B40     		ands	r3, r3, r1
 1791 0126 1343     		orrs	r3, r3, r2
 1792 0128 0361     		str	r3, [r0, #16]
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 1793              		.loc 1 590 0
 1794 012a BB68     		ldr	r3, [r7, #8]
 1795 012c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1796 012e 5A01     		lsls	r2, r3, #5
 1797 0130 FB68     		ldr	r3, [r7, #12]
 1798 0132 1344     		add	r3, r3, r2
 1799 0134 03F51063 		add	r3, r3, #2304
 1800 0138 1946     		mov	r1, r3
 1801 013a BB68     		ldr	r3, [r7, #8]
 1802 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1803 013e 5A01     		lsls	r2, r3, #5
 1804 0140 FB68     		ldr	r3, [r7, #12]
 1805 0142 1344     		add	r3, r3, r2
 1806 0144 03F51063 		add	r3, r3, #2304
 1807 0148 1A69     		ldr	r2, [r3, #16]
 1808 014a BB68     		ldr	r3, [r7, #8]
 1809 014c 5B69     		ldr	r3, [r3, #20]
 1810 014e C3F31203 		ubfx	r3, r3, #0, #19
 1811 0152 1343     		orrs	r3, r3, r2
 1812 0154 0B61     		str	r3, [r1, #16]
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 1813              		.loc 1 592 0
 1814 0156 BB68     		ldr	r3, [r7, #8]
 1815 0158 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1816 015a 012B     		cmp	r3, #1
 1817 015c 25D1     		bne	.L80
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT); 
ARM GAS  /tmp/ccVcqEjV.s 			page 43


 1818              		.loc 1 594 0
 1819 015e BB68     		ldr	r3, [r7, #8]
 1820 0160 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1821 0162 5A01     		lsls	r2, r3, #5
 1822 0164 FB68     		ldr	r3, [r7, #12]
 1823 0166 1344     		add	r3, r3, r2
 1824 0168 03F51063 		add	r3, r3, #2304
 1825 016c 1946     		mov	r1, r3
 1826 016e BB68     		ldr	r3, [r7, #8]
 1827 0170 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1828 0172 5A01     		lsls	r2, r3, #5
 1829 0174 FB68     		ldr	r3, [r7, #12]
 1830 0176 1344     		add	r3, r3, r2
 1831 0178 03F51063 		add	r3, r3, #2304
 1832 017c 1B69     		ldr	r3, [r3, #16]
 1833 017e 23F0C043 		bic	r3, r3, #1610612736
 1834 0182 0B61     		str	r3, [r1, #16]
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29U)); 
 1835              		.loc 1 595 0
 1836 0184 BB68     		ldr	r3, [r7, #8]
 1837 0186 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1838 0188 5A01     		lsls	r2, r3, #5
 1839 018a FB68     		ldr	r3, [r7, #12]
 1840 018c 1344     		add	r3, r3, r2
 1841 018e 03F51063 		add	r3, r3, #2304
 1842 0192 1946     		mov	r1, r3
 1843 0194 BB68     		ldr	r3, [r7, #8]
 1844 0196 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1845 0198 5A01     		lsls	r2, r3, #5
 1846 019a FB68     		ldr	r3, [r7, #12]
 1847 019c 1344     		add	r3, r3, r2
 1848 019e 03F51063 		add	r3, r3, #2304
 1849 01a2 1B69     		ldr	r3, [r3, #16]
 1850 01a4 43F00053 		orr	r3, r3, #536870912
 1851 01a8 0B61     		str	r3, [r1, #16]
 1852              	.L80:
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }       
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 1853              		.loc 1 599 0
 1854 01aa FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1855 01ac 012B     		cmp	r3, #1
 1856 01ae 0BD1     		bne	.L81
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPDMA = (uint32_t)(ep->dma_addr);
 1857              		.loc 1 601 0
 1858 01b0 BB68     		ldr	r3, [r7, #8]
 1859 01b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1860 01b4 5A01     		lsls	r2, r3, #5
 1861 01b6 FB68     		ldr	r3, [r7, #12]
 1862 01b8 1344     		add	r3, r3, r2
 1863 01ba 03F51063 		add	r3, r3, #2304
 1864 01be 1A46     		mov	r2, r3
 1865 01c0 BB68     		ldr	r3, [r7, #8]
 1866 01c2 1B69     		ldr	r3, [r3, #16]
 1867 01c4 5361     		str	r3, [r2, #20]
ARM GAS  /tmp/ccVcqEjV.s 			page 44


 1868 01c6 16E0     		b	.L82
 1869              	.L81:
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 1870              		.loc 1 605 0
 1871 01c8 BB68     		ldr	r3, [r7, #8]
 1872 01ca DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1873 01cc 012B     		cmp	r3, #1
 1874 01ce 12D0     		beq	.L82
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 1875              		.loc 1 608 0
 1876 01d0 BB68     		ldr	r3, [r7, #8]
 1877 01d2 5B69     		ldr	r3, [r3, #20]
 1878 01d4 002B     		cmp	r3, #0
 1879 01d6 0ED0     		beq	.L82
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1U << ep->num;
 1880              		.loc 1 610 0
 1881 01d8 FB68     		ldr	r3, [r7, #12]
 1882 01da 03F50063 		add	r3, r3, #2048
 1883 01de 1946     		mov	r1, r3
 1884 01e0 FB68     		ldr	r3, [r7, #12]
 1885 01e2 03F50063 		add	r3, r3, #2048
 1886 01e6 5A6B     		ldr	r2, [r3, #52]
 1887 01e8 BB68     		ldr	r3, [r7, #8]
 1888 01ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1889 01ec 1846     		mov	r0, r3
 1890 01ee 0123     		movs	r3, #1
 1891 01f0 8340     		lsls	r3, r3, r0
 1892 01f2 1343     		orrs	r3, r3, r2
 1893 01f4 4B63     		str	r3, [r1, #52]
 1894              	.L82:
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 1895              		.loc 1 615 0
 1896 01f6 BB68     		ldr	r3, [r7, #8]
 1897 01f8 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1898 01fa 012B     		cmp	r3, #1
 1899 01fc 2ED1     		bne	.L83
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & ( 1U << 8U )) == 0U)
 1900              		.loc 1 617 0
 1901 01fe FB68     		ldr	r3, [r7, #12]
 1902 0200 03F50063 		add	r3, r3, #2048
 1903 0204 9B68     		ldr	r3, [r3, #8]
 1904 0206 03F48073 		and	r3, r3, #256
 1905 020a 002B     		cmp	r3, #0
 1906 020c 13D1     		bne	.L84
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
ARM GAS  /tmp/ccVcqEjV.s 			page 45


 1907              		.loc 1 619 0
 1908 020e BB68     		ldr	r3, [r7, #8]
 1909 0210 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1910 0212 5A01     		lsls	r2, r3, #5
 1911 0214 FB68     		ldr	r3, [r7, #12]
 1912 0216 1344     		add	r3, r3, r2
 1913 0218 03F51063 		add	r3, r3, #2304
 1914 021c 1946     		mov	r1, r3
 1915 021e BB68     		ldr	r3, [r7, #8]
 1916 0220 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1917 0222 5A01     		lsls	r2, r3, #5
 1918 0224 FB68     		ldr	r3, [r7, #12]
 1919 0226 1344     		add	r3, r3, r2
 1920 0228 03F51063 		add	r3, r3, #2304
 1921 022c 1B68     		ldr	r3, [r3]
 1922 022e 43F00053 		orr	r3, r3, #536870912
 1923 0232 0B60     		str	r3, [r1]
 1924 0234 12E0     		b	.L83
 1925              	.L84:
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 1926              		.loc 1 623 0
 1927 0236 BB68     		ldr	r3, [r7, #8]
 1928 0238 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1929 023a 5A01     		lsls	r2, r3, #5
 1930 023c FB68     		ldr	r3, [r7, #12]
 1931 023e 1344     		add	r3, r3, r2
 1932 0240 03F51063 		add	r3, r3, #2304
 1933 0244 1946     		mov	r1, r3
 1934 0246 BB68     		ldr	r3, [r7, #8]
 1935 0248 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1936 024a 5A01     		lsls	r2, r3, #5
 1937 024c FB68     		ldr	r3, [r7, #12]
 1938 024e 1344     		add	r3, r3, r2
 1939 0250 03F51063 		add	r3, r3, #2304
 1940 0254 1B68     		ldr	r3, [r3]
 1941 0256 43F08053 		orr	r3, r3, #268435456
 1942 025a 0B60     		str	r3, [r1]
 1943              	.L83:
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 1944              		.loc 1 628 0
 1945 025c BB68     		ldr	r3, [r7, #8]
 1946 025e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1947 0260 5A01     		lsls	r2, r3, #5
 1948 0262 FB68     		ldr	r3, [r7, #12]
 1949 0264 1344     		add	r3, r3, r2
 1950 0266 03F51063 		add	r3, r3, #2304
 1951 026a 1946     		mov	r1, r3
 1952 026c BB68     		ldr	r3, [r7, #8]
 1953 026e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1954 0270 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccVcqEjV.s 			page 46


 1955 0272 FB68     		ldr	r3, [r7, #12]
 1956 0274 1344     		add	r3, r3, r2
 1957 0276 03F51063 		add	r3, r3, #2304
 1958 027a 1B68     		ldr	r3, [r3]
 1959 027c 43F00443 		orr	r3, r3, #-2080374784
 1960 0280 0B60     		str	r3, [r1]
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 1961              		.loc 1 630 0
 1962 0282 BB68     		ldr	r3, [r7, #8]
 1963 0284 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1964 0286 012B     		cmp	r3, #1
 1965 0288 40F0F580 		bne	.L86
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_WritePacket(USBx, ep->xfer_buff, ep->num, ep->xfer_len, dma);   
 1966              		.loc 1 632 0
 1967 028c BB68     		ldr	r3, [r7, #8]
 1968 028e D968     		ldr	r1, [r3, #12]
 1969 0290 BB68     		ldr	r3, [r7, #8]
 1970 0292 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1971 0294 BB68     		ldr	r3, [r7, #8]
 1972 0296 5B69     		ldr	r3, [r3, #20]
 1973 0298 98B2     		uxth	r0, r3
 1974 029a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1975 029c 0093     		str	r3, [sp]
 1976 029e 0346     		mov	r3, r0
 1977 02a0 F868     		ldr	r0, [r7, #12]
 1978 02a2 FFF7FEFF 		bl	USB_WritePacket
 1979 02a6 E6E0     		b	.L86
 1980              	.L78:
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */  
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ); 
 1981              		.loc 1 641 0
 1982 02a8 BB68     		ldr	r3, [r7, #8]
 1983 02aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1984 02ac 5A01     		lsls	r2, r3, #5
 1985 02ae FB68     		ldr	r3, [r7, #12]
 1986 02b0 1344     		add	r3, r3, r2
 1987 02b2 03F53063 		add	r3, r3, #2816
 1988 02b6 1946     		mov	r1, r3
 1989 02b8 BB68     		ldr	r3, [r7, #8]
 1990 02ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1991 02bc 5A01     		lsls	r2, r3, #5
 1992 02be FB68     		ldr	r3, [r7, #12]
 1993 02c0 1344     		add	r3, r3, r2
 1994 02c2 03F53063 		add	r3, r3, #2816
 1995 02c6 1B69     		ldr	r3, [r3, #16]
 1996 02c8 DB0C     		lsrs	r3, r3, #19
 1997 02ca DB04     		lsls	r3, r3, #19
 1998 02cc 0B61     		str	r3, [r1, #16]
ARM GAS  /tmp/ccVcqEjV.s 			page 47


 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 1999              		.loc 1 642 0
 2000 02ce BB68     		ldr	r3, [r7, #8]
 2001 02d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2002 02d2 5A01     		lsls	r2, r3, #5
 2003 02d4 FB68     		ldr	r3, [r7, #12]
 2004 02d6 1344     		add	r3, r3, r2
 2005 02d8 03F53063 		add	r3, r3, #2816
 2006 02dc 1946     		mov	r1, r3
 2007 02de BB68     		ldr	r3, [r7, #8]
 2008 02e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2009 02e2 5A01     		lsls	r2, r3, #5
 2010 02e4 FB68     		ldr	r3, [r7, #12]
 2011 02e6 1344     		add	r3, r3, r2
 2012 02e8 03F53063 		add	r3, r3, #2816
 2013 02ec 1B69     		ldr	r3, [r3, #16]
 2014 02ee 23F0FF53 		bic	r3, r3, #534773760
 2015 02f2 23F4C013 		bic	r3, r3, #1572864
 2016 02f6 0B61     		str	r3, [r1, #16]
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2017              		.loc 1 644 0
 2018 02f8 BB68     		ldr	r3, [r7, #8]
 2019 02fa 5B69     		ldr	r3, [r3, #20]
 2020 02fc 002B     		cmp	r3, #0
 2021 02fe 2BD1     		bne	.L87
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2022              		.loc 1 646 0
 2023 0300 BB68     		ldr	r3, [r7, #8]
 2024 0302 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2025 0304 5A01     		lsls	r2, r3, #5
 2026 0306 FB68     		ldr	r3, [r7, #12]
 2027 0308 1344     		add	r3, r3, r2
 2028 030a 03F53063 		add	r3, r3, #2816
 2029 030e 1946     		mov	r1, r3
 2030 0310 BB68     		ldr	r3, [r7, #8]
 2031 0312 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2032 0314 5A01     		lsls	r2, r3, #5
 2033 0316 FB68     		ldr	r3, [r7, #12]
 2034 0318 1344     		add	r3, r3, r2
 2035 031a 03F53063 		add	r3, r3, #2816
 2036 031e 1A69     		ldr	r2, [r3, #16]
 2037 0320 BB68     		ldr	r3, [r7, #8]
 2038 0322 9B68     		ldr	r3, [r3, #8]
 2039 0324 C3F31203 		ubfx	r3, r3, #0, #19
 2040 0328 1343     		orrs	r3, r3, r2
 2041 032a 0B61     		str	r3, [r1, #16]
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U));
 2042              		.loc 1 647 0
 2043 032c BB68     		ldr	r3, [r7, #8]
 2044 032e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2045 0330 5A01     		lsls	r2, r3, #5
 2046 0332 FB68     		ldr	r3, [r7, #12]
 2047 0334 1344     		add	r3, r3, r2
 2048 0336 03F53063 		add	r3, r3, #2816
 2049 033a 1946     		mov	r1, r3
ARM GAS  /tmp/ccVcqEjV.s 			page 48


 2050 033c BB68     		ldr	r3, [r7, #8]
 2051 033e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2052 0340 5A01     		lsls	r2, r3, #5
 2053 0342 FB68     		ldr	r3, [r7, #12]
 2054 0344 1344     		add	r3, r3, r2
 2055 0346 03F53063 		add	r3, r3, #2816
 2056 034a 1B69     		ldr	r3, [r3, #16]
 2057 034c 43F40023 		orr	r3, r3, #524288
 2058 0350 0B61     		str	r3, [r1, #16]
 2059 0352 3CE0     		b	.L88
 2060              	.L94:
 2061              		.align	2
 2062              	.L93:
 2063 0354 0000F81F 		.word	536346624
 2064              	.L87:
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (ep->xfer_len + ep->maxpacket -1U)/ ep->maxpacket; 
 2065              		.loc 1 651 0
 2066 0358 BB68     		ldr	r3, [r7, #8]
 2067 035a 5A69     		ldr	r2, [r3, #20]
 2068 035c BB68     		ldr	r3, [r7, #8]
 2069 035e 9B68     		ldr	r3, [r3, #8]
 2070 0360 1344     		add	r3, r3, r2
 2071 0362 5A1E     		subs	r2, r3, #1
 2072 0364 BB68     		ldr	r3, [r7, #8]
 2073 0366 9B68     		ldr	r3, [r3, #8]
 2074 0368 B2FBF3F3 		udiv	r3, r2, r3
 2075 036c FB82     		strh	r3, [r7, #22]	@ movhi
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (pktcnt << 19U));
 2076              		.loc 1 652 0
 2077 036e BB68     		ldr	r3, [r7, #8]
 2078 0370 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2079 0372 5A01     		lsls	r2, r3, #5
 2080 0374 FB68     		ldr	r3, [r7, #12]
 2081 0376 1344     		add	r3, r3, r2
 2082 0378 03F53063 		add	r3, r3, #2816
 2083 037c 1946     		mov	r1, r3
 2084 037e BB68     		ldr	r3, [r7, #8]
 2085 0380 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2086 0382 5A01     		lsls	r2, r3, #5
 2087 0384 FB68     		ldr	r3, [r7, #12]
 2088 0386 1344     		add	r3, r3, r2
 2089 0388 03F53063 		add	r3, r3, #2816
 2090 038c 1A69     		ldr	r2, [r3, #16]
 2091 038e FB8A     		ldrh	r3, [r7, #22]
 2092 0390 DB04     		lsls	r3, r3, #19
 2093 0392 1846     		mov	r0, r3
 2094 0394 3A4B     		ldr	r3, .L95
 2095 0396 0340     		ands	r3, r3, r0
 2096 0398 1343     		orrs	r3, r3, r2
 2097 039a 0B61     		str	r3, [r1, #16]
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt));
 2098              		.loc 1 653 0
 2099 039c BB68     		ldr	r3, [r7, #8]
 2100 039e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccVcqEjV.s 			page 49


 2101 03a0 5A01     		lsls	r2, r3, #5
 2102 03a2 FB68     		ldr	r3, [r7, #12]
 2103 03a4 1344     		add	r3, r3, r2
 2104 03a6 03F53063 		add	r3, r3, #2816
 2105 03aa 1846     		mov	r0, r3
 2106 03ac BB68     		ldr	r3, [r7, #8]
 2107 03ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2108 03b0 5A01     		lsls	r2, r3, #5
 2109 03b2 FB68     		ldr	r3, [r7, #12]
 2110 03b4 1344     		add	r3, r3, r2
 2111 03b6 03F53063 		add	r3, r3, #2816
 2112 03ba 1A69     		ldr	r2, [r3, #16]
 2113 03bc BB68     		ldr	r3, [r7, #8]
 2114 03be 9B68     		ldr	r3, [r3, #8]
 2115 03c0 F98A     		ldrh	r1, [r7, #22]
 2116 03c2 01FB03F3 		mul	r3, r1, r3
 2117 03c6 C3F31203 		ubfx	r3, r3, #0, #19
 2118 03ca 1343     		orrs	r3, r3, r2
 2119 03cc 0361     		str	r3, [r0, #16]
 2120              	.L88:
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2121              		.loc 1 656 0
 2122 03ce FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2123 03d0 012B     		cmp	r3, #1
 2124 03d2 0AD1     		bne	.L89
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPDMA = (uint32_t)ep->xfer_buff;
 2125              		.loc 1 658 0
 2126 03d4 BB68     		ldr	r3, [r7, #8]
 2127 03d6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2128 03d8 5A01     		lsls	r2, r3, #5
 2129 03da FB68     		ldr	r3, [r7, #12]
 2130 03dc 1344     		add	r3, r3, r2
 2131 03de 03F53063 		add	r3, r3, #2816
 2132 03e2 1A46     		mov	r2, r3
 2133 03e4 BB68     		ldr	r3, [r7, #8]
 2134 03e6 DB68     		ldr	r3, [r3, #12]
 2135 03e8 5361     		str	r3, [r2, #20]
 2136              	.L89:
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2137              		.loc 1 661 0
 2138 03ea BB68     		ldr	r3, [r7, #8]
 2139 03ec DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2140 03ee 012B     		cmp	r3, #1
 2141 03f0 2ED1     		bne	.L90
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & ( 1U << 8U )) == 0U)
 2142              		.loc 1 663 0
 2143 03f2 FB68     		ldr	r3, [r7, #12]
 2144 03f4 03F50063 		add	r3, r3, #2048
 2145 03f8 9B68     		ldr	r3, [r3, #8]
 2146 03fa 03F48073 		and	r3, r3, #256
 2147 03fe 002B     		cmp	r3, #0
ARM GAS  /tmp/ccVcqEjV.s 			page 50


 2148 0400 13D1     		bne	.L91
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2149              		.loc 1 665 0
 2150 0402 BB68     		ldr	r3, [r7, #8]
 2151 0404 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2152 0406 5A01     		lsls	r2, r3, #5
 2153 0408 FB68     		ldr	r3, [r7, #12]
 2154 040a 1344     		add	r3, r3, r2
 2155 040c 03F53063 		add	r3, r3, #2816
 2156 0410 1946     		mov	r1, r3
 2157 0412 BB68     		ldr	r3, [r7, #8]
 2158 0414 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2159 0416 5A01     		lsls	r2, r3, #5
 2160 0418 FB68     		ldr	r3, [r7, #12]
 2161 041a 1344     		add	r3, r3, r2
 2162 041c 03F53063 		add	r3, r3, #2816
 2163 0420 1B68     		ldr	r3, [r3]
 2164 0422 43F00053 		orr	r3, r3, #536870912
 2165 0426 0B60     		str	r3, [r1]
 2166 0428 12E0     		b	.L90
 2167              	.L91:
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2168              		.loc 1 669 0
 2169 042a BB68     		ldr	r3, [r7, #8]
 2170 042c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2171 042e 5A01     		lsls	r2, r3, #5
 2172 0430 FB68     		ldr	r3, [r7, #12]
 2173 0432 1344     		add	r3, r3, r2
 2174 0434 03F53063 		add	r3, r3, #2816
 2175 0438 1946     		mov	r1, r3
 2176 043a BB68     		ldr	r3, [r7, #8]
 2177 043c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2178 043e 5A01     		lsls	r2, r3, #5
 2179 0440 FB68     		ldr	r3, [r7, #12]
 2180 0442 1344     		add	r3, r3, r2
 2181 0444 03F53063 		add	r3, r3, #2816
 2182 0448 1B68     		ldr	r3, [r3]
 2183 044a 43F08053 		orr	r3, r3, #268435456
 2184 044e 0B60     		str	r3, [r1]
 2185              	.L90:
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2186              		.loc 1 673 0
 2187 0450 BB68     		ldr	r3, [r7, #8]
 2188 0452 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2189 0454 5A01     		lsls	r2, r3, #5
 2190 0456 FB68     		ldr	r3, [r7, #12]
 2191 0458 1344     		add	r3, r3, r2
 2192 045a 03F53063 		add	r3, r3, #2816
 2193 045e 1946     		mov	r1, r3
 2194 0460 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccVcqEjV.s 			page 51


 2195 0462 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2196 0464 5A01     		lsls	r2, r3, #5
 2197 0466 FB68     		ldr	r3, [r7, #12]
 2198 0468 1344     		add	r3, r3, r2
 2199 046a 03F53063 		add	r3, r3, #2816
 2200 046e 1B68     		ldr	r3, [r3]
 2201 0470 43F00443 		orr	r3, r3, #-2080374784
 2202 0474 0B60     		str	r3, [r1]
 2203              	.L86:
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2204              		.loc 1 675 0
 2205 0476 0023     		movs	r3, #0
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2206              		.loc 1 676 0
 2207 0478 1846     		mov	r0, r3
 2208 047a 1837     		adds	r7, r7, #24
 2209              	.LCFI84:
 2210              		.cfi_def_cfa_offset 8
 2211 047c BD46     		mov	sp, r7
 2212              	.LCFI85:
 2213              		.cfi_def_cfa_register 13
 2214              		@ sp needed
 2215 047e 80BD     		pop	{r7, pc}
 2216              	.L96:
 2217              		.align	2
 2218              	.L95:
 2219 0480 0000F81F 		.word	536346624
 2220              		.cfi_endproc
 2221              	.LFE139:
 2223              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2224              		.align	2
 2225              		.global	USB_EP0StartXfer
 2226              		.thumb
 2227              		.thumb_func
 2229              	USB_EP0StartXfer:
 2230              	.LFB140:
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma: USB dma enabled or disabled 
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep, uint8_t dma
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2231              		.loc 1 689 0
 2232              		.cfi_startproc
 2233              		@ args = 0, pretend = 0, frame = 16
 2234              		@ frame_needed = 1, uses_anonymous_args = 0
 2235              		@ link register save eliminated.
 2236 0000 80B4     		push	{r7}
 2237              	.LCFI86:
ARM GAS  /tmp/ccVcqEjV.s 			page 52


 2238              		.cfi_def_cfa_offset 4
 2239              		.cfi_offset 7, -4
 2240 0002 85B0     		sub	sp, sp, #20
 2241              	.LCFI87:
 2242              		.cfi_def_cfa_offset 24
 2243 0004 00AF     		add	r7, sp, #0
 2244              	.LCFI88:
 2245              		.cfi_def_cfa_register 7
 2246 0006 F860     		str	r0, [r7, #12]
 2247 0008 B960     		str	r1, [r7, #8]
 2248 000a 1346     		mov	r3, r2
 2249 000c FB71     		strb	r3, [r7, #7]
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2250              		.loc 1 691 0
 2251 000e BB68     		ldr	r3, [r7, #8]
 2252 0010 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2253 0012 012B     		cmp	r3, #1
 2254 0014 40F0D180 		bne	.L98
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2255              		.loc 1 694 0
 2256 0018 BB68     		ldr	r3, [r7, #8]
 2257 001a 5B69     		ldr	r3, [r3, #20]
 2258 001c 002B     		cmp	r3, #0
 2259 001e 3BD1     		bne	.L99
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 2260              		.loc 1 696 0
 2261 0020 BB68     		ldr	r3, [r7, #8]
 2262 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2263 0024 5A01     		lsls	r2, r3, #5
 2264 0026 FB68     		ldr	r3, [r7, #12]
 2265 0028 1344     		add	r3, r3, r2
 2266 002a 03F51063 		add	r3, r3, #2304
 2267 002e 1946     		mov	r1, r3
 2268 0030 BB68     		ldr	r3, [r7, #8]
 2269 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2270 0034 5A01     		lsls	r2, r3, #5
 2271 0036 FB68     		ldr	r3, [r7, #12]
 2272 0038 1344     		add	r3, r3, r2
 2273 003a 03F51063 		add	r3, r3, #2304
 2274 003e 1B69     		ldr	r3, [r3, #16]
 2275 0040 23F0FF53 		bic	r3, r3, #534773760
 2276 0044 23F4C013 		bic	r3, r3, #1572864
 2277 0048 0B61     		str	r3, [r1, #16]
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 2278              		.loc 1 697 0
 2279 004a BB68     		ldr	r3, [r7, #8]
 2280 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2281 004e 5A01     		lsls	r2, r3, #5
 2282 0050 FB68     		ldr	r3, [r7, #12]
 2283 0052 1344     		add	r3, r3, r2
 2284 0054 03F51063 		add	r3, r3, #2304
 2285 0058 1946     		mov	r1, r3
 2286 005a BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccVcqEjV.s 			page 53


 2287 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2288 005e 5A01     		lsls	r2, r3, #5
 2289 0060 FB68     		ldr	r3, [r7, #12]
 2290 0062 1344     		add	r3, r3, r2
 2291 0064 03F51063 		add	r3, r3, #2304
 2292 0068 1B69     		ldr	r3, [r3, #16]
 2293 006a 43F40023 		orr	r3, r3, #524288
 2294 006e 0B61     		str	r3, [r1, #16]
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 2295              		.loc 1 698 0
 2296 0070 BB68     		ldr	r3, [r7, #8]
 2297 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2298 0074 5A01     		lsls	r2, r3, #5
 2299 0076 FB68     		ldr	r3, [r7, #12]
 2300 0078 1344     		add	r3, r3, r2
 2301 007a 03F51063 		add	r3, r3, #2304
 2302 007e 1946     		mov	r1, r3
 2303 0080 BB68     		ldr	r3, [r7, #8]
 2304 0082 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2305 0084 5A01     		lsls	r2, r3, #5
 2306 0086 FB68     		ldr	r3, [r7, #12]
 2307 0088 1344     		add	r3, r3, r2
 2308 008a 03F51063 		add	r3, r3, #2304
 2309 008e 1B69     		ldr	r3, [r3, #16]
 2310 0090 DB0C     		lsrs	r3, r3, #19
 2311 0092 DB04     		lsls	r3, r3, #19
 2312 0094 0B61     		str	r3, [r1, #16]
 2313 0096 5AE0     		b	.L100
 2314              	.L99:
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2315              		.loc 1 707 0
 2316 0098 BB68     		ldr	r3, [r7, #8]
 2317 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2318 009c 5A01     		lsls	r2, r3, #5
 2319 009e FB68     		ldr	r3, [r7, #12]
 2320 00a0 1344     		add	r3, r3, r2
 2321 00a2 03F51063 		add	r3, r3, #2304
 2322 00a6 1946     		mov	r1, r3
 2323 00a8 BB68     		ldr	r3, [r7, #8]
 2324 00aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2325 00ac 5A01     		lsls	r2, r3, #5
 2326 00ae FB68     		ldr	r3, [r7, #12]
 2327 00b0 1344     		add	r3, r3, r2
 2328 00b2 03F51063 		add	r3, r3, #2304
 2329 00b6 1B69     		ldr	r3, [r3, #16]
 2330 00b8 DB0C     		lsrs	r3, r3, #19
 2331 00ba DB04     		lsls	r3, r3, #19
 2332 00bc 0B61     		str	r3, [r1, #16]
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
ARM GAS  /tmp/ccVcqEjV.s 			page 54


 2333              		.loc 1 708 0
 2334 00be BB68     		ldr	r3, [r7, #8]
 2335 00c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2336 00c2 5A01     		lsls	r2, r3, #5
 2337 00c4 FB68     		ldr	r3, [r7, #12]
 2338 00c6 1344     		add	r3, r3, r2
 2339 00c8 03F51063 		add	r3, r3, #2304
 2340 00cc 1946     		mov	r1, r3
 2341 00ce BB68     		ldr	r3, [r7, #8]
 2342 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2343 00d2 5A01     		lsls	r2, r3, #5
 2344 00d4 FB68     		ldr	r3, [r7, #12]
 2345 00d6 1344     		add	r3, r3, r2
 2346 00d8 03F51063 		add	r3, r3, #2304
 2347 00dc 1B69     		ldr	r3, [r3, #16]
 2348 00de 23F0FF53 		bic	r3, r3, #534773760
 2349 00e2 23F4C013 		bic	r3, r3, #1572864
 2350 00e6 0B61     		str	r3, [r1, #16]
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if(ep->xfer_len > ep->maxpacket)
 2351              		.loc 1 710 0
 2352 00e8 BB68     		ldr	r3, [r7, #8]
 2353 00ea 5A69     		ldr	r2, [r3, #20]
 2354 00ec BB68     		ldr	r3, [r7, #8]
 2355 00ee 9B68     		ldr	r3, [r3, #8]
 2356 00f0 9A42     		cmp	r2, r3
 2357 00f2 03D9     		bls	.L101
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 2358              		.loc 1 712 0
 2359 00f4 BB68     		ldr	r3, [r7, #8]
 2360 00f6 9A68     		ldr	r2, [r3, #8]
 2361 00f8 BB68     		ldr	r3, [r7, #8]
 2362 00fa 5A61     		str	r2, [r3, #20]
 2363              	.L101:
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 2364              		.loc 1 714 0
 2365 00fc BB68     		ldr	r3, [r7, #8]
 2366 00fe 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2367 0100 5A01     		lsls	r2, r3, #5
 2368 0102 FB68     		ldr	r3, [r7, #12]
 2369 0104 1344     		add	r3, r3, r2
 2370 0106 03F51063 		add	r3, r3, #2304
 2371 010a 1946     		mov	r1, r3
 2372 010c BB68     		ldr	r3, [r7, #8]
 2373 010e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2374 0110 5A01     		lsls	r2, r3, #5
 2375 0112 FB68     		ldr	r3, [r7, #12]
 2376 0114 1344     		add	r3, r3, r2
 2377 0116 03F51063 		add	r3, r3, #2304
 2378 011a 1B69     		ldr	r3, [r3, #16]
 2379 011c 43F40023 		orr	r3, r3, #524288
 2380 0120 0B61     		str	r3, [r1, #16]
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 2381              		.loc 1 715 0
 2382 0122 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccVcqEjV.s 			page 55


 2383 0124 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2384 0126 5A01     		lsls	r2, r3, #5
 2385 0128 FB68     		ldr	r3, [r7, #12]
 2386 012a 1344     		add	r3, r3, r2
 2387 012c 03F51063 		add	r3, r3, #2304
 2388 0130 1946     		mov	r1, r3
 2389 0132 BB68     		ldr	r3, [r7, #8]
 2390 0134 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2391 0136 5A01     		lsls	r2, r3, #5
 2392 0138 FB68     		ldr	r3, [r7, #12]
 2393 013a 1344     		add	r3, r3, r2
 2394 013c 03F51063 		add	r3, r3, #2304
 2395 0140 1A69     		ldr	r2, [r3, #16]
 2396 0142 BB68     		ldr	r3, [r7, #8]
 2397 0144 5B69     		ldr	r3, [r3, #20]
 2398 0146 C3F31203 		ubfx	r3, r3, #0, #19
 2399 014a 1343     		orrs	r3, r3, r2
 2400 014c 0B61     		str	r3, [r1, #16]
 2401              	.L100:
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1)
 2402              		.loc 1 719 0
 2403 014e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2404 0150 012B     		cmp	r3, #1
 2405 0152 0BD1     		bne	.L102
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2406              		.loc 1 721 0
 2407 0154 BB68     		ldr	r3, [r7, #8]
 2408 0156 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2409 0158 5A01     		lsls	r2, r3, #5
 2410 015a FB68     		ldr	r3, [r7, #12]
 2411 015c 1344     		add	r3, r3, r2
 2412 015e 03F51063 		add	r3, r3, #2304
 2413 0162 1A46     		mov	r2, r3
 2414 0164 BB68     		ldr	r3, [r7, #8]
 2415 0166 1B69     		ldr	r3, [r3, #16]
 2416 0168 5361     		str	r3, [r2, #20]
 2417 016a 12E0     		b	.L103
 2418              	.L102:
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 2419              		.loc 1 726 0
 2420 016c BB68     		ldr	r3, [r7, #8]
 2421 016e 5B69     		ldr	r3, [r3, #20]
 2422 0170 002B     		cmp	r3, #0
 2423 0172 0ED0     		beq	.L103
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1U << (ep->num);
 2424              		.loc 1 728 0
 2425 0174 FB68     		ldr	r3, [r7, #12]
 2426 0176 03F50063 		add	r3, r3, #2048
ARM GAS  /tmp/ccVcqEjV.s 			page 56


 2427 017a 1946     		mov	r1, r3
 2428 017c FB68     		ldr	r3, [r7, #12]
 2429 017e 03F50063 		add	r3, r3, #2048
 2430 0182 5A6B     		ldr	r2, [r3, #52]
 2431 0184 BB68     		ldr	r3, [r7, #8]
 2432 0186 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2433 0188 1846     		mov	r0, r3
 2434 018a 0123     		movs	r3, #1
 2435 018c 8340     		lsls	r3, r3, r0
 2436 018e 1343     		orrs	r3, r3, r2
 2437 0190 4B63     		str	r3, [r1, #52]
 2438              	.L103:
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);   
 2439              		.loc 1 733 0
 2440 0192 BB68     		ldr	r3, [r7, #8]
 2441 0194 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2442 0196 5A01     		lsls	r2, r3, #5
 2443 0198 FB68     		ldr	r3, [r7, #12]
 2444 019a 1344     		add	r3, r3, r2
 2445 019c 03F51063 		add	r3, r3, #2304
 2446 01a0 1946     		mov	r1, r3
 2447 01a2 BB68     		ldr	r3, [r7, #8]
 2448 01a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2449 01a6 5A01     		lsls	r2, r3, #5
 2450 01a8 FB68     		ldr	r3, [r7, #12]
 2451 01aa 1344     		add	r3, r3, r2
 2452 01ac 03F51063 		add	r3, r3, #2304
 2453 01b0 1B68     		ldr	r3, [r3]
 2454 01b2 43F00443 		orr	r3, r3, #-2080374784
 2455 01b6 0B60     		str	r3, [r1]
 2456 01b8 79E0     		b	.L104
 2457              	.L98:
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ); 
 2458              		.loc 1 741 0
 2459 01ba BB68     		ldr	r3, [r7, #8]
 2460 01bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2461 01be 5A01     		lsls	r2, r3, #5
 2462 01c0 FB68     		ldr	r3, [r7, #12]
 2463 01c2 1344     		add	r3, r3, r2
 2464 01c4 03F53063 		add	r3, r3, #2816
 2465 01c8 1946     		mov	r1, r3
 2466 01ca BB68     		ldr	r3, [r7, #8]
 2467 01cc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2468 01ce 5A01     		lsls	r2, r3, #5
 2469 01d0 FB68     		ldr	r3, [r7, #12]
 2470 01d2 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccVcqEjV.s 			page 57


 2471 01d4 03F53063 		add	r3, r3, #2816
 2472 01d8 1B69     		ldr	r3, [r3, #16]
 2473 01da DB0C     		lsrs	r3, r3, #19
 2474 01dc DB04     		lsls	r3, r3, #19
 2475 01de 0B61     		str	r3, [r1, #16]
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 2476              		.loc 1 742 0
 2477 01e0 BB68     		ldr	r3, [r7, #8]
 2478 01e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2479 01e4 5A01     		lsls	r2, r3, #5
 2480 01e6 FB68     		ldr	r3, [r7, #12]
 2481 01e8 1344     		add	r3, r3, r2
 2482 01ea 03F53063 		add	r3, r3, #2816
 2483 01ee 1946     		mov	r1, r3
 2484 01f0 BB68     		ldr	r3, [r7, #8]
 2485 01f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2486 01f4 5A01     		lsls	r2, r3, #5
 2487 01f6 FB68     		ldr	r3, [r7, #12]
 2488 01f8 1344     		add	r3, r3, r2
 2489 01fa 03F53063 		add	r3, r3, #2816
 2490 01fe 1B69     		ldr	r3, [r3, #16]
 2491 0200 23F0FF53 		bic	r3, r3, #534773760
 2492 0204 23F4C013 		bic	r3, r3, #1572864
 2493 0208 0B61     		str	r3, [r1, #16]
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 2494              		.loc 1 744 0
 2495 020a BB68     		ldr	r3, [r7, #8]
 2496 020c 5B69     		ldr	r3, [r3, #20]
 2497 020e 002B     		cmp	r3, #0
 2498 0210 03D0     		beq	.L105
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 2499              		.loc 1 746 0
 2500 0212 BB68     		ldr	r3, [r7, #8]
 2501 0214 9A68     		ldr	r2, [r3, #8]
 2502 0216 BB68     		ldr	r3, [r7, #8]
 2503 0218 5A61     		str	r2, [r3, #20]
 2504              	.L105:
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U));
 2505              		.loc 1 749 0
 2506 021a BB68     		ldr	r3, [r7, #8]
 2507 021c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2508 021e 5A01     		lsls	r2, r3, #5
 2509 0220 FB68     		ldr	r3, [r7, #12]
 2510 0222 1344     		add	r3, r3, r2
 2511 0224 03F53063 		add	r3, r3, #2816
 2512 0228 1946     		mov	r1, r3
 2513 022a BB68     		ldr	r3, [r7, #8]
 2514 022c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2515 022e 5A01     		lsls	r2, r3, #5
 2516 0230 FB68     		ldr	r3, [r7, #12]
 2517 0232 1344     		add	r3, r3, r2
 2518 0234 03F53063 		add	r3, r3, #2816
 2519 0238 1B69     		ldr	r3, [r3, #16]
ARM GAS  /tmp/ccVcqEjV.s 			page 58


 2520 023a 43F40023 		orr	r3, r3, #524288
 2521 023e 0B61     		str	r3, [r1, #16]
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket)); 
 2522              		.loc 1 750 0
 2523 0240 BB68     		ldr	r3, [r7, #8]
 2524 0242 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2525 0244 5A01     		lsls	r2, r3, #5
 2526 0246 FB68     		ldr	r3, [r7, #12]
 2527 0248 1344     		add	r3, r3, r2
 2528 024a 03F53063 		add	r3, r3, #2816
 2529 024e 1946     		mov	r1, r3
 2530 0250 BB68     		ldr	r3, [r7, #8]
 2531 0252 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2532 0254 5A01     		lsls	r2, r3, #5
 2533 0256 FB68     		ldr	r3, [r7, #12]
 2534 0258 1344     		add	r3, r3, r2
 2535 025a 03F53063 		add	r3, r3, #2816
 2536 025e 1A69     		ldr	r2, [r3, #16]
 2537 0260 BB68     		ldr	r3, [r7, #8]
 2538 0262 9B68     		ldr	r3, [r3, #8]
 2539 0264 C3F31203 		ubfx	r3, r3, #0, #19
 2540 0268 1343     		orrs	r3, r3, r2
 2541 026a 0B61     		str	r3, [r1, #16]
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2542              		.loc 1 753 0
 2543 026c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2544 026e 012B     		cmp	r3, #1
 2545 0270 0AD1     		bne	.L106
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2546              		.loc 1 755 0
 2547 0272 BB68     		ldr	r3, [r7, #8]
 2548 0274 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2549 0276 5A01     		lsls	r2, r3, #5
 2550 0278 FB68     		ldr	r3, [r7, #12]
 2551 027a 1344     		add	r3, r3, r2
 2552 027c 03F53063 		add	r3, r3, #2816
 2553 0280 1A46     		mov	r2, r3
 2554 0282 BB68     		ldr	r3, [r7, #8]
 2555 0284 DB68     		ldr	r3, [r3, #12]
 2556 0286 5361     		str	r3, [r2, #20]
 2557              	.L106:
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);    
 2558              		.loc 1 759 0
 2559 0288 BB68     		ldr	r3, [r7, #8]
 2560 028a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2561 028c 5A01     		lsls	r2, r3, #5
 2562 028e FB68     		ldr	r3, [r7, #12]
 2563 0290 1344     		add	r3, r3, r2
 2564 0292 03F53063 		add	r3, r3, #2816
 2565 0296 1946     		mov	r1, r3
 2566 0298 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccVcqEjV.s 			page 59


 2567 029a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2568 029c 5A01     		lsls	r2, r3, #5
 2569 029e FB68     		ldr	r3, [r7, #12]
 2570 02a0 1344     		add	r3, r3, r2
 2571 02a2 03F53063 		add	r3, r3, #2816
 2572 02a6 1B68     		ldr	r3, [r3]
 2573 02a8 43F00443 		orr	r3, r3, #-2080374784
 2574 02ac 0B60     		str	r3, [r1]
 2575              	.L104:
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2576              		.loc 1 761 0
 2577 02ae 0023     		movs	r3, #0
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2578              		.loc 1 762 0
 2579 02b0 1846     		mov	r0, r3
 2580 02b2 1437     		adds	r7, r7, #20
 2581              	.LCFI89:
 2582              		.cfi_def_cfa_offset 4
 2583 02b4 BD46     		mov	sp, r7
 2584              	.LCFI90:
 2585              		.cfi_def_cfa_register 13
 2586              		@ sp needed
 2587 02b6 5DF8047B 		ldr	r7, [sp], #4
 2588              	.LCFI91:
 2589              		.cfi_restore 7
 2590              		.cfi_def_cfa_offset 0
 2591 02ba 7047     		bx	lr
 2592              		.cfi_endproc
 2593              	.LFE140:
 2595              		.section	.text.USB_WritePacket,"ax",%progbits
 2596              		.align	2
 2597              		.global	USB_WritePacket
 2598              		.thumb
 2599              		.thumb_func
 2601              	USB_WritePacket:
 2602              	.LFB141:
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated 
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device           
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src :  pointer to source buffer
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num : endpoint or host channel number
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len : Number of bytes to write
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma: USB dma enabled or disabled 
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src, uint8_t ch_ep_num, uin
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2603              		.loc 1 778 0
 2604              		.cfi_startproc
 2605              		@ args = 4, pretend = 0, frame = 24
 2606              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccVcqEjV.s 			page 60


 2607              		@ link register save eliminated.
 2608 0000 80B4     		push	{r7}
 2609              	.LCFI92:
 2610              		.cfi_def_cfa_offset 4
 2611              		.cfi_offset 7, -4
 2612 0002 87B0     		sub	sp, sp, #28
 2613              	.LCFI93:
 2614              		.cfi_def_cfa_offset 32
 2615 0004 00AF     		add	r7, sp, #0
 2616              	.LCFI94:
 2617              		.cfi_def_cfa_register 7
 2618 0006 F860     		str	r0, [r7, #12]
 2619 0008 B960     		str	r1, [r7, #8]
 2620 000a 1146     		mov	r1, r2
 2621 000c 1A46     		mov	r2, r3
 2622 000e 0B46     		mov	r3, r1
 2623 0010 FB71     		strb	r3, [r7, #7]
 2624 0012 1346     		mov	r3, r2	@ movhi
 2625 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = 0U , i = 0U;
 2626              		.loc 1 779 0
 2627 0016 0023     		movs	r3, #0
 2628 0018 3B61     		str	r3, [r7, #16]
 2629 001a 0023     		movs	r3, #0
 2630 001c 7B61     		str	r3, [r7, #20]
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
 2631              		.loc 1 781 0
 2632 001e 97F82030 		ldrb	r3, [r7, #32]	@ zero_extendqisi2
 2633 0022 002B     		cmp	r3, #0
 2634 0024 1AD1     		bne	.L109
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b =  (len + 3U) / 4U;
 2635              		.loc 1 783 0
 2636 0026 BB88     		ldrh	r3, [r7, #4]
 2637 0028 0333     		adds	r3, r3, #3
 2638 002a 9B08     		lsrs	r3, r3, #2
 2639 002c 3B61     		str	r3, [r7, #16]
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++, src += 4U)
 2640              		.loc 1 784 0
 2641 002e 0023     		movs	r3, #0
 2642 0030 7B61     		str	r3, [r7, #20]
 2643 0032 0FE0     		b	.L110
 2644              	.L111:
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO(ch_ep_num) = *((__packed uint32_t *)src);
 2645              		.loc 1 786 0 discriminator 3
 2646 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2647 0036 1A03     		lsls	r2, r3, #12
 2648 0038 FB68     		ldr	r3, [r7, #12]
 2649 003a 1344     		add	r3, r3, r2
 2650 003c 03F58053 		add	r3, r3, #4096
 2651 0040 1A46     		mov	r2, r3
 2652 0042 BB68     		ldr	r3, [r7, #8]
 2653 0044 1B68     		ldr	r3, [r3]
 2654 0046 1360     		str	r3, [r2]
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++, src += 4U)
ARM GAS  /tmp/ccVcqEjV.s 			page 61


 2655              		.loc 1 784 0 discriminator 3
 2656 0048 7B69     		ldr	r3, [r7, #20]
 2657 004a 0133     		adds	r3, r3, #1
 2658 004c 7B61     		str	r3, [r7, #20]
 2659 004e BB68     		ldr	r3, [r7, #8]
 2660 0050 0433     		adds	r3, r3, #4
 2661 0052 BB60     		str	r3, [r7, #8]
 2662              	.L110:
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++, src += 4U)
 2663              		.loc 1 784 0 is_stmt 0 discriminator 1
 2664 0054 7A69     		ldr	r2, [r7, #20]
 2665 0056 3B69     		ldr	r3, [r7, #16]
 2666 0058 9A42     		cmp	r2, r3
 2667 005a EBD3     		bcc	.L111
 2668              	.L109:
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2669              		.loc 1 789 0 is_stmt 1
 2670 005c 0023     		movs	r3, #0
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2671              		.loc 1 790 0
 2672 005e 1846     		mov	r0, r3
 2673 0060 1C37     		adds	r7, r7, #28
 2674              	.LCFI95:
 2675              		.cfi_def_cfa_offset 4
 2676 0062 BD46     		mov	sp, r7
 2677              	.LCFI96:
 2678              		.cfi_def_cfa_register 13
 2679              		@ sp needed
 2680 0064 5DF8047B 		ldr	r7, [sp], #4
 2681              	.LCFI97:
 2682              		.cfi_restore 7
 2683              		.cfi_def_cfa_offset 0
 2684 0068 7047     		bx	lr
 2685              		.cfi_endproc
 2686              	.LFE141:
 2688 006a 00BF     		.section	.text.USB_ReadPacket,"ax",%progbits
 2689              		.align	2
 2690              		.global	USB_ReadPacket
 2691              		.thumb
 2692              		.thumb_func
 2694              	USB_ReadPacket:
 2695              	.LFB142:
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the Tx FIFO associated 
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device  
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src : source pointer
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num : endpoint or host channel number
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len : Number of bytes to read
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma: USB dma enabled or disabled 
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
ARM GAS  /tmp/ccVcqEjV.s 			page 62


 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2696              		.loc 1 806 0
 2697              		.cfi_startproc
 2698              		@ args = 0, pretend = 0, frame = 24
 2699              		@ frame_needed = 1, uses_anonymous_args = 0
 2700              		@ link register save eliminated.
 2701 0000 80B4     		push	{r7}
 2702              	.LCFI98:
 2703              		.cfi_def_cfa_offset 4
 2704              		.cfi_offset 7, -4
 2705 0002 87B0     		sub	sp, sp, #28
 2706              	.LCFI99:
 2707              		.cfi_def_cfa_offset 32
 2708 0004 00AF     		add	r7, sp, #0
 2709              	.LCFI100:
 2710              		.cfi_def_cfa_register 7
 2711 0006 F860     		str	r0, [r7, #12]
 2712 0008 B960     		str	r1, [r7, #8]
 2713 000a 1346     		mov	r3, r2
 2714 000c FB80     		strh	r3, [r7, #6]	@ movhi
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i=0U;
 2715              		.loc 1 807 0
 2716 000e 0023     		movs	r3, #0
 2717 0010 7B61     		str	r3, [r7, #20]
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = (len + 3U) / 4U;
 2718              		.loc 1 808 0
 2719 0012 FB88     		ldrh	r3, [r7, #6]
 2720 0014 0333     		adds	r3, r3, #3
 2721 0016 9B08     		lsrs	r3, r3, #2
 2722 0018 3B61     		str	r3, [r7, #16]
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for ( i = 0U; i < count32b; i++, dest += 4U )
 2723              		.loc 1 810 0
 2724 001a 0023     		movs	r3, #0
 2725 001c 7B61     		str	r3, [r7, #20]
 2726 001e 0BE0     		b	.L114
 2727              	.L115:
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     *(__packed uint32_t *)dest = USBx_DFIFO(0U);
 2728              		.loc 1 812 0 discriminator 3
 2729 0020 FB68     		ldr	r3, [r7, #12]
 2730 0022 03F58053 		add	r3, r3, #4096
 2731 0026 1A68     		ldr	r2, [r3]
 2732 0028 BB68     		ldr	r3, [r7, #8]
 2733 002a 1A60     		str	r2, [r3]
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2734              		.loc 1 810 0 discriminator 3
 2735 002c 7B69     		ldr	r3, [r7, #20]
 2736 002e 0133     		adds	r3, r3, #1
 2737 0030 7B61     		str	r3, [r7, #20]
 2738 0032 BB68     		ldr	r3, [r7, #8]
 2739 0034 0433     		adds	r3, r3, #4
 2740 0036 BB60     		str	r3, [r7, #8]
 2741              	.L114:
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccVcqEjV.s 			page 63


 2742              		.loc 1 810 0 is_stmt 0 discriminator 1
 2743 0038 7A69     		ldr	r2, [r7, #20]
 2744 003a 3B69     		ldr	r3, [r7, #16]
 2745 003c 9A42     		cmp	r2, r3
 2746 003e EFD3     		bcc	.L115
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)dest);
 2747              		.loc 1 815 0 is_stmt 1
 2748 0040 BB68     		ldr	r3, [r7, #8]
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2749              		.loc 1 816 0
 2750 0042 1846     		mov	r0, r3
 2751 0044 1C37     		adds	r7, r7, #28
 2752              	.LCFI101:
 2753              		.cfi_def_cfa_offset 4
 2754 0046 BD46     		mov	sp, r7
 2755              	.LCFI102:
 2756              		.cfi_def_cfa_register 13
 2757              		@ sp needed
 2758 0048 5DF8047B 		ldr	r7, [sp], #4
 2759              	.LCFI103:
 2760              		.cfi_restore 7
 2761              		.cfi_def_cfa_offset 0
 2762 004c 7047     		bx	lr
 2763              		.cfi_endproc
 2764              	.LFE142:
 2766 004e 00BF     		.section	.text.USB_EPSetStall,"ax",%progbits
 2767              		.align	2
 2768              		.global	USB_EPSetStall
 2769              		.thumb
 2770              		.thumb_func
 2772              	USB_EPSetStall:
 2773              	.LFB143:
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure   
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep)
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2774              		.loc 1 825 0
 2775              		.cfi_startproc
 2776              		@ args = 0, pretend = 0, frame = 8
 2777              		@ frame_needed = 1, uses_anonymous_args = 0
 2778              		@ link register save eliminated.
 2779 0000 80B4     		push	{r7}
 2780              	.LCFI104:
 2781              		.cfi_def_cfa_offset 4
 2782              		.cfi_offset 7, -4
 2783 0002 83B0     		sub	sp, sp, #12
 2784              	.LCFI105:
 2785              		.cfi_def_cfa_offset 16
 2786 0004 00AF     		add	r7, sp, #0
 2787              	.LCFI106:
ARM GAS  /tmp/ccVcqEjV.s 			page 64


 2788              		.cfi_def_cfa_register 7
 2789 0006 7860     		str	r0, [r7, #4]
 2790 0008 3960     		str	r1, [r7]
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2791              		.loc 1 826 0
 2792 000a 3B68     		ldr	r3, [r7]
 2793 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2794 000e 012B     		cmp	r3, #1
 2795 0010 30D1     		bne	.L118
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == 0U)
 2796              		.loc 1 828 0
 2797 0012 3B68     		ldr	r3, [r7]
 2798 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2799 0016 5A01     		lsls	r2, r3, #5
 2800 0018 7B68     		ldr	r3, [r7, #4]
 2801 001a 1344     		add	r3, r3, r2
 2802 001c 03F51063 		add	r3, r3, #2304
 2803 0020 1B68     		ldr	r3, [r3]
 2804 0022 002B     		cmp	r3, #0
 2805 0024 12DB     		blt	.L119
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS); 
 2806              		.loc 1 830 0
 2807 0026 3B68     		ldr	r3, [r7]
 2808 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2809 002a 5A01     		lsls	r2, r3, #5
 2810 002c 7B68     		ldr	r3, [r7, #4]
 2811 002e 1344     		add	r3, r3, r2
 2812 0030 03F51063 		add	r3, r3, #2304
 2813 0034 1946     		mov	r1, r3
 2814 0036 3B68     		ldr	r3, [r7]
 2815 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2816 003a 5A01     		lsls	r2, r3, #5
 2817 003c 7B68     		ldr	r3, [r7, #4]
 2818 003e 1344     		add	r3, r3, r2
 2819 0040 03F51063 		add	r3, r3, #2304
 2820 0044 1B68     		ldr	r3, [r3]
 2821 0046 23F08043 		bic	r3, r3, #1073741824
 2822 004a 0B60     		str	r3, [r1]
 2823              	.L119:
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 2824              		.loc 1 832 0
 2825 004c 3B68     		ldr	r3, [r7]
 2826 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2827 0050 5A01     		lsls	r2, r3, #5
 2828 0052 7B68     		ldr	r3, [r7, #4]
 2829 0054 1344     		add	r3, r3, r2
 2830 0056 03F51063 		add	r3, r3, #2304
 2831 005a 1946     		mov	r1, r3
 2832 005c 3B68     		ldr	r3, [r7]
 2833 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2834 0060 5A01     		lsls	r2, r3, #5
 2835 0062 7B68     		ldr	r3, [r7, #4]
 2836 0064 1344     		add	r3, r3, r2
 2837 0066 03F51063 		add	r3, r3, #2304
ARM GAS  /tmp/ccVcqEjV.s 			page 65


 2838 006a 1B68     		ldr	r3, [r3]
 2839 006c 43F40013 		orr	r3, r3, #2097152
 2840 0070 0B60     		str	r3, [r1]
 2841 0072 2FE0     		b	.L120
 2842              	.L118:
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == 0U)
 2843              		.loc 1 836 0
 2844 0074 3B68     		ldr	r3, [r7]
 2845 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2846 0078 5A01     		lsls	r2, r3, #5
 2847 007a 7B68     		ldr	r3, [r7, #4]
 2848 007c 1344     		add	r3, r3, r2
 2849 007e 03F53063 		add	r3, r3, #2816
 2850 0082 1B68     		ldr	r3, [r3]
 2851 0084 002B     		cmp	r3, #0
 2852 0086 12DB     		blt	.L121
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS); 
 2853              		.loc 1 838 0
 2854 0088 3B68     		ldr	r3, [r7]
 2855 008a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2856 008c 5A01     		lsls	r2, r3, #5
 2857 008e 7B68     		ldr	r3, [r7, #4]
 2858 0090 1344     		add	r3, r3, r2
 2859 0092 03F53063 		add	r3, r3, #2816
 2860 0096 1946     		mov	r1, r3
 2861 0098 3B68     		ldr	r3, [r7]
 2862 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2863 009c 5A01     		lsls	r2, r3, #5
 2864 009e 7B68     		ldr	r3, [r7, #4]
 2865 00a0 1344     		add	r3, r3, r2
 2866 00a2 03F53063 		add	r3, r3, #2816
 2867 00a6 1B68     		ldr	r3, [r3]
 2868 00a8 23F08043 		bic	r3, r3, #1073741824
 2869 00ac 0B60     		str	r3, [r1]
 2870              	.L121:
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 2871              		.loc 1 840 0
 2872 00ae 3B68     		ldr	r3, [r7]
 2873 00b0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2874 00b2 5A01     		lsls	r2, r3, #5
 2875 00b4 7B68     		ldr	r3, [r7, #4]
 2876 00b6 1344     		add	r3, r3, r2
 2877 00b8 03F53063 		add	r3, r3, #2816
 2878 00bc 1946     		mov	r1, r3
 2879 00be 3B68     		ldr	r3, [r7]
 2880 00c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2881 00c2 5A01     		lsls	r2, r3, #5
 2882 00c4 7B68     		ldr	r3, [r7, #4]
 2883 00c6 1344     		add	r3, r3, r2
 2884 00c8 03F53063 		add	r3, r3, #2816
 2885 00cc 1B68     		ldr	r3, [r3]
 2886 00ce 43F40013 		orr	r3, r3, #2097152
ARM GAS  /tmp/ccVcqEjV.s 			page 66


 2887 00d2 0B60     		str	r3, [r1]
 2888              	.L120:
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2889              		.loc 1 842 0
 2890 00d4 0023     		movs	r3, #0
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2891              		.loc 1 843 0
 2892 00d6 1846     		mov	r0, r3
 2893 00d8 0C37     		adds	r7, r7, #12
 2894              	.LCFI107:
 2895              		.cfi_def_cfa_offset 4
 2896 00da BD46     		mov	sp, r7
 2897              	.LCFI108:
 2898              		.cfi_def_cfa_register 13
 2899              		@ sp needed
 2900 00dc 5DF8047B 		ldr	r7, [sp], #4
 2901              	.LCFI109:
 2902              		.cfi_restore 7
 2903              		.cfi_def_cfa_offset 0
 2904 00e0 7047     		bx	lr
 2905              		.cfi_endproc
 2906              	.LFE143:
 2908 00e2 00BF     		.section	.text.USB_EPClearStall,"ax",%progbits
 2909              		.align	2
 2910              		.global	USB_EPClearStall
 2911              		.thumb
 2912              		.thumb_func
 2914              	USB_EPClearStall:
 2915              	.LFB144:
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure   
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2916              		.loc 1 853 0
 2917              		.cfi_startproc
 2918              		@ args = 0, pretend = 0, frame = 8
 2919              		@ frame_needed = 1, uses_anonymous_args = 0
 2920              		@ link register save eliminated.
 2921 0000 80B4     		push	{r7}
 2922              	.LCFI110:
 2923              		.cfi_def_cfa_offset 4
 2924              		.cfi_offset 7, -4
 2925 0002 83B0     		sub	sp, sp, #12
 2926              	.LCFI111:
 2927              		.cfi_def_cfa_offset 16
 2928 0004 00AF     		add	r7, sp, #0
 2929              	.LCFI112:
 2930              		.cfi_def_cfa_register 7
 2931 0006 7860     		str	r0, [r7, #4]
 2932 0008 3960     		str	r1, [r7]
ARM GAS  /tmp/ccVcqEjV.s 			page 67


 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2933              		.loc 1 854 0
 2934 000a 3B68     		ldr	r3, [r7]
 2935 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2936 000e 012B     		cmp	r3, #1
 2937 0010 2ED1     		bne	.L124
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 2938              		.loc 1 856 0
 2939 0012 3B68     		ldr	r3, [r7]
 2940 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2941 0016 5A01     		lsls	r2, r3, #5
 2942 0018 7B68     		ldr	r3, [r7, #4]
 2943 001a 1344     		add	r3, r3, r2
 2944 001c 03F51063 		add	r3, r3, #2304
 2945 0020 1946     		mov	r1, r3
 2946 0022 3B68     		ldr	r3, [r7]
 2947 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2948 0026 5A01     		lsls	r2, r3, #5
 2949 0028 7B68     		ldr	r3, [r7, #4]
 2950 002a 1344     		add	r3, r3, r2
 2951 002c 03F51063 		add	r3, r3, #2304
 2952 0030 1B68     		ldr	r3, [r3]
 2953 0032 23F40013 		bic	r3, r3, #2097152
 2954 0036 0B60     		str	r3, [r1]
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 2955              		.loc 1 857 0
 2956 0038 3B68     		ldr	r3, [r7]
 2957 003a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2958 003c 032B     		cmp	r3, #3
 2959 003e 03D0     		beq	.L125
 2960              		.loc 1 857 0 is_stmt 0 discriminator 1
 2961 0040 3B68     		ldr	r3, [r7]
 2962 0042 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2963 0044 022B     		cmp	r3, #2
 2964 0046 41D1     		bne	.L127
 2965              	.L125:
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 2966              		.loc 1 859 0 is_stmt 1
 2967 0048 3B68     		ldr	r3, [r7]
 2968 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2969 004c 5A01     		lsls	r2, r3, #5
 2970 004e 7B68     		ldr	r3, [r7, #4]
 2971 0050 1344     		add	r3, r3, r2
 2972 0052 03F51063 		add	r3, r3, #2304
 2973 0056 1946     		mov	r1, r3
 2974 0058 3B68     		ldr	r3, [r7]
 2975 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2976 005c 5A01     		lsls	r2, r3, #5
 2977 005e 7B68     		ldr	r3, [r7, #4]
 2978 0060 1344     		add	r3, r3, r2
 2979 0062 03F51063 		add	r3, r3, #2304
 2980 0066 1B68     		ldr	r3, [r3]
 2981 0068 43F08053 		orr	r3, r3, #268435456
 2982 006c 0B60     		str	r3, [r1]
 2983 006e 2DE0     		b	.L127
ARM GAS  /tmp/ccVcqEjV.s 			page 68


 2984              	.L124:
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 2985              		.loc 1 864 0
 2986 0070 3B68     		ldr	r3, [r7]
 2987 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2988 0074 5A01     		lsls	r2, r3, #5
 2989 0076 7B68     		ldr	r3, [r7, #4]
 2990 0078 1344     		add	r3, r3, r2
 2991 007a 03F53063 		add	r3, r3, #2816
 2992 007e 1946     		mov	r1, r3
 2993 0080 3B68     		ldr	r3, [r7]
 2994 0082 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2995 0084 5A01     		lsls	r2, r3, #5
 2996 0086 7B68     		ldr	r3, [r7, #4]
 2997 0088 1344     		add	r3, r3, r2
 2998 008a 03F53063 		add	r3, r3, #2816
 2999 008e 1B68     		ldr	r3, [r3]
 3000 0090 23F40013 		bic	r3, r3, #2097152
 3001 0094 0B60     		str	r3, [r1]
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 3002              		.loc 1 865 0
 3003 0096 3B68     		ldr	r3, [r7]
 3004 0098 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3005 009a 032B     		cmp	r3, #3
 3006 009c 03D0     		beq	.L128
 3007              		.loc 1 865 0 is_stmt 0 discriminator 1
 3008 009e 3B68     		ldr	r3, [r7]
 3009 00a0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3010 00a2 022B     		cmp	r3, #2
 3011 00a4 12D1     		bne	.L127
 3012              	.L128:
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3013              		.loc 1 867 0 is_stmt 1
 3014 00a6 3B68     		ldr	r3, [r7]
 3015 00a8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3016 00aa 5A01     		lsls	r2, r3, #5
 3017 00ac 7B68     		ldr	r3, [r7, #4]
 3018 00ae 1344     		add	r3, r3, r2
 3019 00b0 03F53063 		add	r3, r3, #2816
 3020 00b4 1946     		mov	r1, r3
 3021 00b6 3B68     		ldr	r3, [r7]
 3022 00b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3023 00ba 5A01     		lsls	r2, r3, #5
 3024 00bc 7B68     		ldr	r3, [r7, #4]
 3025 00be 1344     		add	r3, r3, r2
 3026 00c0 03F53063 		add	r3, r3, #2816
 3027 00c4 1B68     		ldr	r3, [r3]
 3028 00c6 43F08053 		orr	r3, r3, #268435456
 3029 00ca 0B60     		str	r3, [r1]
 3030              	.L127:
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/ccVcqEjV.s 			page 69


 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3031              		.loc 1 870 0
 3032 00cc 0023     		movs	r3, #0
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3033              		.loc 1 871 0
 3034 00ce 1846     		mov	r0, r3
 3035 00d0 0C37     		adds	r7, r7, #12
 3036              	.LCFI113:
 3037              		.cfi_def_cfa_offset 4
 3038 00d2 BD46     		mov	sp, r7
 3039              	.LCFI114:
 3040              		.cfi_def_cfa_register 13
 3041              		@ sp needed
 3042 00d4 5DF8047B 		ldr	r7, [sp], #4
 3043              	.LCFI115:
 3044              		.cfi_restore 7
 3045              		.cfi_def_cfa_offset 0
 3046 00d8 7047     		bx	lr
 3047              		.cfi_endproc
 3048              	.LFE144:
 3050 00da 00BF     		.section	.text.USB_StopDevice,"ax",%progbits
 3051              		.align	2
 3052              		.global	USB_StopDevice
 3053              		.thumb
 3054              		.thumb_func
 3056              	USB_StopDevice:
 3057              	.LFB145:
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3058              		.loc 1 879 0
 3059              		.cfi_startproc
 3060              		@ args = 0, pretend = 0, frame = 16
 3061              		@ frame_needed = 1, uses_anonymous_args = 0
 3062 0000 80B5     		push	{r7, lr}
 3063              	.LCFI116:
 3064              		.cfi_def_cfa_offset 8
 3065              		.cfi_offset 7, -8
 3066              		.cfi_offset 14, -4
 3067 0002 84B0     		sub	sp, sp, #16
 3068              	.LCFI117:
 3069              		.cfi_def_cfa_offset 24
 3070 0004 00AF     		add	r7, sp, #0
 3071              	.LCFI118:
 3072              		.cfi_def_cfa_register 7
 3073 0006 7860     		str	r0, [r7, #4]
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U ; i++)
 3074              		.loc 1 883 0
 3075 0008 0023     		movs	r3, #0
ARM GAS  /tmp/ccVcqEjV.s 			page 70


 3076 000a FB60     		str	r3, [r7, #12]
 3077 000c 14E0     		b	.L131
 3078              	.L132:
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFFU;
 3079              		.loc 1 885 0 discriminator 3
 3080 000e FB68     		ldr	r3, [r7, #12]
 3081 0010 5A01     		lsls	r2, r3, #5
 3082 0012 7B68     		ldr	r3, [r7, #4]
 3083 0014 1344     		add	r3, r3, r2
 3084 0016 03F51063 		add	r3, r3, #2304
 3085 001a 1A46     		mov	r2, r3
 3086 001c FF23     		movs	r3, #255
 3087 001e 9360     		str	r3, [r2, #8]
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFFU;
 3088              		.loc 1 886 0 discriminator 3
 3089 0020 FB68     		ldr	r3, [r7, #12]
 3090 0022 5A01     		lsls	r2, r3, #5
 3091 0024 7B68     		ldr	r3, [r7, #4]
 3092 0026 1344     		add	r3, r3, r2
 3093 0028 03F53063 		add	r3, r3, #2816
 3094 002c 1A46     		mov	r2, r3
 3095 002e FF23     		movs	r3, #255
 3096 0030 9360     		str	r3, [r2, #8]
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3097              		.loc 1 883 0 discriminator 3
 3098 0032 FB68     		ldr	r3, [r7, #12]
 3099 0034 0133     		adds	r3, r3, #1
 3100 0036 FB60     		str	r3, [r7, #12]
 3101              	.L131:
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3102              		.loc 1 883 0 is_stmt 0 discriminator 1
 3103 0038 FB68     		ldr	r3, [r7, #12]
 3104 003a 0E2B     		cmp	r3, #14
 3105 003c E7D9     		bls	.L132
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 3106              		.loc 1 888 0 is_stmt 1
 3107 003e 7B68     		ldr	r3, [r7, #4]
 3108 0040 03F50063 		add	r3, r3, #2048
 3109 0044 1A46     		mov	r2, r3
 3110 0046 4FF0FF33 		mov	r3, #-1
 3111 004a 9361     		str	r3, [r2, #24]
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 3112              		.loc 1 891 0
 3113 004c 7B68     		ldr	r3, [r7, #4]
 3114 004e 03F50063 		add	r3, r3, #2048
 3115 0052 1A46     		mov	r2, r3
 3116 0054 0023     		movs	r3, #0
 3117 0056 1361     		str	r3, [r2, #16]
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 3118              		.loc 1 892 0
 3119 0058 7B68     		ldr	r3, [r7, #4]
 3120 005a 03F50063 		add	r3, r3, #2048
 3121 005e 1A46     		mov	r2, r3
ARM GAS  /tmp/ccVcqEjV.s 			page 71


 3122 0060 0023     		movs	r3, #0
 3123 0062 5361     		str	r3, [r2, #20]
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 3124              		.loc 1 893 0
 3125 0064 7B68     		ldr	r3, [r7, #4]
 3126 0066 03F50063 		add	r3, r3, #2048
 3127 006a 1A46     		mov	r2, r3
 3128 006c 0023     		movs	r3, #0
 3129 006e D361     		str	r3, [r2, #28]
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 3130              		.loc 1 896 0
 3131 0070 7868     		ldr	r0, [r7, #4]
 3132 0072 FFF7FEFF 		bl	USB_FlushRxFifo
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx ,  0x10U);  
 3133              		.loc 1 897 0
 3134 0076 1021     		movs	r1, #16
 3135 0078 7868     		ldr	r0, [r7, #4]
 3136 007a FFF7FEFF 		bl	USB_FlushTxFifo
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3137              		.loc 1 899 0
 3138 007e 0023     		movs	r3, #0
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3139              		.loc 1 900 0
 3140 0080 1846     		mov	r0, r3
 3141 0082 1037     		adds	r7, r7, #16
 3142              	.LCFI119:
 3143              		.cfi_def_cfa_offset 8
 3144 0084 BD46     		mov	sp, r7
 3145              	.LCFI120:
 3146              		.cfi_def_cfa_register 13
 3147              		@ sp needed
 3148 0086 80BD     		pop	{r7, pc}
 3149              		.cfi_endproc
 3150              	.LFE145:
 3152              		.section	.text.USB_SetDevAddress,"ax",%progbits
 3153              		.align	2
 3154              		.global	USB_SetDevAddress
 3155              		.thumb
 3156              		.thumb_func
 3158              	USB_SetDevAddress:
 3159              	.LFB146:
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address : new device address to be assigned
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress (USB_OTG_GlobalTypeDef *USBx, uint8_t address)
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3160              		.loc 1 910 0
 3161              		.cfi_startproc
 3162              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccVcqEjV.s 			page 72


 3163              		@ frame_needed = 1, uses_anonymous_args = 0
 3164              		@ link register save eliminated.
 3165 0000 80B4     		push	{r7}
 3166              	.LCFI121:
 3167              		.cfi_def_cfa_offset 4
 3168              		.cfi_offset 7, -4
 3169 0002 83B0     		sub	sp, sp, #12
 3170              	.LCFI122:
 3171              		.cfi_def_cfa_offset 16
 3172 0004 00AF     		add	r7, sp, #0
 3173              	.LCFI123:
 3174              		.cfi_def_cfa_register 7
 3175 0006 7860     		str	r0, [r7, #4]
 3176 0008 0B46     		mov	r3, r1
 3177 000a FB70     		strb	r3, [r7, #3]
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~ (USB_OTG_DCFG_DAD);
 3178              		.loc 1 911 0
 3179 000c 7B68     		ldr	r3, [r7, #4]
 3180 000e 03F50063 		add	r3, r3, #2048
 3181 0012 1A46     		mov	r2, r3
 3182 0014 7B68     		ldr	r3, [r7, #4]
 3183 0016 03F50063 		add	r3, r3, #2048
 3184 001a 1B68     		ldr	r3, [r3]
 3185 001c 23F4FE63 		bic	r3, r3, #2032
 3186 0020 1360     		str	r3, [r2]
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= (address << 4U) & USB_OTG_DCFG_DAD ;
 3187              		.loc 1 912 0
 3188 0022 7B68     		ldr	r3, [r7, #4]
 3189 0024 03F50063 		add	r3, r3, #2048
 3190 0028 1946     		mov	r1, r3
 3191 002a 7B68     		ldr	r3, [r7, #4]
 3192 002c 03F50063 		add	r3, r3, #2048
 3193 0030 1A68     		ldr	r2, [r3]
 3194 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3195 0034 1B01     		lsls	r3, r3, #4
 3196 0036 03F4FE63 		and	r3, r3, #2032
 3197 003a 1343     		orrs	r3, r3, r2
 3198 003c 0B60     		str	r3, [r1]
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 3199              		.loc 1 914 0
 3200 003e 0023     		movs	r3, #0
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3201              		.loc 1 915 0
 3202 0040 1846     		mov	r0, r3
 3203 0042 0C37     		adds	r7, r7, #12
 3204              	.LCFI124:
 3205              		.cfi_def_cfa_offset 4
 3206 0044 BD46     		mov	sp, r7
 3207              	.LCFI125:
 3208              		.cfi_def_cfa_register 13
 3209              		@ sp needed
 3210 0046 5DF8047B 		ldr	r7, [sp], #4
 3211              	.LCFI126:
 3212              		.cfi_restore 7
 3213              		.cfi_def_cfa_offset 0
 3214 004a 7047     		bx	lr
ARM GAS  /tmp/ccVcqEjV.s 			page 73


 3215              		.cfi_endproc
 3216              	.LFE146:
 3218              		.section	.text.USB_DevConnect,"ax",%progbits
 3219              		.align	2
 3220              		.global	USB_DevConnect
 3221              		.thumb
 3222              		.thumb_func
 3224              	USB_DevConnect:
 3225              	.LFB147:
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling the pull-up/pull-down
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect (USB_OTG_GlobalTypeDef *USBx)
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3226              		.loc 1 923 0
 3227              		.cfi_startproc
 3228              		@ args = 0, pretend = 0, frame = 8
 3229              		@ frame_needed = 1, uses_anonymous_args = 0
 3230 0000 80B5     		push	{r7, lr}
 3231              	.LCFI127:
 3232              		.cfi_def_cfa_offset 8
 3233              		.cfi_offset 7, -8
 3234              		.cfi_offset 14, -4
 3235 0002 82B0     		sub	sp, sp, #8
 3236              	.LCFI128:
 3237              		.cfi_def_cfa_offset 16
 3238 0004 00AF     		add	r7, sp, #0
 3239              	.LCFI129:
 3240              		.cfi_def_cfa_register 7
 3241 0006 7860     		str	r0, [r7, #4]
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS ;
 3242              		.loc 1 924 0
 3243 0008 7B68     		ldr	r3, [r7, #4]
 3244 000a 03F50063 		add	r3, r3, #2048
 3245 000e 1A46     		mov	r2, r3
 3246 0010 7B68     		ldr	r3, [r7, #4]
 3247 0012 03F50063 		add	r3, r3, #2048
 3248 0016 5B68     		ldr	r3, [r3, #4]
 3249 0018 23F00203 		bic	r3, r3, #2
 3250 001c 5360     		str	r3, [r2, #4]
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3251              		.loc 1 925 0
 3252 001e 0320     		movs	r0, #3
 3253 0020 FFF7FEFF 		bl	HAL_Delay
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 3254              		.loc 1 927 0
 3255 0024 0023     		movs	r3, #0
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3256              		.loc 1 928 0
 3257 0026 1846     		mov	r0, r3
 3258 0028 0837     		adds	r7, r7, #8
 3259              	.LCFI130:
 3260              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccVcqEjV.s 			page 74


 3261 002a BD46     		mov	sp, r7
 3262              	.LCFI131:
 3263              		.cfi_def_cfa_register 13
 3264              		@ sp needed
 3265 002c 80BD     		pop	{r7, pc}
 3266              		.cfi_endproc
 3267              	.LFE147:
 3269 002e 00BF     		.section	.text.USB_DevDisconnect,"ax",%progbits
 3270              		.align	2
 3271              		.global	USB_DevDisconnect
 3272              		.thumb
 3273              		.thumb_func
 3275              	USB_DevDisconnect:
 3276              	.LFB148:
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling the pull-up/pull-down
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect (USB_OTG_GlobalTypeDef *USBx)
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3277              		.loc 1 936 0
 3278              		.cfi_startproc
 3279              		@ args = 0, pretend = 0, frame = 8
 3280              		@ frame_needed = 1, uses_anonymous_args = 0
 3281 0000 80B5     		push	{r7, lr}
 3282              	.LCFI132:
 3283              		.cfi_def_cfa_offset 8
 3284              		.cfi_offset 7, -8
 3285              		.cfi_offset 14, -4
 3286 0002 82B0     		sub	sp, sp, #8
 3287              	.LCFI133:
 3288              		.cfi_def_cfa_offset 16
 3289 0004 00AF     		add	r7, sp, #0
 3290              	.LCFI134:
 3291              		.cfi_def_cfa_register 7
 3292 0006 7860     		str	r0, [r7, #4]
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS ;
 3293              		.loc 1 937 0
 3294 0008 7B68     		ldr	r3, [r7, #4]
 3295 000a 03F50063 		add	r3, r3, #2048
 3296 000e 1A46     		mov	r2, r3
 3297 0010 7B68     		ldr	r3, [r7, #4]
 3298 0012 03F50063 		add	r3, r3, #2048
 3299 0016 5B68     		ldr	r3, [r3, #4]
 3300 0018 43F00203 		orr	r3, r3, #2
 3301 001c 5360     		str	r3, [r2, #4]
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3302              		.loc 1 938 0
 3303 001e 0320     		movs	r0, #3
 3304 0020 FFF7FEFF 		bl	HAL_Delay
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 3305              		.loc 1 940 0
 3306 0024 0023     		movs	r3, #0
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  /tmp/ccVcqEjV.s 			page 75


 3307              		.loc 1 941 0
 3308 0026 1846     		mov	r0, r3
 3309 0028 0837     		adds	r7, r7, #8
 3310              	.LCFI135:
 3311              		.cfi_def_cfa_offset 8
 3312 002a BD46     		mov	sp, r7
 3313              	.LCFI136:
 3314              		.cfi_def_cfa_register 13
 3315              		@ sp needed
 3316 002c 80BD     		pop	{r7, pc}
 3317              		.cfi_endproc
 3318              	.LFE148:
 3320 002e 00BF     		.section	.text.USB_ReadInterrupts,"ax",%progbits
 3321              		.align	2
 3322              		.global	USB_ReadInterrupts
 3323              		.thumb
 3324              		.thumb_func
 3326              	USB_ReadInterrupts:
 3327              	.LFB149:
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts (USB_OTG_GlobalTypeDef *USBx)
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3328              		.loc 1 949 0
 3329              		.cfi_startproc
 3330              		@ args = 0, pretend = 0, frame = 16
 3331              		@ frame_needed = 1, uses_anonymous_args = 0
 3332              		@ link register save eliminated.
 3333 0000 80B4     		push	{r7}
 3334              	.LCFI137:
 3335              		.cfi_def_cfa_offset 4
 3336              		.cfi_offset 7, -4
 3337 0002 85B0     		sub	sp, sp, #20
 3338              	.LCFI138:
 3339              		.cfi_def_cfa_offset 24
 3340 0004 00AF     		add	r7, sp, #0
 3341              	.LCFI139:
 3342              		.cfi_def_cfa_register 7
 3343 0006 7860     		str	r0, [r7, #4]
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v = 0U;
 3344              		.loc 1 950 0
 3345 0008 0023     		movs	r3, #0
 3346 000a FB60     		str	r3, [r7, #12]
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v = USBx->GINTSTS;
 3347              		.loc 1 952 0
 3348 000c 7B68     		ldr	r3, [r7, #4]
 3349 000e 5B69     		ldr	r3, [r3, #20]
 3350 0010 FB60     		str	r3, [r7, #12]
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx->GINTMSK;
 3351              		.loc 1 953 0
 3352 0012 7B68     		ldr	r3, [r7, #4]
 3353 0014 9B69     		ldr	r3, [r3, #24]
ARM GAS  /tmp/ccVcqEjV.s 			page 76


 3354 0016 FA68     		ldr	r2, [r7, #12]
 3355 0018 1340     		ands	r3, r3, r2
 3356 001a FB60     		str	r3, [r7, #12]
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;  
 3357              		.loc 1 954 0
 3358 001c FB68     		ldr	r3, [r7, #12]
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3359              		.loc 1 955 0
 3360 001e 1846     		mov	r0, r3
 3361 0020 1437     		adds	r7, r7, #20
 3362              	.LCFI140:
 3363              		.cfi_def_cfa_offset 4
 3364 0022 BD46     		mov	sp, r7
 3365              	.LCFI141:
 3366              		.cfi_def_cfa_register 13
 3367              		@ sp needed
 3368 0024 5DF8047B 		ldr	r7, [sp], #4
 3369              	.LCFI142:
 3370              		.cfi_restore 7
 3371              		.cfi_def_cfa_offset 0
 3372 0028 7047     		bx	lr
 3373              		.cfi_endproc
 3374              	.LFE149:
 3376 002a 00BF     		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 3377              		.align	2
 3378              		.global	USB_ReadDevAllOutEpInterrupt
 3379              		.thumb
 3380              		.thumb_func
 3382              	USB_ReadDevAllOutEpInterrupt:
 3383              	.LFB150:
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt (USB_OTG_GlobalTypeDef *USBx)
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3384              		.loc 1 963 0
 3385              		.cfi_startproc
 3386              		@ args = 0, pretend = 0, frame = 16
 3387              		@ frame_needed = 1, uses_anonymous_args = 0
 3388              		@ link register save eliminated.
 3389 0000 80B4     		push	{r7}
 3390              	.LCFI143:
 3391              		.cfi_def_cfa_offset 4
 3392              		.cfi_offset 7, -4
 3393 0002 85B0     		sub	sp, sp, #20
 3394              	.LCFI144:
 3395              		.cfi_def_cfa_offset 24
 3396 0004 00AF     		add	r7, sp, #0
 3397              	.LCFI145:
 3398              		.cfi_def_cfa_register 7
 3399 0006 7860     		str	r0, [r7, #4]
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_DEVICE->DAINT;
 3400              		.loc 1 965 0
ARM GAS  /tmp/ccVcqEjV.s 			page 77


 3401 0008 7B68     		ldr	r3, [r7, #4]
 3402 000a 03F50063 		add	r3, r3, #2048
 3403 000e 9B69     		ldr	r3, [r3, #24]
 3404 0010 FB60     		str	r3, [r7, #12]
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DAINTMSK;
 3405              		.loc 1 966 0
 3406 0012 7B68     		ldr	r3, [r7, #4]
 3407 0014 03F50063 		add	r3, r3, #2048
 3408 0018 DB69     		ldr	r3, [r3, #28]
 3409 001a FA68     		ldr	r2, [r7, #12]
 3410 001c 1340     		ands	r3, r3, r2
 3411 001e FB60     		str	r3, [r7, #12]
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((v & 0xffff0000U) >> 16U);
 3412              		.loc 1 967 0
 3413 0020 FB68     		ldr	r3, [r7, #12]
 3414 0022 1B0C     		lsrs	r3, r3, #16
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3415              		.loc 1 968 0
 3416 0024 1846     		mov	r0, r3
 3417 0026 1437     		adds	r7, r7, #20
 3418              	.LCFI146:
 3419              		.cfi_def_cfa_offset 4
 3420 0028 BD46     		mov	sp, r7
 3421              	.LCFI147:
 3422              		.cfi_def_cfa_register 13
 3423              		@ sp needed
 3424 002a 5DF8047B 		ldr	r7, [sp], #4
 3425              	.LCFI148:
 3426              		.cfi_restore 7
 3427              		.cfi_def_cfa_offset 0
 3428 002e 7047     		bx	lr
 3429              		.cfi_endproc
 3430              	.LFE150:
 3432              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 3433              		.align	2
 3434              		.global	USB_ReadDevAllInEpInterrupt
 3435              		.thumb
 3436              		.thumb_func
 3438              	USB_ReadDevAllInEpInterrupt:
 3439              	.LFB151:
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt (USB_OTG_GlobalTypeDef *USBx)
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3440              		.loc 1 976 0
 3441              		.cfi_startproc
 3442              		@ args = 0, pretend = 0, frame = 16
 3443              		@ frame_needed = 1, uses_anonymous_args = 0
 3444              		@ link register save eliminated.
 3445 0000 80B4     		push	{r7}
 3446              	.LCFI149:
 3447              		.cfi_def_cfa_offset 4
 3448              		.cfi_offset 7, -4
ARM GAS  /tmp/ccVcqEjV.s 			page 78


 3449 0002 85B0     		sub	sp, sp, #20
 3450              	.LCFI150:
 3451              		.cfi_def_cfa_offset 24
 3452 0004 00AF     		add	r7, sp, #0
 3453              	.LCFI151:
 3454              		.cfi_def_cfa_register 7
 3455 0006 7860     		str	r0, [r7, #4]
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_DEVICE->DAINT;
 3456              		.loc 1 978 0
 3457 0008 7B68     		ldr	r3, [r7, #4]
 3458 000a 03F50063 		add	r3, r3, #2048
 3459 000e 9B69     		ldr	r3, [r3, #24]
 3460 0010 FB60     		str	r3, [r7, #12]
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DAINTMSK;
 3461              		.loc 1 979 0
 3462 0012 7B68     		ldr	r3, [r7, #4]
 3463 0014 03F50063 		add	r3, r3, #2048
 3464 0018 DB69     		ldr	r3, [r3, #28]
 3465 001a FA68     		ldr	r2, [r7, #12]
 3466 001c 1340     		ands	r3, r3, r2
 3467 001e FB60     		str	r3, [r7, #12]
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((v & 0xFFFFU));
 3468              		.loc 1 980 0
 3469 0020 FB68     		ldr	r3, [r7, #12]
 3470 0022 9BB2     		uxth	r3, r3
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3471              		.loc 1 981 0
 3472 0024 1846     		mov	r0, r3
 3473 0026 1437     		adds	r7, r7, #20
 3474              	.LCFI152:
 3475              		.cfi_def_cfa_offset 4
 3476 0028 BD46     		mov	sp, r7
 3477              	.LCFI153:
 3478              		.cfi_def_cfa_register 13
 3479              		@ sp needed
 3480 002a 5DF8047B 		ldr	r7, [sp], #4
 3481              	.LCFI154:
 3482              		.cfi_restore 7
 3483              		.cfi_def_cfa_offset 0
 3484 002e 7047     		bx	lr
 3485              		.cfi_endproc
 3486              	.LFE151:
 3488              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 3489              		.align	2
 3490              		.global	USB_ReadDevOutEPInterrupt
 3491              		.thumb
 3492              		.thumb_func
 3494              	USB_ReadDevOutEPInterrupt:
 3495              	.LFB152:
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum : endpoint number
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
ARM GAS  /tmp/ccVcqEjV.s 			page 79


 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt (USB_OTG_GlobalTypeDef *USBx , uint8_t epnum)
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3496              		.loc 1 991 0
 3497              		.cfi_startproc
 3498              		@ args = 0, pretend = 0, frame = 16
 3499              		@ frame_needed = 1, uses_anonymous_args = 0
 3500              		@ link register save eliminated.
 3501 0000 80B4     		push	{r7}
 3502              	.LCFI155:
 3503              		.cfi_def_cfa_offset 4
 3504              		.cfi_offset 7, -4
 3505 0002 85B0     		sub	sp, sp, #20
 3506              	.LCFI156:
 3507              		.cfi_def_cfa_offset 24
 3508 0004 00AF     		add	r7, sp, #0
 3509              	.LCFI157:
 3510              		.cfi_def_cfa_register 7
 3511 0006 7860     		str	r0, [r7, #4]
 3512 0008 0B46     		mov	r3, r1
 3513 000a FB70     		strb	r3, [r7, #3]
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_OUTEP(epnum)->DOEPINT;
 3514              		.loc 1 993 0
 3515 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3516 000e 5A01     		lsls	r2, r3, #5
 3517 0010 7B68     		ldr	r3, [r7, #4]
 3518 0012 1344     		add	r3, r3, r2
 3519 0014 03F53063 		add	r3, r3, #2816
 3520 0018 9B68     		ldr	r3, [r3, #8]
 3521 001a FB60     		str	r3, [r7, #12]
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DOEPMSK;
 3522              		.loc 1 994 0
 3523 001c 7B68     		ldr	r3, [r7, #4]
 3524 001e 03F50063 		add	r3, r3, #2048
 3525 0022 5B69     		ldr	r3, [r3, #20]
 3526 0024 FA68     		ldr	r2, [r7, #12]
 3527 0026 1340     		ands	r3, r3, r2
 3528 0028 FB60     		str	r3, [r7, #12]
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;
 3529              		.loc 1 995 0
 3530 002a FB68     		ldr	r3, [r7, #12]
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3531              		.loc 1 996 0
 3532 002c 1846     		mov	r0, r3
 3533 002e 1437     		adds	r7, r7, #20
 3534              	.LCFI158:
 3535              		.cfi_def_cfa_offset 4
 3536 0030 BD46     		mov	sp, r7
 3537              	.LCFI159:
 3538              		.cfi_def_cfa_register 13
 3539              		@ sp needed
 3540 0032 5DF8047B 		ldr	r7, [sp], #4
 3541              	.LCFI160:
 3542              		.cfi_restore 7
 3543              		.cfi_def_cfa_offset 0
 3544 0036 7047     		bx	lr
ARM GAS  /tmp/ccVcqEjV.s 			page 80


 3545              		.cfi_endproc
 3546              	.LFE152:
 3548              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 3549              		.align	2
 3550              		.global	USB_ReadDevInEPInterrupt
 3551              		.thumb
 3552              		.thumb_func
 3554              	USB_ReadDevInEPInterrupt:
 3555              	.LFB153:
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum : endpoint number
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt (USB_OTG_GlobalTypeDef *USBx , uint8_t epnum)
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3556              		.loc 1 1006 0
 3557              		.cfi_startproc
 3558              		@ args = 0, pretend = 0, frame = 24
 3559              		@ frame_needed = 1, uses_anonymous_args = 0
 3560              		@ link register save eliminated.
 3561 0000 80B4     		push	{r7}
 3562              	.LCFI161:
 3563              		.cfi_def_cfa_offset 4
 3564              		.cfi_offset 7, -4
 3565 0002 87B0     		sub	sp, sp, #28
 3566              	.LCFI162:
 3567              		.cfi_def_cfa_offset 32
 3568 0004 00AF     		add	r7, sp, #0
 3569              	.LCFI163:
 3570              		.cfi_def_cfa_register 7
 3571 0006 7860     		str	r0, [r7, #4]
 3572 0008 0B46     		mov	r3, r1
 3573 000a FB70     		strb	r3, [r7, #3]
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v, msk, emp;
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 3574              		.loc 1 1009 0
 3575 000c 7B68     		ldr	r3, [r7, #4]
 3576 000e 03F50063 		add	r3, r3, #2048
 3577 0012 1B69     		ldr	r3, [r3, #16]
 3578 0014 7B61     		str	r3, [r7, #20]
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 3579              		.loc 1 1010 0
 3580 0016 7B68     		ldr	r3, [r7, #4]
 3581 0018 03F50063 		add	r3, r3, #2048
 3582 001c 5B6B     		ldr	r3, [r3, #52]
 3583 001e 3B61     		str	r3, [r7, #16]
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> epnum) & 0x1U) << 7U;
 3584              		.loc 1 1011 0
 3585 0020 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3586 0022 3A69     		ldr	r2, [r7, #16]
 3587 0024 22FA03F3 		lsr	r3, r2, r3
 3588 0028 DB01     		lsls	r3, r3, #7
ARM GAS  /tmp/ccVcqEjV.s 			page 81


 3589 002a DBB2     		uxtb	r3, r3
 3590 002c 7A69     		ldr	r2, [r7, #20]
 3591 002e 1343     		orrs	r3, r3, r2
 3592 0030 7B61     		str	r3, [r7, #20]
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v = USBx_INEP(epnum)->DIEPINT & msk;
 3593              		.loc 1 1012 0
 3594 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3595 0034 5A01     		lsls	r2, r3, #5
 3596 0036 7B68     		ldr	r3, [r7, #4]
 3597 0038 1344     		add	r3, r3, r2
 3598 003a 03F51063 		add	r3, r3, #2304
 3599 003e 9A68     		ldr	r2, [r3, #8]
 3600 0040 7B69     		ldr	r3, [r7, #20]
 3601 0042 1340     		ands	r3, r3, r2
 3602 0044 FB60     		str	r3, [r7, #12]
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;
 3603              		.loc 1 1013 0
 3604 0046 FB68     		ldr	r3, [r7, #12]
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3605              		.loc 1 1014 0
 3606 0048 1846     		mov	r0, r3
 3607 004a 1C37     		adds	r7, r7, #28
 3608              	.LCFI164:
 3609              		.cfi_def_cfa_offset 4
 3610 004c BD46     		mov	sp, r7
 3611              	.LCFI165:
 3612              		.cfi_def_cfa_register 13
 3613              		@ sp needed
 3614 004e 5DF8047B 		ldr	r7, [sp], #4
 3615              	.LCFI166:
 3616              		.cfi_restore 7
 3617              		.cfi_def_cfa_offset 0
 3618 0052 7047     		bx	lr
 3619              		.cfi_endproc
 3620              	.LFE153:
 3622              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 3623              		.align	2
 3624              		.global	USB_ClearInterrupts
 3625              		.thumb
 3626              		.thumb_func
 3628              	USB_ClearInterrupts:
 3629              	.LFB154:
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt : interrupt flag
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts (USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3630              		.loc 1 1023 0
 3631              		.cfi_startproc
 3632              		@ args = 0, pretend = 0, frame = 8
 3633              		@ frame_needed = 1, uses_anonymous_args = 0
 3634              		@ link register save eliminated.
 3635 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccVcqEjV.s 			page 82


 3636              	.LCFI167:
 3637              		.cfi_def_cfa_offset 4
 3638              		.cfi_offset 7, -4
 3639 0002 83B0     		sub	sp, sp, #12
 3640              	.LCFI168:
 3641              		.cfi_def_cfa_offset 16
 3642 0004 00AF     		add	r7, sp, #0
 3643              	.LCFI169:
 3644              		.cfi_def_cfa_register 7
 3645 0006 7860     		str	r0, [r7, #4]
 3646 0008 3960     		str	r1, [r7]
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt; 
 3647              		.loc 1 1024 0
 3648 000a 7B68     		ldr	r3, [r7, #4]
 3649 000c 5A69     		ldr	r2, [r3, #20]
 3650 000e 3B68     		ldr	r3, [r7]
 3651 0010 1A43     		orrs	r2, r2, r3
 3652 0012 7B68     		ldr	r3, [r7, #4]
 3653 0014 5A61     		str	r2, [r3, #20]
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3654              		.loc 1 1025 0
 3655 0016 00BF     		nop
 3656 0018 0C37     		adds	r7, r7, #12
 3657              	.LCFI170:
 3658              		.cfi_def_cfa_offset 4
 3659 001a BD46     		mov	sp, r7
 3660              	.LCFI171:
 3661              		.cfi_def_cfa_register 13
 3662              		@ sp needed
 3663 001c 5DF8047B 		ldr	r7, [sp], #4
 3664              	.LCFI172:
 3665              		.cfi_restore 7
 3666              		.cfi_def_cfa_offset 0
 3667 0020 7047     		bx	lr
 3668              		.cfi_endproc
 3669              	.LFE154:
 3671 0022 00BF     		.section	.text.USB_GetMode,"ax",%progbits
 3672              		.align	2
 3673              		.global	USB_GetMode
 3674              		.thumb
 3675              		.thumb_func
 3677              	USB_GetMode:
 3678              	.LFB155:
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host 
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3679              		.loc 1 1036 0
 3680              		.cfi_startproc
 3681              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccVcqEjV.s 			page 83


 3682              		@ frame_needed = 1, uses_anonymous_args = 0
 3683              		@ link register save eliminated.
 3684 0000 80B4     		push	{r7}
 3685              	.LCFI173:
 3686              		.cfi_def_cfa_offset 4
 3687              		.cfi_offset 7, -4
 3688 0002 83B0     		sub	sp, sp, #12
 3689              	.LCFI174:
 3690              		.cfi_def_cfa_offset 16
 3691 0004 00AF     		add	r7, sp, #0
 3692              	.LCFI175:
 3693              		.cfi_def_cfa_register 7
 3694 0006 7860     		str	r0, [r7, #4]
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS ) & 0x1U);
 3695              		.loc 1 1037 0
 3696 0008 7B68     		ldr	r3, [r7, #4]
 3697 000a 5B69     		ldr	r3, [r3, #20]
 3698 000c 03F00103 		and	r3, r3, #1
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3699              		.loc 1 1038 0
 3700 0010 1846     		mov	r0, r3
 3701 0012 0C37     		adds	r7, r7, #12
 3702              	.LCFI176:
 3703              		.cfi_def_cfa_offset 4
 3704 0014 BD46     		mov	sp, r7
 3705              	.LCFI177:
 3706              		.cfi_def_cfa_register 13
 3707              		@ sp needed
 3708 0016 5DF8047B 		ldr	r7, [sp], #4
 3709              	.LCFI178:
 3710              		.cfi_restore 7
 3711              		.cfi_def_cfa_offset 0
 3712 001a 7047     		bx	lr
 3713              		.cfi_endproc
 3714              	.LFE155:
 3716              		.section	.text.USB_ActivateSetup,"ax",%progbits
 3717              		.align	2
 3718              		.global	USB_ActivateSetup
 3719              		.thumb
 3720              		.thumb_func
 3722              	USB_ActivateSetup:
 3723              	.LFB156:
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup (USB_OTG_GlobalTypeDef *USBx)
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3724              		.loc 1 1047 0
 3725              		.cfi_startproc
 3726              		@ args = 0, pretend = 0, frame = 8
 3727              		@ frame_needed = 1, uses_anonymous_args = 0
 3728              		@ link register save eliminated.
 3729 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccVcqEjV.s 			page 84


 3730              	.LCFI179:
 3731              		.cfi_def_cfa_offset 4
 3732              		.cfi_offset 7, -4
 3733 0002 83B0     		sub	sp, sp, #12
 3734              	.LCFI180:
 3735              		.cfi_def_cfa_offset 16
 3736 0004 00AF     		add	r7, sp, #0
 3737              	.LCFI181:
 3738              		.cfi_def_cfa_register 7
 3739 0006 7860     		str	r0, [r7, #4]
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP based on the enumeration speed */
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 3740              		.loc 1 1049 0
 3741 0008 7B68     		ldr	r3, [r7, #4]
 3742 000a 03F51063 		add	r3, r3, #2304
 3743 000e 1A46     		mov	r2, r3
 3744 0010 7B68     		ldr	r3, [r7, #4]
 3745 0012 03F51063 		add	r3, r3, #2304
 3746 0016 1B68     		ldr	r3, [r3]
 3747 0018 23F4FF63 		bic	r3, r3, #2040
 3748 001c 23F00703 		bic	r3, r3, #7
 3749 0020 1360     		str	r3, [r2]
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 3750              		.loc 1 1051 0
 3751 0022 7B68     		ldr	r3, [r7, #4]
 3752 0024 03F50063 		add	r3, r3, #2048
 3753 0028 9B68     		ldr	r3, [r3, #8]
 3754 002a 03F00603 		and	r3, r3, #6
 3755 002e 042B     		cmp	r3, #4
 3756 0030 0AD1     		bne	.L154
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(0U)->DIEPCTL |= 3U;
 3757              		.loc 1 1053 0
 3758 0032 7B68     		ldr	r3, [r7, #4]
 3759 0034 03F51063 		add	r3, r3, #2304
 3760 0038 1A46     		mov	r2, r3
 3761 003a 7B68     		ldr	r3, [r7, #4]
 3762 003c 03F51063 		add	r3, r3, #2304
 3763 0040 1B68     		ldr	r3, [r3]
 3764 0042 43F00303 		orr	r3, r3, #3
 3765 0046 1360     		str	r3, [r2]
 3766              	.L154:
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 3767              		.loc 1 1055 0
 3768 0048 7B68     		ldr	r3, [r7, #4]
 3769 004a 03F50063 		add	r3, r3, #2048
 3770 004e 1A46     		mov	r2, r3
 3771 0050 7B68     		ldr	r3, [r7, #4]
 3772 0052 03F50063 		add	r3, r3, #2048
 3773 0056 5B68     		ldr	r3, [r3, #4]
 3774 0058 43F48073 		orr	r3, r3, #256
 3775 005c 5360     		str	r3, [r2, #4]
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3776              		.loc 1 1057 0
ARM GAS  /tmp/ccVcqEjV.s 			page 85


 3777 005e 0023     		movs	r3, #0
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3778              		.loc 1 1058 0
 3779 0060 1846     		mov	r0, r3
 3780 0062 0C37     		adds	r7, r7, #12
 3781              	.LCFI182:
 3782              		.cfi_def_cfa_offset 4
 3783 0064 BD46     		mov	sp, r7
 3784              	.LCFI183:
 3785              		.cfi_def_cfa_register 13
 3786              		@ sp needed
 3787 0066 5DF8047B 		ldr	r7, [sp], #4
 3788              	.LCFI184:
 3789              		.cfi_restore 7
 3790              		.cfi_def_cfa_offset 0
 3791 006a 7047     		bx	lr
 3792              		.cfi_endproc
 3793              	.LFE156:
 3795              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 3796              		.align	2
 3797              		.global	USB_EP0_OutStart
 3798              		.thumb
 3799              		.thumb_func
 3801              	USB_EP0_OutStart:
 3802              	.LFB157:
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma: USB dma enabled or disabled 
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup : pointer to setup packet
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3803              		.loc 1 1072 0
 3804              		.cfi_startproc
 3805              		@ args = 0, pretend = 0, frame = 16
 3806              		@ frame_needed = 1, uses_anonymous_args = 0
 3807              		@ link register save eliminated.
 3808 0000 80B4     		push	{r7}
 3809              	.LCFI185:
 3810              		.cfi_def_cfa_offset 4
 3811              		.cfi_offset 7, -4
 3812 0002 85B0     		sub	sp, sp, #20
 3813              	.LCFI186:
 3814              		.cfi_def_cfa_offset 24
 3815 0004 00AF     		add	r7, sp, #0
 3816              	.LCFI187:
 3817              		.cfi_def_cfa_register 7
 3818 0006 F860     		str	r0, [r7, #12]
 3819 0008 0B46     		mov	r3, r1
 3820 000a 7A60     		str	r2, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 86


 3821 000c FB72     		strb	r3, [r7, #11]
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 3822              		.loc 1 1073 0
 3823 000e FB68     		ldr	r3, [r7, #12]
 3824 0010 03F53063 		add	r3, r3, #2816
 3825 0014 1A46     		mov	r2, r3
 3826 0016 0023     		movs	r3, #0
 3827 0018 1361     		str	r3, [r2, #16]
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U)) ;
 3828              		.loc 1 1074 0
 3829 001a FB68     		ldr	r3, [r7, #12]
 3830 001c 03F53063 		add	r3, r3, #2816
 3831 0020 1A46     		mov	r2, r3
 3832 0022 FB68     		ldr	r3, [r7, #12]
 3833 0024 03F53063 		add	r3, r3, #2816
 3834 0028 1B69     		ldr	r3, [r3, #16]
 3835 002a 43F40023 		orr	r3, r3, #524288
 3836 002e 1361     		str	r3, [r2, #16]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 3837              		.loc 1 1075 0
 3838 0030 FB68     		ldr	r3, [r7, #12]
 3839 0032 03F53063 		add	r3, r3, #2816
 3840 0036 1A46     		mov	r2, r3
 3841 0038 FB68     		ldr	r3, [r7, #12]
 3842 003a 03F53063 		add	r3, r3, #2816
 3843 003e 1B69     		ldr	r3, [r3, #16]
 3844 0040 43F01803 		orr	r3, r3, #24
 3845 0044 1361     		str	r3, [r2, #16]
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;  
 3846              		.loc 1 1076 0
 3847 0046 FB68     		ldr	r3, [r7, #12]
 3848 0048 03F53063 		add	r3, r3, #2816
 3849 004c 1A46     		mov	r2, r3
 3850 004e FB68     		ldr	r3, [r7, #12]
 3851 0050 03F53063 		add	r3, r3, #2816
 3852 0054 1B69     		ldr	r3, [r3, #16]
 3853 0056 43F0C043 		orr	r3, r3, #1610612736
 3854 005a 1361     		str	r3, [r2, #16]
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
 3855              		.loc 1 1078 0
 3856 005c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 3857 005e 012B     		cmp	r3, #1
 3858 0060 0CD1     		bne	.L157
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 3859              		.loc 1 1080 0
 3860 0062 FB68     		ldr	r3, [r7, #12]
 3861 0064 03F53063 		add	r3, r3, #2816
 3862 0068 1A46     		mov	r2, r3
 3863 006a 7B68     		ldr	r3, [r7, #4]
 3864 006c 5361     		str	r3, [r2, #20]
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL = 0x80008000U;
 3865              		.loc 1 1082 0
 3866 006e FB68     		ldr	r3, [r7, #12]
 3867 0070 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/ccVcqEjV.s 			page 87


 3868 0074 1A46     		mov	r2, r3
 3869 0076 4FF08023 		mov	r3, #-2147450880
 3870 007a 1360     		str	r3, [r2]
 3871              	.L157:
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 3872              		.loc 1 1085 0
 3873 007c 0023     		movs	r3, #0
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3874              		.loc 1 1086 0
 3875 007e 1846     		mov	r0, r3
 3876 0080 1437     		adds	r7, r7, #20
 3877              	.LCFI188:
 3878              		.cfi_def_cfa_offset 4
 3879 0082 BD46     		mov	sp, r7
 3880              	.LCFI189:
 3881              		.cfi_def_cfa_register 13
 3882              		@ sp needed
 3883 0084 5DF8047B 		ldr	r7, [sp], #4
 3884              	.LCFI190:
 3885              		.cfi_restore 7
 3886              		.cfi_def_cfa_offset 0
 3887 0088 7047     		bx	lr
 3888              		.cfi_endproc
 3889              	.LFE157:
 3891 008a 00BF     		.section	.text.USB_CoreReset,"ax",%progbits
 3892              		.align	2
 3893              		.thumb
 3894              		.thumb_func
 3896              	USB_CoreReset:
 3897              	.LFB158:
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3898              		.loc 1 1095 0
 3899              		.cfi_startproc
 3900              		@ args = 0, pretend = 0, frame = 16
 3901              		@ frame_needed = 1, uses_anonymous_args = 0
 3902              		@ link register save eliminated.
 3903 0000 80B4     		push	{r7}
 3904              	.LCFI191:
 3905              		.cfi_def_cfa_offset 4
 3906              		.cfi_offset 7, -4
 3907 0002 85B0     		sub	sp, sp, #20
 3908              	.LCFI192:
 3909              		.cfi_def_cfa_offset 24
 3910 0004 00AF     		add	r7, sp, #0
 3911              	.LCFI193:
 3912              		.cfi_def_cfa_register 7
 3913 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 88


1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 3914              		.loc 1 1096 0
 3915 0008 0023     		movs	r3, #0
 3916 000a FB60     		str	r3, [r7, #12]
 3917              	.L162:
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 3918              		.loc 1 1101 0
 3919 000c FB68     		ldr	r3, [r7, #12]
 3920 000e 0133     		adds	r3, r3, #1
 3921 0010 FB60     		str	r3, [r7, #12]
 3922 0012 FB68     		ldr	r3, [r7, #12]
 3923 0014 134A     		ldr	r2, .L165
 3924 0016 9342     		cmp	r3, r2
 3925 0018 01D9     		bls	.L160
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 3926              		.loc 1 1103 0
 3927 001a 0323     		movs	r3, #3
 3928 001c 1BE0     		b	.L161
 3929              	.L160:
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 3930              		.loc 1 1106 0
 3931 001e 7B68     		ldr	r3, [r7, #4]
 3932 0020 1B69     		ldr	r3, [r3, #16]
 3933 0022 002B     		cmp	r3, #0
 3934 0024 F2DA     		bge	.L162
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 3935              		.loc 1 1109 0
 3936 0026 0023     		movs	r3, #0
 3937 0028 FB60     		str	r3, [r7, #12]
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 3938              		.loc 1 1110 0
 3939 002a 7B68     		ldr	r3, [r7, #4]
 3940 002c 1B69     		ldr	r3, [r3, #16]
 3941 002e 43F00102 		orr	r2, r3, #1
 3942 0032 7B68     		ldr	r3, [r7, #4]
 3943 0034 1A61     		str	r2, [r3, #16]
 3944              	.L164:
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 3945              		.loc 1 1114 0
 3946 0036 FB68     		ldr	r3, [r7, #12]
 3947 0038 0133     		adds	r3, r3, #1
 3948 003a FB60     		str	r3, [r7, #12]
 3949 003c FB68     		ldr	r3, [r7, #12]
 3950 003e 094A     		ldr	r2, .L165
 3951 0040 9342     		cmp	r3, r2
ARM GAS  /tmp/ccVcqEjV.s 			page 89


 3952 0042 01D9     		bls	.L163
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 3953              		.loc 1 1116 0
 3954 0044 0323     		movs	r3, #3
 3955 0046 06E0     		b	.L161
 3956              	.L163:
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 3957              		.loc 1 1119 0
 3958 0048 7B68     		ldr	r3, [r7, #4]
 3959 004a 1B69     		ldr	r3, [r3, #16]
 3960 004c 03F00103 		and	r3, r3, #1
 3961 0050 002B     		cmp	r3, #0
 3962 0052 F0D1     		bne	.L164
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3963              		.loc 1 1121 0
 3964 0054 0023     		movs	r3, #0
 3965              	.L161:
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3966              		.loc 1 1122 0
 3967 0056 1846     		mov	r0, r3
 3968 0058 1437     		adds	r7, r7, #20
 3969              	.LCFI194:
 3970              		.cfi_def_cfa_offset 4
 3971 005a BD46     		mov	sp, r7
 3972              	.LCFI195:
 3973              		.cfi_def_cfa_register 13
 3974              		@ sp needed
 3975 005c 5DF8047B 		ldr	r7, [sp], #4
 3976              	.LCFI196:
 3977              		.cfi_restore 7
 3978              		.cfi_def_cfa_offset 0
 3979 0060 7047     		bx	lr
 3980              	.L166:
 3981 0062 00BF     		.align	2
 3982              	.L165:
 3983 0064 400D0300 		.word	200000
 3984              		.cfi_endproc
 3985              	.LFE158:
 3987              		.section	.text.USB_HostInit,"ax",%progbits
 3988              		.align	2
 3989              		.global	USB_HostInit
 3990              		.thumb
 3991              		.thumb_func
 3993              	USB_HostInit:
 3994              	.LFB159:
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers 
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode 
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg  : pointer to a USB_OTG_CfgTypeDef structure that contains
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
ARM GAS  /tmp/ccVcqEjV.s 			page 90


1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit (USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3995              		.loc 1 1134 0
 3996              		.cfi_startproc
 3997              		@ args = 56, pretend = 16, frame = 16
 3998              		@ frame_needed = 1, uses_anonymous_args = 0
 3999 0000 84B0     		sub	sp, sp, #16
 4000              	.LCFI197:
 4001              		.cfi_def_cfa_offset 16
 4002 0002 80B5     		push	{r7, lr}
 4003              	.LCFI198:
 4004              		.cfi_def_cfa_offset 24
 4005              		.cfi_offset 7, -24
 4006              		.cfi_offset 14, -20
 4007 0004 84B0     		sub	sp, sp, #16
 4008              	.LCFI199:
 4009              		.cfi_def_cfa_offset 40
 4010 0006 00AF     		add	r7, sp, #0
 4011              	.LCFI200:
 4012              		.cfi_def_cfa_register 7
 4013 0008 7860     		str	r0, [r7, #4]
 4014 000a 07F11C00 		add	r0, r7, #28
 4015 000e 80E80E00 		stmia	r0, {r1, r2, r3}
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 4016              		.loc 1 1138 0
 4017 0012 7B68     		ldr	r3, [r7, #4]
 4018 0014 03F56063 		add	r3, r3, #3584
 4019 0018 1A46     		mov	r2, r3
 4020 001a 0023     		movs	r3, #0
 4021 001c 1360     		str	r3, [r2]
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Activate VBUS Sensing B */
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx)
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 4022              		.loc 1 1143 0
 4023 001e 7B68     		ldr	r3, [r7, #4]
 4024 0020 9B6B     		ldr	r3, [r3, #56]
 4025 0022 43F40012 		orr	r2, r3, #2097152
 4026 0026 7B68     		ldr	r3, [r7, #4]
 4027 0028 9A63     		str	r2, [r3, #56]
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSASEN);
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSBSEN);
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* STM32F446xx || STM32F469xx || STM32F479xx || STM32F412Zx || STM32F412Rx || STM32F412Vx ||
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable the FS/LS support mode only */
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((cfg.speed == USB_OTG_SPEED_FULL)&&
 4028              		.loc 1 1151 0
 4029 002a 7B6A     		ldr	r3, [r7, #36]
 4030 002c 032B     		cmp	r3, #3
ARM GAS  /tmp/ccVcqEjV.s 			page 91


 4031 002e 0FD1     		bne	.L168
 4032              		.loc 1 1151 0 is_stmt 0 discriminator 1
 4033 0030 7B68     		ldr	r3, [r7, #4]
 4034 0032 B3F1A04F 		cmp	r3, #1342177280
 4035 0036 0BD0     		beq	.L168
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      (USBx != USB_OTG_FS))
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS; 
 4036              		.loc 1 1154 0 is_stmt 1
 4037 0038 7B68     		ldr	r3, [r7, #4]
 4038 003a 03F58063 		add	r3, r3, #1024
 4039 003e 1A46     		mov	r2, r3
 4040 0040 7B68     		ldr	r3, [r7, #4]
 4041 0042 03F58063 		add	r3, r3, #1024
 4042 0046 1B68     		ldr	r3, [r3]
 4043 0048 43F00403 		orr	r3, r3, #4
 4044 004c 1360     		str	r3, [r2]
 4045 004e 0AE0     		b	.L169
 4046              	.L168:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);  
 4047              		.loc 1 1158 0
 4048 0050 7B68     		ldr	r3, [r7, #4]
 4049 0052 03F58063 		add	r3, r3, #1024
 4050 0056 1A46     		mov	r2, r3
 4051 0058 7B68     		ldr	r3, [r7, #4]
 4052 005a 03F58063 		add	r3, r3, #1024
 4053 005e 1B68     		ldr	r3, [r3]
 4054 0060 23F00403 		bic	r3, r3, #4
 4055 0064 1360     		str	r3, [r2]
 4056              	.L169:
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx, 0x10U); /* all Tx FIFOs */
 4057              		.loc 1 1162 0
 4058 0066 1021     		movs	r1, #16
 4059 0068 7868     		ldr	r0, [r7, #4]
 4060 006a FFF7FEFF 		bl	USB_FlushTxFifo
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 4061              		.loc 1 1163 0
 4062 006e 7868     		ldr	r0, [r7, #4]
 4063 0070 FFF7FEFF 		bl	USB_FlushRxFifo
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 4064              		.loc 1 1166 0
 4065 0074 0023     		movs	r3, #0
 4066 0076 FB60     		str	r3, [r7, #12]
 4067 0078 15E0     		b	.L170
 4068              	.L171:
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 4069              		.loc 1 1168 0 discriminator 3
 4070 007a FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccVcqEjV.s 			page 92


 4071 007c 5A01     		lsls	r2, r3, #5
 4072 007e 7B68     		ldr	r3, [r7, #4]
 4073 0080 1344     		add	r3, r3, r2
 4074 0082 03F5A063 		add	r3, r3, #1280
 4075 0086 1A46     		mov	r2, r3
 4076 0088 4FF0FF33 		mov	r3, #-1
 4077 008c 9360     		str	r3, [r2, #8]
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 4078              		.loc 1 1169 0 discriminator 3
 4079 008e FB68     		ldr	r3, [r7, #12]
 4080 0090 5A01     		lsls	r2, r3, #5
 4081 0092 7B68     		ldr	r3, [r7, #4]
 4082 0094 1344     		add	r3, r3, r2
 4083 0096 03F5A063 		add	r3, r3, #1280
 4084 009a 1A46     		mov	r2, r3
 4085 009c 0023     		movs	r3, #0
 4086 009e D360     		str	r3, [r2, #12]
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4087              		.loc 1 1166 0 discriminator 3
 4088 00a0 FB68     		ldr	r3, [r7, #12]
 4089 00a2 0133     		adds	r3, r3, #1
 4090 00a4 FB60     		str	r3, [r7, #12]
 4091              	.L170:
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4092              		.loc 1 1166 0 is_stmt 0 discriminator 1
 4093 00a6 3A6A     		ldr	r2, [r7, #32]
 4094 00a8 FB68     		ldr	r3, [r7, #12]
 4095 00aa 9A42     		cmp	r2, r3
 4096 00ac E5D8     		bhi	.L171
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable VBUS driving */
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_DriveVbus(USBx, 1U);
 4097              		.loc 1 1173 0 is_stmt 1
 4098 00ae 0121     		movs	r1, #1
 4099 00b0 7868     		ldr	r0, [r7, #4]
 4100 00b2 FFF7FEFF 		bl	USB_DriveVbus
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(200U);
 4101              		.loc 1 1175 0
 4102 00b6 C820     		movs	r0, #200
 4103 00b8 FFF7FEFF 		bl	HAL_Delay
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 4104              		.loc 1 1178 0
 4105 00bc 7B68     		ldr	r3, [r7, #4]
 4106 00be 0022     		movs	r2, #0
 4107 00c0 9A61     		str	r2, [r3, #24]
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 4108              		.loc 1 1181 0
 4109 00c2 7B68     		ldr	r3, [r7, #4]
 4110 00c4 4FF0FF32 		mov	r2, #-1
 4111 00c8 5A61     		str	r2, [r3, #20]
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
ARM GAS  /tmp/ccVcqEjV.s 			page 93


1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(USBx == USB_OTG_FS)
 4112              		.loc 1 1183 0
 4113 00ca 7B68     		ldr	r3, [r7, #4]
 4114 00cc B3F1A04F 		cmp	r3, #1342177280
 4115 00d0 0AD1     		bne	.L172
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = (uint32_t )0x80U; 
 4116              		.loc 1 1186 0
 4117 00d2 7B68     		ldr	r3, [r7, #4]
 4118 00d4 8022     		movs	r2, #128
 4119 00d6 5A62     		str	r2, [r3, #36]
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x60U << 16U)& USB_OTG_NPTXFD) | 0x80U);
 4120              		.loc 1 1187 0
 4121 00d8 7B68     		ldr	r3, [r7, #4]
 4122 00da 144A     		ldr	r2, .L176
 4123 00dc 9A62     		str	r2, [r3, #40]
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0x40U << 16U)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 4124              		.loc 1 1188 0
 4125 00de 7B68     		ldr	r3, [r7, #4]
 4126 00e0 134A     		ldr	r2, .L176+4
 4127 00e2 C3F80021 		str	r2, [r3, #256]
 4128 00e6 0AE0     		b	.L173
 4129              	.L172:
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = (uint32_t )0x200U; 
 4130              		.loc 1 1193 0
 4131 00e8 7B68     		ldr	r3, [r7, #4]
 4132 00ea 4FF40072 		mov	r2, #512
 4133 00ee 5A62     		str	r2, [r3, #36]
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x100U << 16U)& USB_OTG_NPTXFD) | 0x200U);
 4134              		.loc 1 1194 0
 4135 00f0 7B68     		ldr	r3, [r7, #4]
 4136 00f2 104A     		ldr	r2, .L176+8
 4137 00f4 9A62     		str	r2, [r3, #40]
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0xE0U << 16U)& USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 4138              		.loc 1 1195 0
 4139 00f6 7B68     		ldr	r3, [r7, #4]
 4140 00f8 0F4A     		ldr	r2, .L176+12
 4141 00fa C3F80021 		str	r2, [r3, #256]
 4142              	.L173:
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == DISABLE)
 4143              		.loc 1 1199 0
 4144 00fe BB6A     		ldr	r3, [r7, #40]
 4145 0100 002B     		cmp	r3, #0
 4146 0102 05D1     		bne	.L174
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM; 
 4147              		.loc 1 1201 0
 4148 0104 7B68     		ldr	r3, [r7, #4]
 4149 0106 9B69     		ldr	r3, [r3, #24]
ARM GAS  /tmp/ccVcqEjV.s 			page 94


 4150 0108 43F01002 		orr	r2, r3, #16
 4151 010c 7B68     		ldr	r3, [r7, #4]
 4152 010e 9A61     		str	r2, [r3, #24]
 4153              	.L174:
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM |\
 4154              		.loc 1 1205 0
 4155 0110 7B68     		ldr	r3, [r7, #4]
 4156 0112 9A69     		ldr	r2, [r3, #24]
 4157 0114 094B     		ldr	r3, .L176+16
 4158 0116 1343     		orrs	r3, r3, r2
 4159 0118 7A68     		ldr	r2, [r7, #4]
 4160 011a 9361     		str	r3, [r2, #24]
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             |USB_OTG_GINTSTS_DISCINT|\
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4161              		.loc 1 1209 0
 4162 011c 0023     		movs	r3, #0
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4163              		.loc 1 1210 0
 4164 011e 1846     		mov	r0, r3
 4165 0120 1037     		adds	r7, r7, #16
 4166              	.LCFI201:
 4167              		.cfi_def_cfa_offset 24
 4168 0122 BD46     		mov	sp, r7
 4169              	.LCFI202:
 4170              		.cfi_def_cfa_register 13
 4171              		@ sp needed
 4172 0124 BDE88040 		pop	{r7, lr}
 4173              	.LCFI203:
 4174              		.cfi_restore 14
 4175              		.cfi_restore 7
 4176              		.cfi_def_cfa_offset 16
 4177 0128 04B0     		add	sp, sp, #16
 4178              	.LCFI204:
 4179              		.cfi_def_cfa_offset 0
 4180 012a 7047     		bx	lr
 4181              	.L177:
 4182              		.align	2
 4183              	.L176:
 4184 012c 80006000 		.word	6291584
 4185 0130 E0004000 		.word	4194528
 4186 0134 00020001 		.word	16777728
 4187 0138 0003E000 		.word	14680832
 4188 013c 080020A3 		.word	-1558183928
 4189              		.cfi_endproc
 4190              	.LFE159:
 4192              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 4193              		.align	2
 4194              		.global	USB_InitFSLSPClkSel
 4195              		.thumb
 4196              		.thumb_func
 4198              	USB_InitFSLSPClkSel:
 4199              	.LFB160:
ARM GAS  /tmp/ccVcqEjV.s 			page 95


1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the 
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq : clock frequency
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock 
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock 
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx , uint8_t freq)
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4200              		.loc 1 1223 0
 4201              		.cfi_startproc
 4202              		@ args = 0, pretend = 0, frame = 8
 4203              		@ frame_needed = 1, uses_anonymous_args = 0
 4204              		@ link register save eliminated.
 4205 0000 80B4     		push	{r7}
 4206              	.LCFI205:
 4207              		.cfi_def_cfa_offset 4
 4208              		.cfi_offset 7, -4
 4209 0002 83B0     		sub	sp, sp, #12
 4210              	.LCFI206:
 4211              		.cfi_def_cfa_offset 16
 4212 0004 00AF     		add	r7, sp, #0
 4213              	.LCFI207:
 4214              		.cfi_def_cfa_register 7
 4215 0006 7860     		str	r0, [r7, #4]
 4216 0008 0B46     		mov	r3, r1
 4217 000a FB70     		strb	r3, [r7, #3]
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 4218              		.loc 1 1224 0
 4219 000c 7B68     		ldr	r3, [r7, #4]
 4220 000e 03F58063 		add	r3, r3, #1024
 4221 0012 1A46     		mov	r2, r3
 4222 0014 7B68     		ldr	r3, [r7, #4]
 4223 0016 03F58063 		add	r3, r3, #1024
 4224 001a 1B68     		ldr	r3, [r3]
 4225 001c 23F00303 		bic	r3, r3, #3
 4226 0020 1360     		str	r3, [r2]
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (freq & USB_OTG_HCFG_FSLSPCS);
 4227              		.loc 1 1225 0
 4228 0022 7B68     		ldr	r3, [r7, #4]
 4229 0024 03F58063 		add	r3, r3, #1024
 4230 0028 1946     		mov	r1, r3
 4231 002a 7B68     		ldr	r3, [r7, #4]
 4232 002c 03F58063 		add	r3, r3, #1024
 4233 0030 1A68     		ldr	r2, [r3]
 4234 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4235 0034 03F00303 		and	r3, r3, #3
 4236 0038 1343     		orrs	r3, r3, r2
 4237 003a 0B60     		str	r3, [r1]
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq ==  HCFG_48_MHZ)
 4238              		.loc 1 1227 0
 4239 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccVcqEjV.s 			page 96


 4240 003e 012B     		cmp	r3, #1
 4241 0040 07D1     		bne	.L179
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = (uint32_t)48000U;
 4242              		.loc 1 1229 0
 4243 0042 7B68     		ldr	r3, [r7, #4]
 4244 0044 03F58063 		add	r3, r3, #1024
 4245 0048 1A46     		mov	r2, r3
 4246 004a 4BF68033 		movw	r3, #48000
 4247 004e 5360     		str	r3, [r2, #4]
 4248 0050 09E0     		b	.L180
 4249              	.L179:
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq ==  HCFG_6_MHZ)
 4250              		.loc 1 1231 0
 4251 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4252 0054 022B     		cmp	r3, #2
 4253 0056 06D1     		bne	.L180
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = (uint32_t)6000U;
 4254              		.loc 1 1233 0
 4255 0058 7B68     		ldr	r3, [r7, #4]
 4256 005a 03F58063 		add	r3, r3, #1024
 4257 005e 1A46     		mov	r2, r3
 4258 0060 41F27073 		movw	r3, #6000
 4259 0064 5360     		str	r3, [r2, #4]
 4260              	.L180:
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } 
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 4261              		.loc 1 1235 0
 4262 0066 0023     		movs	r3, #0
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4263              		.loc 1 1236 0
 4264 0068 1846     		mov	r0, r3
 4265 006a 0C37     		adds	r7, r7, #12
 4266              	.LCFI208:
 4267              		.cfi_def_cfa_offset 4
 4268 006c BD46     		mov	sp, r7
 4269              	.LCFI209:
 4270              		.cfi_def_cfa_register 13
 4271              		@ sp needed
 4272 006e 5DF8047B 		ldr	r7, [sp], #4
 4273              	.LCFI210:
 4274              		.cfi_restore 7
 4275              		.cfi_def_cfa_offset 0
 4276 0072 7047     		bx	lr
 4277              		.cfi_endproc
 4278              	.LFE160:
 4280              		.section	.text.USB_ResetPort,"ax",%progbits
 4281              		.align	2
 4282              		.global	USB_ResetPort
 4283              		.thumb
 4284              		.thumb_func
 4286              	USB_ResetPort:
 4287              	.LFB161:
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  /tmp/ccVcqEjV.s 			page 97


1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** * @brief  USB_OTG_ResetPort : Reset Host Port
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note   (1)The application must wait at least 10 ms
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4288              		.loc 1 1246 0
 4289              		.cfi_startproc
 4290              		@ args = 0, pretend = 0, frame = 16
 4291              		@ frame_needed = 1, uses_anonymous_args = 0
 4292 0000 80B5     		push	{r7, lr}
 4293              	.LCFI211:
 4294              		.cfi_def_cfa_offset 8
 4295              		.cfi_offset 7, -8
 4296              		.cfi_offset 14, -4
 4297 0002 84B0     		sub	sp, sp, #16
 4298              	.LCFI212:
 4299              		.cfi_def_cfa_offset 24
 4300 0004 00AF     		add	r7, sp, #0
 4301              	.LCFI213:
 4302              		.cfi_def_cfa_register 7
 4303 0006 7860     		str	r0, [r7, #4]
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4304              		.loc 1 1249 0
 4305 0008 7B68     		ldr	r3, [r7, #4]
 4306 000a 03F58863 		add	r3, r3, #1088
 4307 000e 1B68     		ldr	r3, [r3]
 4308 0010 FB60     		str	r3, [r7, #12]
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA    | USB_OTG_HPRT_PCDET |\
 4309              		.loc 1 1251 0
 4310 0012 FB68     		ldr	r3, [r7, #12]
 4311 0014 23F02E03 		bic	r3, r3, #46
 4312 0018 FB60     		str	r3, [r7, #12]
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG );
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);  
 4313              		.loc 1 1254 0
 4314 001a 7B68     		ldr	r3, [r7, #4]
 4315 001c 03F58863 		add	r3, r3, #1088
 4316 0020 1A46     		mov	r2, r3
 4317 0022 FB68     		ldr	r3, [r7, #12]
 4318 0024 43F48073 		orr	r3, r3, #256
 4319 0028 1360     		str	r3, [r2]
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay (10U);                                /* See Note #1 */
 4320              		.loc 1 1255 0
 4321 002a 0A20     		movs	r0, #10
 4322 002c FFF7FEFF 		bl	HAL_Delay
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0); 
 4323              		.loc 1 1256 0
 4324 0030 7B68     		ldr	r3, [r7, #4]
 4325 0032 03F58863 		add	r3, r3, #1088
 4326 0036 1A46     		mov	r2, r3
ARM GAS  /tmp/ccVcqEjV.s 			page 98


 4327 0038 FB68     		ldr	r3, [r7, #12]
 4328 003a 23F48073 		bic	r3, r3, #256
 4329 003e 1360     		str	r3, [r2]
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4330              		.loc 1 1257 0
 4331 0040 0023     		movs	r3, #0
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4332              		.loc 1 1258 0
 4333 0042 1846     		mov	r0, r3
 4334 0044 1037     		adds	r7, r7, #16
 4335              	.LCFI214:
 4336              		.cfi_def_cfa_offset 8
 4337 0046 BD46     		mov	sp, r7
 4338              	.LCFI215:
 4339              		.cfi_def_cfa_register 13
 4340              		@ sp needed
 4341 0048 80BD     		pop	{r7, pc}
 4342              		.cfi_endproc
 4343              	.LFE161:
 4345 004a 00BF     		.section	.text.USB_DriveVbus,"ax",%progbits
 4346              		.align	2
 4347              		.global	USB_DriveVbus
 4348              		.thumb
 4349              		.thumb_func
 4351              	USB_DriveVbus:
 4352              	.LFB162:
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state : VBUS state
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : VBUS Active 
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : VBUS Inactive
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus (USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4353              		.loc 1 1269 0
 4354              		.cfi_startproc
 4355              		@ args = 0, pretend = 0, frame = 16
 4356              		@ frame_needed = 1, uses_anonymous_args = 0
 4357              		@ link register save eliminated.
 4358 0000 80B4     		push	{r7}
 4359              	.LCFI216:
 4360              		.cfi_def_cfa_offset 4
 4361              		.cfi_offset 7, -4
 4362 0002 85B0     		sub	sp, sp, #20
 4363              	.LCFI217:
 4364              		.cfi_def_cfa_offset 24
 4365 0004 00AF     		add	r7, sp, #0
 4366              	.LCFI218:
 4367              		.cfi_def_cfa_register 7
 4368 0006 7860     		str	r0, [r7, #4]
 4369 0008 0B46     		mov	r3, r1
 4370 000a FB70     		strb	r3, [r7, #3]
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccVcqEjV.s 			page 99


1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4371              		.loc 1 1272 0
 4372 000c 7B68     		ldr	r3, [r7, #4]
 4373 000e 03F58863 		add	r3, r3, #1088
 4374 0012 1B68     		ldr	r3, [r3]
 4375 0014 FB60     		str	r3, [r7, #12]
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA    | USB_OTG_HPRT_PCDET |\
 4376              		.loc 1 1273 0
 4377 0016 FB68     		ldr	r3, [r7, #12]
 4378 0018 23F02E03 		bic	r3, r3, #46
 4379 001c FB60     		str	r3, [r7, #12]
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                          USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG );
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 4380              		.loc 1 1276 0
 4381 001e FB68     		ldr	r3, [r7, #12]
 4382 0020 03F48053 		and	r3, r3, #4096
 4383 0024 002B     		cmp	r3, #0
 4384 0026 0AD1     		bne	.L185
 4385              		.loc 1 1276 0 is_stmt 0 discriminator 1
 4386 0028 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4387 002a 012B     		cmp	r3, #1
 4388 002c 07D1     		bne	.L185
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0); 
 4389              		.loc 1 1278 0 is_stmt 1
 4390 002e 7B68     		ldr	r3, [r7, #4]
 4391 0030 03F58863 		add	r3, r3, #1088
 4392 0034 1A46     		mov	r2, r3
 4393 0036 FB68     		ldr	r3, [r7, #12]
 4394 0038 43F48053 		orr	r3, r3, #4096
 4395 003c 1360     		str	r3, [r2]
 4396              	.L185:
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 4397              		.loc 1 1280 0
 4398 003e FB68     		ldr	r3, [r7, #12]
 4399 0040 03F48053 		and	r3, r3, #4096
 4400 0044 002B     		cmp	r3, #0
 4401 0046 0AD0     		beq	.L186
 4402              		.loc 1 1280 0 is_stmt 0 discriminator 1
 4403 0048 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4404 004a 002B     		cmp	r3, #0
 4405 004c 07D1     		bne	.L186
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0); 
 4406              		.loc 1 1282 0 is_stmt 1
 4407 004e 7B68     		ldr	r3, [r7, #4]
 4408 0050 03F58863 		add	r3, r3, #1088
 4409 0054 1A46     		mov	r2, r3
 4410 0056 FB68     		ldr	r3, [r7, #12]
 4411 0058 23F48053 		bic	r3, r3, #4096
 4412 005c 1360     		str	r3, [r2]
 4413              	.L186:
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK; 
 4414              		.loc 1 1284 0
ARM GAS  /tmp/ccVcqEjV.s 			page 100


 4415 005e 0023     		movs	r3, #0
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4416              		.loc 1 1285 0
 4417 0060 1846     		mov	r0, r3
 4418 0062 1437     		adds	r7, r7, #20
 4419              	.LCFI219:
 4420              		.cfi_def_cfa_offset 4
 4421 0064 BD46     		mov	sp, r7
 4422              	.LCFI220:
 4423              		.cfi_def_cfa_register 13
 4424              		@ sp needed
 4425 0066 5DF8047B 		ldr	r7, [sp], #4
 4426              	.LCFI221:
 4427              		.cfi_restore 7
 4428              		.cfi_def_cfa_offset 0
 4429 006a 7047     		bx	lr
 4430              		.cfi_endproc
 4431              	.LFE162:
 4433              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 4434              		.align	2
 4435              		.global	USB_GetHostSpeed
 4436              		.thumb
 4437              		.thumb_func
 4439              	USB_GetHostSpeed:
 4440              	.LFB163:
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed (USB_OTG_GlobalTypeDef *USBx)
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4441              		.loc 1 1297 0
 4442              		.cfi_startproc
 4443              		@ args = 0, pretend = 0, frame = 16
 4444              		@ frame_needed = 1, uses_anonymous_args = 0
 4445              		@ link register save eliminated.
 4446 0000 80B4     		push	{r7}
 4447              	.LCFI222:
 4448              		.cfi_def_cfa_offset 4
 4449              		.cfi_offset 7, -4
 4450 0002 85B0     		sub	sp, sp, #20
 4451              	.LCFI223:
 4452              		.cfi_def_cfa_offset 24
 4453 0004 00AF     		add	r7, sp, #0
 4454              	.LCFI224:
 4455              		.cfi_def_cfa_register 7
 4456 0006 7860     		str	r0, [r7, #4]
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4457              		.loc 1 1300 0
ARM GAS  /tmp/ccVcqEjV.s 			page 101


 4458 0008 7B68     		ldr	r3, [r7, #4]
 4459 000a 03F58863 		add	r3, r3, #1088
 4460 000e 1B68     		ldr	r3, [r3]
 4461 0010 FB60     		str	r3, [r7, #12]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17U);
 4462              		.loc 1 1301 0
 4463 0012 FB68     		ldr	r3, [r7, #12]
 4464 0014 03F4C023 		and	r3, r3, #393216
 4465 0018 5B0C     		lsrs	r3, r3, #17
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4466              		.loc 1 1302 0
 4467 001a 1846     		mov	r0, r3
 4468 001c 1437     		adds	r7, r7, #20
 4469              	.LCFI225:
 4470              		.cfi_def_cfa_offset 4
 4471 001e BD46     		mov	sp, r7
 4472              	.LCFI226:
 4473              		.cfi_def_cfa_register 13
 4474              		@ sp needed
 4475 0020 5DF8047B 		ldr	r7, [sp], #4
 4476              	.LCFI227:
 4477              		.cfi_restore 7
 4478              		.cfi_def_cfa_offset 0
 4479 0024 7047     		bx	lr
 4480              		.cfi_endproc
 4481              	.LFE163:
 4483 0026 00BF     		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 4484              		.align	2
 4485              		.global	USB_GetCurrentFrame
 4486              		.thumb
 4487              		.thumb_func
 4489              	USB_GetCurrentFrame:
 4490              	.LFB164:
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame (USB_OTG_GlobalTypeDef *USBx)
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4491              		.loc 1 1310 0
 4492              		.cfi_startproc
 4493              		@ args = 0, pretend = 0, frame = 8
 4494              		@ frame_needed = 1, uses_anonymous_args = 0
 4495              		@ link register save eliminated.
 4496 0000 80B4     		push	{r7}
 4497              	.LCFI228:
 4498              		.cfi_def_cfa_offset 4
 4499              		.cfi_offset 7, -4
 4500 0002 83B0     		sub	sp, sp, #12
 4501              	.LCFI229:
 4502              		.cfi_def_cfa_offset 16
 4503 0004 00AF     		add	r7, sp, #0
 4504              	.LCFI230:
 4505              		.cfi_def_cfa_register 7
 4506 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 102


1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 4507              		.loc 1 1311 0
 4508 0008 7B68     		ldr	r3, [r7, #4]
 4509 000a 03F58063 		add	r3, r3, #1024
 4510 000e 9B68     		ldr	r3, [r3, #8]
 4511 0010 9BB2     		uxth	r3, r3
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4512              		.loc 1 1312 0
 4513 0012 1846     		mov	r0, r3
 4514 0014 0C37     		adds	r7, r7, #12
 4515              	.LCFI231:
 4516              		.cfi_def_cfa_offset 4
 4517 0016 BD46     		mov	sp, r7
 4518              	.LCFI232:
 4519              		.cfi_def_cfa_register 13
 4520              		@ sp needed
 4521 0018 5DF8047B 		ldr	r7, [sp], #4
 4522              	.LCFI233:
 4523              		.cfi_restore 7
 4524              		.cfi_def_cfa_offset 0
 4525 001c 7047     		bx	lr
 4526              		.cfi_endproc
 4527              	.LFE164:
 4529 001e 00BF     		.section	.text.USB_HC_Init,"ax",%progbits
 4530              		.align	2
 4531              		.global	USB_HC_Init
 4532              		.thumb
 4533              		.thumb_func
 4535              	USB_HC_Init:
 4536              	.LFB165:
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num : Channel number
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum : Endpoint number
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address : Current device address
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed : Current device speed
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type : Endpoint Type
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps : Max Packet Size
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to32K
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx,  
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ch_num,
ARM GAS  /tmp/ccVcqEjV.s 			page 103


1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum,
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t dev_address,
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t speed,
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type,
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint16_t mps)
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4537              		.loc 1 1345 0
 4538              		.cfi_startproc
 4539              		@ args = 12, pretend = 0, frame = 8
 4540              		@ frame_needed = 1, uses_anonymous_args = 0
 4541              		@ link register save eliminated.
 4542 0000 80B4     		push	{r7}
 4543              	.LCFI234:
 4544              		.cfi_def_cfa_offset 4
 4545              		.cfi_offset 7, -4
 4546 0002 83B0     		sub	sp, sp, #12
 4547              	.LCFI235:
 4548              		.cfi_def_cfa_offset 16
 4549 0004 00AF     		add	r7, sp, #0
 4550              	.LCFI236:
 4551              		.cfi_def_cfa_register 7
 4552 0006 7860     		str	r0, [r7, #4]
 4553 0008 0846     		mov	r0, r1
 4554 000a 1146     		mov	r1, r2
 4555 000c 1A46     		mov	r2, r3
 4556 000e 0346     		mov	r3, r0
 4557 0010 FB70     		strb	r3, [r7, #3]
 4558 0012 0B46     		mov	r3, r1
 4559 0014 BB70     		strb	r3, [r7, #2]
 4560 0016 1346     		mov	r3, r2
 4561 0018 7B70     		strb	r3, [r7, #1]
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCINT = 0xFFFFFFFFU;
 4562              		.loc 1 1348 0
 4563 001a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4564 001c 5A01     		lsls	r2, r3, #5
 4565 001e 7B68     		ldr	r3, [r7, #4]
 4566 0020 1344     		add	r3, r3, r2
 4567 0022 03F5A063 		add	r3, r3, #1280
 4568 0026 1A46     		mov	r2, r3
 4569 0028 4FF0FF33 		mov	r3, #-1
 4570 002c 9360     		str	r3, [r2, #8]
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type) 
 4571              		.loc 1 1351 0
 4572 002e 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 4573 0030 032B     		cmp	r3, #3
 4574 0032 00F28680 		bhi	.L193
 4575 0036 01A2     		adr	r2, .L195
 4576 0038 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 4577              		.p2align 2
 4578              	.L195:
 4579 003c 4D000000 		.word	.L194+1
 4580 0040 F9000000 		.word	.L196+1
 4581 0044 4D000000 		.word	.L194+1
ARM GAS  /tmp/ccVcqEjV.s 			page 104


 4582 0048 B9000000 		.word	.L197+1
 4583              		.p2align 1
 4584              	.L194:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_CTRL:
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_BULK:
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 4585              		.loc 1 1356 0
 4586 004c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4587 004e 5A01     		lsls	r2, r3, #5
 4588 0050 7B68     		ldr	r3, [r7, #4]
 4589 0052 1344     		add	r3, r3, r2
 4590 0054 03F5A063 		add	r3, r3, #1280
 4591 0058 1A46     		mov	r2, r3
 4592 005a 40F29D43 		movw	r3, #1181
 4593 005e D360     		str	r3, [r2, #12]
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_STALLM |\
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_TXERRM |\
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_DTERRM |\
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_NAKM ;
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 4594              		.loc 1 1363 0
 4595 0060 97F90230 		ldrsb	r3, [r7, #2]
 4596 0064 002B     		cmp	r3, #0
 4597 0066 11DA     		bge	.L198
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 4598              		.loc 1 1365 0
 4599 0068 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4600 006a 5A01     		lsls	r2, r3, #5
 4601 006c 7B68     		ldr	r3, [r7, #4]
 4602 006e 1344     		add	r3, r3, r2
 4603 0070 03F5A063 		add	r3, r3, #1280
 4604 0074 1946     		mov	r1, r3
 4605 0076 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4606 0078 5A01     		lsls	r2, r3, #5
 4607 007a 7B68     		ldr	r3, [r7, #4]
 4608 007c 1344     		add	r3, r3, r2
 4609 007e 03F5A063 		add	r3, r3, #1280
 4610 0082 DB68     		ldr	r3, [r3, #12]
 4611 0084 43F48073 		orr	r3, r3, #256
 4612 0088 CB60     		str	r3, [r1, #12]
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else 
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if(USBx != USB_OTG_FS)
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
 4613              		.loc 1 1374 0
 4614 008a 55E0     		b	.L208
 4615              	.L198:
ARM GAS  /tmp/ccVcqEjV.s 			page 105


1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 4616              		.loc 1 1369 0
 4617 008c 7B68     		ldr	r3, [r7, #4]
 4618 008e B3F1A04F 		cmp	r3, #1342177280
 4619 0092 51D0     		beq	.L208
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 4620              		.loc 1 1371 0
 4621 0094 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4622 0096 5A01     		lsls	r2, r3, #5
 4623 0098 7B68     		ldr	r3, [r7, #4]
 4624 009a 1344     		add	r3, r3, r2
 4625 009c 03F5A063 		add	r3, r3, #1280
 4626 00a0 1946     		mov	r1, r3
 4627 00a2 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4628 00a4 5A01     		lsls	r2, r3, #5
 4629 00a6 7B68     		ldr	r3, [r7, #4]
 4630 00a8 1344     		add	r3, r3, r2
 4631 00aa 03F5A063 		add	r3, r3, #1280
 4632 00ae DB68     		ldr	r3, [r3, #12]
 4633 00b0 43F06003 		orr	r3, r3, #96
 4634 00b4 CB60     		str	r3, [r1, #12]
 4635              		.loc 1 1374 0
 4636 00b6 3FE0     		b	.L208
 4637              	.L197:
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_INTR:
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 4638              		.loc 1 1378 0
 4639 00b8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4640 00ba 5A01     		lsls	r2, r3, #5
 4641 00bc 7B68     		ldr	r3, [r7, #4]
 4642 00be 1344     		add	r3, r3, r2
 4643 00c0 03F5A063 		add	r3, r3, #1280
 4644 00c4 1A46     		mov	r2, r3
 4645 00c6 40F29D63 		movw	r3, #1693
 4646 00ca D360     		str	r3, [r2, #12]
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_STALLM |\
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_TXERRM |\
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_DTERRM |\
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_NAKM   |\
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_FRMORM ;    
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 4647              		.loc 1 1386 0
 4648 00cc 97F90230 		ldrsb	r3, [r7, #2]
 4649 00d0 002B     		cmp	r3, #0
 4650 00d2 33DA     		bge	.L209
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 4651              		.loc 1 1388 0
 4652 00d4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4653 00d6 5A01     		lsls	r2, r3, #5
 4654 00d8 7B68     		ldr	r3, [r7, #4]
 4655 00da 1344     		add	r3, r3, r2
 4656 00dc 03F5A063 		add	r3, r3, #1280
ARM GAS  /tmp/ccVcqEjV.s 			page 106


 4657 00e0 1946     		mov	r1, r3
 4658 00e2 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4659 00e4 5A01     		lsls	r2, r3, #5
 4660 00e6 7B68     		ldr	r3, [r7, #4]
 4661 00e8 1344     		add	r3, r3, r2
 4662 00ea 03F5A063 		add	r3, r3, #1280
 4663 00ee DB68     		ldr	r3, [r3, #12]
 4664 00f0 43F48073 		orr	r3, r3, #256
 4665 00f4 CB60     		str	r3, [r1, #12]
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
 4666              		.loc 1 1391 0
 4667 00f6 21E0     		b	.L209
 4668              	.L196:
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_ISOC:
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 4669              		.loc 1 1394 0
 4670 00f8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4671 00fa 5A01     		lsls	r2, r3, #5
 4672 00fc 7B68     		ldr	r3, [r7, #4]
 4673 00fe 1344     		add	r3, r3, r2
 4674 0100 03F5A063 		add	r3, r3, #1280
 4675 0104 1A46     		mov	r2, r3
 4676 0106 40F22523 		movw	r3, #549
 4677 010a D360     		str	r3, [r2, #12]
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_ACKM   |\
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_FRMORM ;   
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 4678              		.loc 1 1399 0
 4679 010c 97F90230 		ldrsb	r3, [r7, #2]
 4680 0110 002B     		cmp	r3, #0
 4681 0112 15DA     		bge	.L210
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);      
 4682              		.loc 1 1401 0
 4683 0114 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4684 0116 5A01     		lsls	r2, r3, #5
 4685 0118 7B68     		ldr	r3, [r7, #4]
 4686 011a 1344     		add	r3, r3, r2
 4687 011c 03F5A063 		add	r3, r3, #1280
 4688 0120 1946     		mov	r1, r3
 4689 0122 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4690 0124 5A01     		lsls	r2, r3, #5
 4691 0126 7B68     		ldr	r3, [r7, #4]
 4692 0128 1344     		add	r3, r3, r2
 4693 012a 03F5A063 		add	r3, r3, #1280
 4694 012e DB68     		ldr	r3, [r3, #12]
 4695 0130 43F4C073 		orr	r3, r3, #384
 4696 0134 CB60     		str	r3, [r1, #12]
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
 4697              		.loc 1 1403 0
 4698 0136 03E0     		b	.L210
ARM GAS  /tmp/ccVcqEjV.s 			page 107


 4699              	.L208:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 4700              		.loc 1 1374 0
 4701 0138 00BF     		nop
 4702 013a 02E0     		b	.L193
 4703              	.L209:
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_ISOC:
 4704              		.loc 1 1391 0
 4705 013c 00BF     		nop
 4706 013e 00E0     		b	.L193
 4707              	.L210:
 4708              		.loc 1 1403 0
 4709 0140 00BF     		nop
 4710              	.L193:
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= (1 << ch_num);
 4711              		.loc 1 1407 0
 4712 0142 7B68     		ldr	r3, [r7, #4]
 4713 0144 03F58063 		add	r3, r3, #1024
 4714 0148 1846     		mov	r0, r3
 4715 014a 7B68     		ldr	r3, [r7, #4]
 4716 014c 03F58063 		add	r3, r3, #1024
 4717 0150 9B69     		ldr	r3, [r3, #24]
 4718 0152 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 4719 0154 0121     		movs	r1, #1
 4720 0156 01FA02F2 		lsl	r2, r1, r2
 4721 015a 1343     		orrs	r3, r3, r2
 4722 015c 8361     		str	r3, [r0, #24]
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 4723              		.loc 1 1410 0
 4724 015e 7B68     		ldr	r3, [r7, #4]
 4725 0160 9B69     		ldr	r3, [r3, #24]
 4726 0162 43F00072 		orr	r2, r3, #33554432
 4727 0166 7B68     		ldr	r3, [r7, #4]
 4728 0168 9A61     		str	r2, [r3, #24]
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = (((dev_address << 22U) & USB_OTG_HCCHAR_DAD)  |\
 4729              		.loc 1 1413 0
 4730 016a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4731 016c 5A01     		lsls	r2, r3, #5
 4732 016e 7B68     		ldr	r3, [r7, #4]
 4733 0170 1344     		add	r3, r3, r2
 4734 0172 03F5A063 		add	r3, r3, #1280
 4735 0176 1946     		mov	r1, r3
 4736 0178 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 4737 017a 9B05     		lsls	r3, r3, #22
 4738 017c 03F0FE52 		and	r2, r3, #532676608
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 4739              		.loc 1 1414 0
 4740 0180 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 4741 0182 DB02     		lsls	r3, r3, #11
 4742 0184 03F4F043 		and	r3, r3, #30720
ARM GAS  /tmp/ccVcqEjV.s 			page 108


1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 4743              		.loc 1 1413 0
 4744 0188 1A43     		orrs	r2, r2, r3
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((((epnum & 0x80U) == 0x80U)<< 15U) & USB_OTG_HCCHAR_EPDIR)|\
 4745              		.loc 1 1415 0
 4746 018a 97F90230 		ldrsb	r3, [r7, #2]
 4747 018e 002B     		cmp	r3, #0
 4748 0190 02DA     		bge	.L202
 4749              		.loc 1 1415 0 is_stmt 0 discriminator 1
 4750 0192 4FF40043 		mov	r3, #32768
 4751 0196 00E0     		b	.L203
 4752              	.L202:
 4753              		.loc 1 1415 0 discriminator 2
 4754 0198 0023     		movs	r3, #0
 4755              	.L203:
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 4756              		.loc 1 1414 0 is_stmt 1
 4757 019a 1A43     		orrs	r2, r2, r3
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((speed == USB_OTG_SPEED_LOW)<< 17U) & USB_OTG_HCCHAR_LSDEV)|\
 4758              		.loc 1 1416 0
 4759 019c 3B7C     		ldrb	r3, [r7, #16]	@ zero_extendqisi2
 4760 019e 022B     		cmp	r3, #2
 4761 01a0 02D1     		bne	.L204
 4762              		.loc 1 1416 0 is_stmt 0 discriminator 1
 4763 01a2 4FF40033 		mov	r3, #131072
 4764 01a6 00E0     		b	.L205
 4765              	.L204:
 4766              		.loc 1 1416 0 discriminator 2
 4767 01a8 0023     		movs	r3, #0
 4768              	.L205:
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((((epnum & 0x80U) == 0x80U)<< 15U) & USB_OTG_HCCHAR_EPDIR)|\
 4769              		.loc 1 1415 0 is_stmt 1
 4770 01aa 1A43     		orrs	r2, r2, r3
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((ep_type << 18U) & USB_OTG_HCCHAR_EPTYP)|\
 4771              		.loc 1 1417 0
 4772 01ac 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 4773 01ae 9B04     		lsls	r3, r3, #18
 4774 01b0 03F44023 		and	r3, r3, #786432
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((speed == USB_OTG_SPEED_LOW)<< 17U) & USB_OTG_HCCHAR_LSDEV)|\
 4775              		.loc 1 1416 0
 4776 01b4 1A43     		orrs	r2, r2, r3
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (mps & USB_OTG_HCCHAR_MPSIZ));
 4777              		.loc 1 1418 0
 4778 01b6 3B8B     		ldrh	r3, [r7, #24]
 4779 01b8 C3F30A03 		ubfx	r3, r3, #0, #11
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((ep_type << 18U) & USB_OTG_HCCHAR_EPTYP)|\
 4780              		.loc 1 1417 0
 4781 01bc 1343     		orrs	r3, r3, r2
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 4782              		.loc 1 1413 0
 4783 01be 0B60     		str	r3, [r1]
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep_type == EP_TYPE_INTR)
 4784              		.loc 1 1420 0
 4785 01c0 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 4786 01c2 032B     		cmp	r3, #3
 4787 01c4 10D1     		bne	.L206
ARM GAS  /tmp/ccVcqEjV.s 			page 109


1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM ;
 4788              		.loc 1 1422 0
 4789 01c6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4790 01c8 5A01     		lsls	r2, r3, #5
 4791 01ca 7B68     		ldr	r3, [r7, #4]
 4792 01cc 1344     		add	r3, r3, r2
 4793 01ce 03F5A063 		add	r3, r3, #1280
 4794 01d2 1946     		mov	r1, r3
 4795 01d4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4796 01d6 5A01     		lsls	r2, r3, #5
 4797 01d8 7B68     		ldr	r3, [r7, #4]
 4798 01da 1344     		add	r3, r3, r2
 4799 01dc 03F5A063 		add	r3, r3, #1280
 4800 01e0 1B68     		ldr	r3, [r3]
 4801 01e2 43F00053 		orr	r3, r3, #536870912
 4802 01e6 0B60     		str	r3, [r1]
 4803              	.L206:
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK; 
 4804              		.loc 1 1425 0
 4805 01e8 0023     		movs	r3, #0
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4806              		.loc 1 1426 0
 4807 01ea 1846     		mov	r0, r3
 4808 01ec 0C37     		adds	r7, r7, #12
 4809              	.LCFI237:
 4810              		.cfi_def_cfa_offset 4
 4811 01ee BD46     		mov	sp, r7
 4812              	.LCFI238:
 4813              		.cfi_def_cfa_register 13
 4814              		@ sp needed
 4815 01f0 5DF8047B 		ldr	r7, [sp], #4
 4816              	.LCFI239:
 4817              		.cfi_restore 7
 4818              		.cfi_def_cfa_offset 0
 4819 01f4 7047     		bx	lr
 4820              		.cfi_endproc
 4821              	.LFE165:
 4823 01f6 00BF     		.section	.text.USB_HC_StartXfer,"ax",%progbits
 4824              		.align	2
 4825              		.global	USB_HC_StartXfer
 4826              		.thumb
 4827              		.thumb_func
 4829              	USB_HC_StartXfer:
 4830              	.LFB166:
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc : pointer to host channel structure
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma: USB dma enabled or disabled 
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
ARM GAS  /tmp/ccVcqEjV.s 			page 110


1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined   (__CC_ARM) /*!< ARM Compiler */
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #pragma O0
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #elif defined (__GNUC__) /*!< GNU Compiler */
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #pragma GCC optimize ("O0")
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* __CC_ARM */
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4831              		.loc 1 1444 0
 4832              		.cfi_startproc
 4833              		@ args = 0, pretend = 0, frame = 32
 4834              		@ frame_needed = 1, uses_anonymous_args = 0
 4835 0000 80B5     		push	{r7, lr}
 4836              	.LCFI240:
 4837              		.cfi_def_cfa_offset 8
 4838              		.cfi_offset 7, -8
 4839              		.cfi_offset 14, -4
 4840 0002 8AB0     		sub	sp, sp, #40
 4841              	.LCFI241:
 4842              		.cfi_def_cfa_offset 48
 4843 0004 02AF     		add	r7, sp, #8
 4844              	.LCFI242:
 4845              		.cfi_def_cfa 7, 40
 4846 0006 F860     		str	r0, [r7, #12]
 4847 0008 B960     		str	r1, [r7, #8]
 4848 000a 1346     		mov	r3, r2
 4849 000c FB71     		strb	r3, [r7, #7]
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe = 0U; 
 4850              		.loc 1 1445 0
 4851 000e 0023     		movs	r3, #0
 4852 0010 7B77     		strb	r3, [r7, #29]
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words = 0U;   
 4853              		.loc 1 1446 0
 4854 0012 0023     		movs	r3, #0
 4855 0014 7B83     		strh	r3, [r7, #26]	@ movhi
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets = 0U;
 4856              		.loc 1 1447 0
 4857 0016 0023     		movs	r3, #0
 4858 0018 FB83     		strh	r3, [r7, #30]	@ movhi
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 4859              		.loc 1 1448 0
 4860 001a 4FF48073 		mov	r3, #256
 4861 001e 3B83     		strh	r3, [r7, #24]	@ movhi
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg = 0U;
 4862              		.loc 1 1449 0
 4863 0020 0023     		movs	r3, #0
 4864 0022 7B61     		str	r3, [r7, #20]
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx != USB_OTG_FS) && (hc->speed == USB_OTG_SPEED_HIGH))
 4865              		.loc 1 1451 0
 4866 0024 FB68     		ldr	r3, [r7, #12]
 4867 0026 B3F1A04F 		cmp	r3, #1342177280
 4868 002a 2BD0     		beq	.L212
 4869              		.loc 1 1451 0 is_stmt 0 discriminator 1
 4870 002c BB68     		ldr	r3, [r7, #8]
 4871 002e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4872 0030 002B     		cmp	r3, #0
ARM GAS  /tmp/ccVcqEjV.s 			page 111


 4873 0032 27D1     		bne	.L212
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if((dma == 0U) && (hc->do_ping == 1U))
 4874              		.loc 1 1453 0 is_stmt 1
 4875 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 4876 0036 002B     		cmp	r3, #0
 4877 0038 0BD1     		bne	.L213
 4878              		.loc 1 1453 0 is_stmt 0 discriminator 1
 4879 003a BB68     		ldr	r3, [r7, #8]
 4880 003c 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 4881 003e 012B     		cmp	r3, #1
 4882 0040 07D1     		bne	.L213
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_DoPing(USBx, hc->ch_num);
 4883              		.loc 1 1455 0 is_stmt 1
 4884 0042 BB68     		ldr	r3, [r7, #8]
 4885 0044 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4886 0046 1946     		mov	r1, r3
 4887 0048 F868     		ldr	r0, [r7, #12]
 4888 004a FFF7FEFF 		bl	USB_DoPing
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 4889              		.loc 1 1456 0
 4890 004e 0023     		movs	r3, #0
 4891 0050 0DE1     		b	.L214
 4892              	.L213:
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if(dma == 1U)
 4893              		.loc 1 1458 0
 4894 0052 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 4895 0054 012B     		cmp	r3, #1
 4896 0056 15D1     		bne	.L212
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc->ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
 4897              		.loc 1 1460 0
 4898 0058 BB68     		ldr	r3, [r7, #8]
 4899 005a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4900 005c 5A01     		lsls	r2, r3, #5
 4901 005e FB68     		ldr	r3, [r7, #12]
 4902 0060 1344     		add	r3, r3, r2
 4903 0062 03F5A063 		add	r3, r3, #1280
 4904 0066 1946     		mov	r1, r3
 4905 0068 BB68     		ldr	r3, [r7, #8]
 4906 006a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4907 006c 5A01     		lsls	r2, r3, #5
 4908 006e FB68     		ldr	r3, [r7, #12]
 4909 0070 1344     		add	r3, r3, r2
 4910 0072 03F5A063 		add	r3, r3, #1280
 4911 0076 DB68     		ldr	r3, [r3, #12]
 4912 0078 23F06003 		bic	r3, r3, #96
 4913 007c CB60     		str	r3, [r1, #12]
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->do_ping = 0U;
 4914              		.loc 1 1461 0
 4915 007e BB68     		ldr	r3, [r7, #8]
 4916 0080 0022     		movs	r2, #0
 4917 0082 5A71     		strb	r2, [r3, #5]
 4918              	.L212:
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
ARM GAS  /tmp/ccVcqEjV.s 			page 112


1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 4919              		.loc 1 1466 0
 4920 0084 BB68     		ldr	r3, [r7, #8]
 4921 0086 1B69     		ldr	r3, [r3, #16]
 4922 0088 002B     		cmp	r3, #0
 4923 008a 19D0     		beq	.L215
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (hc->xfer_len + hc->max_packet - 1U) / hc->max_packet;
 4924              		.loc 1 1468 0
 4925 008c BB68     		ldr	r3, [r7, #8]
 4926 008e 1B69     		ldr	r3, [r3, #16]
 4927 0090 BA68     		ldr	r2, [r7, #8]
 4928 0092 1289     		ldrh	r2, [r2, #8]
 4929 0094 1344     		add	r3, r3, r2
 4930 0096 013B     		subs	r3, r3, #1
 4931 0098 BA68     		ldr	r2, [r7, #8]
 4932 009a 1289     		ldrh	r2, [r2, #8]
 4933 009c B3FBF2F3 		udiv	r3, r3, r2
 4934 00a0 FB83     		strh	r3, [r7, #30]	@ movhi
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 4935              		.loc 1 1470 0
 4936 00a2 FA8B     		ldrh	r2, [r7, #30]
 4937 00a4 3B8B     		ldrh	r3, [r7, #24]
 4938 00a6 9A42     		cmp	r2, r3
 4939 00a8 0CD9     		bls	.L217
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 4940              		.loc 1 1472 0
 4941 00aa 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 4942 00ac FB83     		strh	r3, [r7, #30]	@ movhi
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->xfer_len = num_packets * hc->max_packet;
 4943              		.loc 1 1473 0
 4944 00ae FB8B     		ldrh	r3, [r7, #30]
 4945 00b0 BA68     		ldr	r2, [r7, #8]
 4946 00b2 1289     		ldrh	r2, [r2, #8]
 4947 00b4 02FB03F3 		mul	r3, r2, r3
 4948 00b8 1A46     		mov	r2, r3
 4949 00ba BB68     		ldr	r3, [r7, #8]
 4950 00bc 1A61     		str	r2, [r3, #16]
 4951 00be 01E0     		b	.L217
 4952              	.L215:
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1U;
 4953              		.loc 1 1478 0
 4954 00c0 0123     		movs	r3, #1
 4955 00c2 FB83     		strh	r3, [r7, #30]	@ movhi
 4956              	.L217:
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in)
 4957              		.loc 1 1480 0
ARM GAS  /tmp/ccVcqEjV.s 			page 113


 4958 00c4 BB68     		ldr	r3, [r7, #8]
 4959 00c6 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 4960 00c8 002B     		cmp	r3, #0
 4961 00ca 07D0     		beq	.L218
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->xfer_len = num_packets * hc->max_packet;
 4962              		.loc 1 1482 0
 4963 00cc FB8B     		ldrh	r3, [r7, #30]
 4964 00ce BA68     		ldr	r2, [r7, #8]
 4965 00d0 1289     		ldrh	r2, [r2, #8]
 4966 00d2 02FB03F3 		mul	r3, r2, r3
 4967 00d6 1A46     		mov	r2, r3
 4968 00d8 BB68     		ldr	r3, [r7, #8]
 4969 00da 1A61     		str	r2, [r3, #16]
 4970              	.L218:
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCTSIZ = (((hc->xfer_len) & USB_OTG_HCTSIZ_XFRSIZ)) |\
 4971              		.loc 1 1486 0
 4972 00dc BB68     		ldr	r3, [r7, #8]
 4973 00de 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4974 00e0 5A01     		lsls	r2, r3, #5
 4975 00e2 FB68     		ldr	r3, [r7, #12]
 4976 00e4 1344     		add	r3, r3, r2
 4977 00e6 03F5A063 		add	r3, r3, #1280
 4978 00ea 1946     		mov	r1, r3
 4979 00ec BB68     		ldr	r3, [r7, #8]
 4980 00ee 1B69     		ldr	r3, [r3, #16]
 4981 00f0 C3F31202 		ubfx	r2, r3, #0, #19
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 4982              		.loc 1 1487 0
 4983 00f4 FB8B     		ldrh	r3, [r7, #30]
 4984 00f6 DB04     		lsls	r3, r3, #19
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 4985              		.loc 1 1486 0
 4986 00f8 1846     		mov	r0, r3
 4987 00fa 5F4B     		ldr	r3, .L231
 4988 00fc 0340     		ands	r3, r3, r0
 4989 00fe 1A43     		orrs	r2, r2, r3
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (((hc->data_pid) << 29U) & USB_OTG_HCTSIZ_DPID);
 4990              		.loc 1 1488 0
 4991 0100 BB68     		ldr	r3, [r7, #8]
 4992 0102 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 4993 0104 5B07     		lsls	r3, r3, #29
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 4994              		.loc 1 1487 0
 4995 0106 03F0C043 		and	r3, r3, #1610612736
 4996 010a 1343     		orrs	r3, r3, r2
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 4997              		.loc 1 1486 0
 4998 010c 0B61     		str	r3, [r1, #16]
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma)
 4999              		.loc 1 1490 0
 5000 010e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5001 0110 002B     		cmp	r3, #0
ARM GAS  /tmp/ccVcqEjV.s 			page 114


 5002 0112 0AD0     		beq	.L219
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc->ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 5003              		.loc 1 1493 0
 5004 0114 BB68     		ldr	r3, [r7, #8]
 5005 0116 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5006 0118 5A01     		lsls	r2, r3, #5
 5007 011a FB68     		ldr	r3, [r7, #12]
 5008 011c 1344     		add	r3, r3, r2
 5009 011e 03F5A063 		add	r3, r3, #1280
 5010 0122 1A46     		mov	r2, r3
 5011 0124 BB68     		ldr	r3, [r7, #8]
 5012 0126 DB68     		ldr	r3, [r3, #12]
 5013 0128 5361     		str	r3, [r2, #20]
 5014              	.L219:
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (USBx_HOST->HFNUM & 0x01U) ? 0U : 1U;
 5015              		.loc 1 1496 0
 5016 012a FB68     		ldr	r3, [r7, #12]
 5017 012c 03F58063 		add	r3, r3, #1024
 5018 0130 9B68     		ldr	r3, [r3, #8]
 5019 0132 03F00103 		and	r3, r3, #1
 5020 0136 002B     		cmp	r3, #0
 5021 0138 0CBF     		ite	eq
 5022 013a 0123     		moveq	r3, #1
 5023 013c 0023     		movne	r3, #0
 5024 013e DBB2     		uxtb	r3, r3
 5025 0140 7B77     		strb	r3, [r7, #29]
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 5026              		.loc 1 1497 0
 5027 0142 BB68     		ldr	r3, [r7, #8]
 5028 0144 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5029 0146 5A01     		lsls	r2, r3, #5
 5030 0148 FB68     		ldr	r3, [r7, #12]
 5031 014a 1344     		add	r3, r3, r2
 5032 014c 03F5A063 		add	r3, r3, #1280
 5033 0150 1946     		mov	r1, r3
 5034 0152 BB68     		ldr	r3, [r7, #8]
 5035 0154 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5036 0156 5A01     		lsls	r2, r3, #5
 5037 0158 FB68     		ldr	r3, [r7, #12]
 5038 015a 1344     		add	r3, r3, r2
 5039 015c 03F5A063 		add	r3, r3, #1280
 5040 0160 1B68     		ldr	r3, [r3]
 5041 0162 23F00053 		bic	r3, r3, #536870912
 5042 0166 0B60     		str	r3, [r1]
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR |= (is_oddframe << 29U);
 5043              		.loc 1 1498 0
 5044 0168 BB68     		ldr	r3, [r7, #8]
 5045 016a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5046 016c 5A01     		lsls	r2, r3, #5
 5047 016e FB68     		ldr	r3, [r7, #12]
 5048 0170 1344     		add	r3, r3, r2
 5049 0172 03F5A063 		add	r3, r3, #1280
 5050 0176 1946     		mov	r1, r3
ARM GAS  /tmp/ccVcqEjV.s 			page 115


 5051 0178 BB68     		ldr	r3, [r7, #8]
 5052 017a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5053 017c 5A01     		lsls	r2, r3, #5
 5054 017e FB68     		ldr	r3, [r7, #12]
 5055 0180 1344     		add	r3, r3, r2
 5056 0182 03F5A063 		add	r3, r3, #1280
 5057 0186 1B68     		ldr	r3, [r3]
 5058 0188 7A7F     		ldrb	r2, [r7, #29]	@ zero_extendqisi2
 5059 018a 5207     		lsls	r2, r2, #29
 5060 018c 1343     		orrs	r3, r3, r2
 5061 018e 0B60     		str	r3, [r1]
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(hc->ch_num)->HCCHAR;
 5062              		.loc 1 1501 0
 5063 0190 BB68     		ldr	r3, [r7, #8]
 5064 0192 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5065 0194 5A01     		lsls	r2, r3, #5
 5066 0196 FB68     		ldr	r3, [r7, #12]
 5067 0198 1344     		add	r3, r3, r2
 5068 019a 03F5A063 		add	r3, r3, #1280
 5069 019e 1B68     		ldr	r3, [r3]
 5070 01a0 7B61     		str	r3, [r7, #20]
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 5071              		.loc 1 1502 0
 5072 01a2 7B69     		ldr	r3, [r7, #20]
 5073 01a4 23F08043 		bic	r3, r3, #1073741824
 5074 01a8 7B61     		str	r3, [r7, #20]
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 5075              		.loc 1 1503 0
 5076 01aa 7B69     		ldr	r3, [r7, #20]
 5077 01ac 43F00043 		orr	r3, r3, #-2147483648
 5078 01b0 7B61     		str	r3, [r7, #20]
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR = tmpreg;
 5079              		.loc 1 1504 0
 5080 01b2 BB68     		ldr	r3, [r7, #8]
 5081 01b4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5082 01b6 5A01     		lsls	r2, r3, #5
 5083 01b8 FB68     		ldr	r3, [r7, #12]
 5084 01ba 1344     		add	r3, r3, r2
 5085 01bc 03F5A063 		add	r3, r3, #1280
 5086 01c0 1A46     		mov	r2, r3
 5087 01c2 7B69     		ldr	r3, [r7, #20]
 5088 01c4 1360     		str	r3, [r2]
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U) /* Slave mode */
 5089              		.loc 1 1506 0
 5090 01c6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5091 01c8 002B     		cmp	r3, #0
 5092 01ca 4FD1     		bne	.L220
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {  
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 5093              		.loc 1 1508 0
 5094 01cc BB68     		ldr	r3, [r7, #8]
 5095 01ce DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5096 01d0 002B     		cmp	r3, #0
 5097 01d2 4BD1     		bne	.L220
ARM GAS  /tmp/ccVcqEjV.s 			page 116


 5098              		.loc 1 1508 0 is_stmt 0 discriminator 1
 5099 01d4 BB68     		ldr	r3, [r7, #8]
 5100 01d6 1B69     		ldr	r3, [r3, #16]
 5101 01d8 002B     		cmp	r3, #0
 5102 01da 47D0     		beq	.L220
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       switch(hc->ep_type) 
 5103              		.loc 1 1510 0 is_stmt 1
 5104 01dc BB68     		ldr	r3, [r7, #8]
 5105 01de DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 5106 01e0 032B     		cmp	r3, #3
 5107 01e2 31D8     		bhi	.L228
 5108 01e4 01A2     		adr	r2, .L223
 5109 01e6 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5110 01ea 00BF     		.p2align 2
 5111              	.L223:
 5112 01ec FD010000 		.word	.L222+1
 5113 01f0 21020000 		.word	.L224+1
 5114 01f4 FD010000 		.word	.L222+1
 5115 01f8 21020000 		.word	.L224+1
 5116              		.p2align 1
 5117              	.L222:
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Non periodic transfer */
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_BULK:
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (hc->xfer_len + 3U) / 4U;
 5118              		.loc 1 1516 0
 5119 01fc BB68     		ldr	r3, [r7, #8]
 5120 01fe 1B69     		ldr	r3, [r3, #16]
 5121 0200 0333     		adds	r3, r3, #3
 5122 0202 9B08     		lsrs	r3, r3, #2
 5123 0204 7B83     		strh	r3, [r7, #26]	@ movhi
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if(len_words > (USBx->HNPTXSTS & 0xFFFFU))
 5124              		.loc 1 1519 0
 5125 0206 7A8B     		ldrh	r2, [r7, #26]
 5126 0208 FB68     		ldr	r3, [r7, #12]
 5127 020a DB6A     		ldr	r3, [r3, #44]
 5128 020c 9BB2     		uxth	r3, r3
 5129 020e 9A42     		cmp	r2, r3
 5130 0210 1CD9     		bls	.L229
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 5131              		.loc 1 1522 0
 5132 0212 FB68     		ldr	r3, [r7, #12]
 5133 0214 9B69     		ldr	r3, [r3, #24]
 5134 0216 43F02002 		orr	r2, r3, #32
 5135 021a FB68     		ldr	r3, [r7, #12]
 5136 021c 9A61     		str	r2, [r3, #24]
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 5137              		.loc 1 1524 0
 5138 021e 15E0     		b	.L229
ARM GAS  /tmp/ccVcqEjV.s 			page 117


 5139              	.L224:
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_INTR:
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (hc->xfer_len + 3U) / 4U;
 5140              		.loc 1 1528 0
 5141 0220 BB68     		ldr	r3, [r7, #8]
 5142 0222 1B69     		ldr	r3, [r3, #16]
 5143 0224 0333     		adds	r3, r3, #3
 5144 0226 9B08     		lsrs	r3, r3, #2
 5145 0228 7B83     		strh	r3, [r7, #26]	@ movhi
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if(len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 5146              		.loc 1 1530 0
 5147 022a 7A8B     		ldrh	r2, [r7, #26]
 5148 022c FB68     		ldr	r3, [r7, #12]
 5149 022e 03F58063 		add	r3, r3, #1024
 5150 0232 1B69     		ldr	r3, [r3, #16]
 5151 0234 9BB2     		uxth	r3, r3
 5152 0236 9A42     		cmp	r2, r3
 5153 0238 0AD9     		bls	.L230
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;          
 5154              		.loc 1 1533 0
 5155 023a FB68     		ldr	r3, [r7, #12]
 5156 023c 9B69     		ldr	r3, [r3, #24]
 5157 023e 43F08062 		orr	r2, r3, #67108864
 5158 0242 FB68     		ldr	r3, [r7, #12]
 5159 0244 9A61     		str	r2, [r3, #24]
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 5160              		.loc 1 1535 0
 5161 0246 03E0     		b	.L230
 5162              	.L228:
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       default:
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 5163              		.loc 1 1538 0
 5164 0248 00BF     		nop
 5165 024a 02E0     		b	.L226
 5166              	.L229:
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
 5167              		.loc 1 1524 0
 5168 024c 00BF     		nop
 5169 024e 00E0     		b	.L226
 5170              	.L230:
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
 5171              		.loc 1 1535 0
 5172 0250 00BF     		nop
 5173              	.L226:
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Write packet into the Tx FIFO. */
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, hc->xfer_len, 0);
 5174              		.loc 1 1542 0
 5175 0252 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccVcqEjV.s 			page 118


 5176 0254 D968     		ldr	r1, [r3, #12]
 5177 0256 BB68     		ldr	r3, [r7, #8]
 5178 0258 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 5179 025a BB68     		ldr	r3, [r7, #8]
 5180 025c 1B69     		ldr	r3, [r3, #16]
 5181 025e 98B2     		uxth	r0, r3
 5182 0260 0023     		movs	r3, #0
 5183 0262 0093     		str	r3, [sp]
 5184 0264 0346     		mov	r3, r0
 5185 0266 F868     		ldr	r0, [r7, #12]
 5186 0268 FFF7FEFF 		bl	USB_WritePacket
 5187              	.L220:
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5188              		.loc 1 1546 0
 5189 026c 0023     		movs	r3, #0
 5190              	.L214:
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5191              		.loc 1 1547 0
 5192 026e 1846     		mov	r0, r3
 5193 0270 2037     		adds	r7, r7, #32
 5194              	.LCFI243:
 5195              		.cfi_def_cfa_offset 8
 5196 0272 BD46     		mov	sp, r7
 5197              	.LCFI244:
 5198              		.cfi_def_cfa_register 13
 5199              		@ sp needed
 5200 0274 80BD     		pop	{r7, pc}
 5201              	.L232:
 5202 0276 00BF     		.align	2
 5203              	.L231:
 5204 0278 0000F81F 		.word	536346624
 5205              		.cfi_endproc
 5206              	.LFE166:
 5208              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 5209              		.align	2
 5210              		.global	USB_HC_ReadInterrupt
 5211              		.thumb
 5212              		.thumb_func
 5214              	USB_HC_ReadInterrupt:
 5215              	.LFB167:
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt (USB_OTG_GlobalTypeDef *USBx)
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5216              		.loc 1 1555 0
 5217              		.cfi_startproc
 5218              		@ args = 0, pretend = 0, frame = 8
 5219              		@ frame_needed = 1, uses_anonymous_args = 0
 5220              		@ link register save eliminated.
 5221 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccVcqEjV.s 			page 119


 5222              	.LCFI245:
 5223              		.cfi_def_cfa_offset 4
 5224              		.cfi_offset 7, -4
 5225 0002 83B0     		sub	sp, sp, #12
 5226              	.LCFI246:
 5227              		.cfi_def_cfa_offset 16
 5228 0004 00AF     		add	r7, sp, #0
 5229              	.LCFI247:
 5230              		.cfi_def_cfa_register 7
 5231 0006 7860     		str	r0, [r7, #4]
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 5232              		.loc 1 1556 0
 5233 0008 7B68     		ldr	r3, [r7, #4]
 5234 000a 03F58063 		add	r3, r3, #1024
 5235 000e 5B69     		ldr	r3, [r3, #20]
 5236 0010 9BB2     		uxth	r3, r3
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5237              		.loc 1 1557 0
 5238 0012 1846     		mov	r0, r3
 5239 0014 0C37     		adds	r7, r7, #12
 5240              	.LCFI248:
 5241              		.cfi_def_cfa_offset 4
 5242 0016 BD46     		mov	sp, r7
 5243              	.LCFI249:
 5244              		.cfi_def_cfa_register 13
 5245              		@ sp needed
 5246 0018 5DF8047B 		ldr	r7, [sp], #4
 5247              	.LCFI250:
 5248              		.cfi_restore 7
 5249              		.cfi_def_cfa_offset 0
 5250 001c 7047     		bx	lr
 5251              		.cfi_endproc
 5252              	.LFE167:
 5254 001e 00BF     		.section	.text.USB_HC_Halt,"ax",%progbits
 5255              		.align	2
 5256              		.global	USB_HC_Halt
 5257              		.thumb
 5258              		.thumb_func
 5260              	USB_HC_Halt:
 5261              	.LFB168:
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num : Host Channel number
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx , uint8_t hc_num)
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5262              		.loc 1 1567 0
 5263              		.cfi_startproc
 5264              		@ args = 0, pretend = 0, frame = 16
 5265              		@ frame_needed = 1, uses_anonymous_args = 0
 5266              		@ link register save eliminated.
 5267 0000 80B4     		push	{r7}
 5268              	.LCFI251:
ARM GAS  /tmp/ccVcqEjV.s 			page 120


 5269              		.cfi_def_cfa_offset 4
 5270              		.cfi_offset 7, -4
 5271 0002 85B0     		sub	sp, sp, #20
 5272              	.LCFI252:
 5273              		.cfi_def_cfa_offset 24
 5274 0004 00AF     		add	r7, sp, #0
 5275              	.LCFI253:
 5276              		.cfi_def_cfa_register 7
 5277 0006 7860     		str	r0, [r7, #4]
 5278 0008 0B46     		mov	r3, r1
 5279 000a FB70     		strb	r3, [r7, #3]
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 5280              		.loc 1 1568 0
 5281 000c 0023     		movs	r3, #0
 5282 000e FB60     		str	r3, [r7, #12]
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((((USBx_HC(hc_num)->HCCHAR) & USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_CTRL) || (((((USBx_HC(h
 5283              		.loc 1 1571 0
 5284 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5285 0012 5A01     		lsls	r2, r3, #5
 5286 0014 7B68     		ldr	r3, [r7, #4]
 5287 0016 1344     		add	r3, r3, r2
 5288 0018 03F5A063 		add	r3, r3, #1280
 5289 001c 1B68     		ldr	r3, [r3]
 5290 001e 03F44023 		and	r3, r3, #786432
 5291 0022 9B0C     		lsrs	r3, r3, #18
 5292 0024 002B     		cmp	r3, #0
 5293 0026 0BD0     		beq	.L236
 5294              		.loc 1 1571 0 is_stmt 0 discriminator 1
 5295 0028 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5296 002a 5A01     		lsls	r2, r3, #5
 5297 002c 7B68     		ldr	r3, [r7, #4]
 5298 002e 1344     		add	r3, r3, r2
 5299 0030 03F5A063 		add	r3, r3, #1280
 5300 0034 1B68     		ldr	r3, [r3]
 5301 0036 03F44023 		and	r3, r3, #786432
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_BULK)))
 5302              		.loc 1 1572 0 is_stmt 1 discriminator 1
 5303 003a 9B0C     		lsrs	r3, r3, #18
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_BULK)))
 5304              		.loc 1 1571 0 discriminator 1
 5305 003c 022B     		cmp	r3, #2
 5306 003e 5DD1     		bne	.L237
 5307              	.L236:
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 5308              		.loc 1 1574 0
 5309 0040 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5310 0042 5A01     		lsls	r2, r3, #5
 5311 0044 7B68     		ldr	r3, [r7, #4]
 5312 0046 1344     		add	r3, r3, r2
 5313 0048 03F5A063 		add	r3, r3, #1280
 5314 004c 1946     		mov	r1, r3
 5315 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5316 0050 5A01     		lsls	r2, r3, #5
 5317 0052 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 121


 5318 0054 1344     		add	r3, r3, r2
 5319 0056 03F5A063 		add	r3, r3, #1280
 5320 005a 1B68     		ldr	r3, [r3]
 5321 005c 43F08043 		orr	r3, r3, #1073741824
 5322 0060 0B60     		str	r3, [r1]
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->HNPTXSTS & 0xFF0000U) == 0U)
 5323              		.loc 1 1576 0
 5324 0062 7B68     		ldr	r3, [r7, #4]
 5325 0064 DB6A     		ldr	r3, [r3, #44]
 5326 0066 03F47F03 		and	r3, r3, #16711680
 5327 006a 002B     		cmp	r3, #0
 5328 006c 32D1     		bne	.L238
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 5329              		.loc 1 1578 0
 5330 006e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5331 0070 5A01     		lsls	r2, r3, #5
 5332 0072 7B68     		ldr	r3, [r7, #4]
 5333 0074 1344     		add	r3, r3, r2
 5334 0076 03F5A063 		add	r3, r3, #1280
 5335 007a 1946     		mov	r1, r3
 5336 007c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5337 007e 5A01     		lsls	r2, r3, #5
 5338 0080 7B68     		ldr	r3, [r7, #4]
 5339 0082 1344     		add	r3, r3, r2
 5340 0084 03F5A063 		add	r3, r3, #1280
 5341 0088 1B68     		ldr	r3, [r3]
 5342 008a 23F00043 		bic	r3, r3, #-2147483648
 5343 008e 0B60     		str	r3, [r1]
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;  
 5344              		.loc 1 1579 0
 5345 0090 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5346 0092 5A01     		lsls	r2, r3, #5
 5347 0094 7B68     		ldr	r3, [r7, #4]
 5348 0096 1344     		add	r3, r3, r2
 5349 0098 03F5A063 		add	r3, r3, #1280
 5350 009c 1946     		mov	r1, r3
 5351 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5352 00a0 5A01     		lsls	r2, r3, #5
 5353 00a2 7B68     		ldr	r3, [r7, #4]
 5354 00a4 1344     		add	r3, r3, r2
 5355 00a6 03F5A063 		add	r3, r3, #1280
 5356 00aa 1B68     		ldr	r3, [r3]
 5357 00ac 43F00043 		orr	r3, r3, #-2147483648
 5358 00b0 0B60     		str	r3, [r1]
 5359              	.L241:
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do 
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U) 
 5360              		.loc 1 1582 0
 5361 00b2 FB68     		ldr	r3, [r7, #12]
 5362 00b4 0133     		adds	r3, r3, #1
 5363 00b6 FB60     		str	r3, [r7, #12]
 5364 00b8 FB68     		ldr	r3, [r7, #12]
 5365 00ba B3F57A7F 		cmp	r3, #1000
 5366 00be 1BD8     		bhi	.L250
ARM GAS  /tmp/ccVcqEjV.s 			page 122


1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } 
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hc_num)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);     
 5367              		.loc 1 1587 0
 5368 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5369 00c2 5A01     		lsls	r2, r3, #5
 5370 00c4 7B68     		ldr	r3, [r7, #4]
 5371 00c6 1344     		add	r3, r3, r2
 5372 00c8 03F5A063 		add	r3, r3, #1280
 5373 00cc 1B68     		ldr	r3, [r3]
 5374 00ce 002B     		cmp	r3, #0
 5375 00d0 EFDB     		blt	.L241
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5376              		.loc 1 1576 0
 5377 00d2 71E0     		b	.L243
 5378              	.L238:
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA; 
 5379              		.loc 1 1591 0
 5380 00d4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5381 00d6 5A01     		lsls	r2, r3, #5
 5382 00d8 7B68     		ldr	r3, [r7, #4]
 5383 00da 1344     		add	r3, r3, r2
 5384 00dc 03F5A063 		add	r3, r3, #1280
 5385 00e0 1946     		mov	r1, r3
 5386 00e2 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5387 00e4 5A01     		lsls	r2, r3, #5
 5388 00e6 7B68     		ldr	r3, [r7, #4]
 5389 00e8 1344     		add	r3, r3, r2
 5390 00ea 03F5A063 		add	r3, r3, #1280
 5391 00ee 1B68     		ldr	r3, [r3]
 5392 00f0 43F00043 		orr	r3, r3, #-2147483648
 5393 00f4 0B60     		str	r3, [r1]
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5394              		.loc 1 1576 0
 5395 00f6 5FE0     		b	.L243
 5396              	.L250:
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5397              		.loc 1 1584 0
 5398 00f8 00BF     		nop
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5399              		.loc 1 1576 0
 5400 00fa 5DE0     		b	.L243
 5401              	.L237:
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 5402              		.loc 1 1596 0
 5403 00fc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5404 00fe 5A01     		lsls	r2, r3, #5
 5405 0100 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 123


 5406 0102 1344     		add	r3, r3, r2
 5407 0104 03F5A063 		add	r3, r3, #1280
 5408 0108 1946     		mov	r1, r3
 5409 010a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5410 010c 5A01     		lsls	r2, r3, #5
 5411 010e 7B68     		ldr	r3, [r7, #4]
 5412 0110 1344     		add	r3, r3, r2
 5413 0112 03F5A063 		add	r3, r3, #1280
 5414 0116 1B68     		ldr	r3, [r3]
 5415 0118 43F08043 		orr	r3, r3, #1073741824
 5416 011c 0B60     		str	r3, [r1]
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & 0xFFFFU) == 0U)
 5417              		.loc 1 1598 0
 5418 011e 7B68     		ldr	r3, [r7, #4]
 5419 0120 03F58063 		add	r3, r3, #1024
 5420 0124 1B69     		ldr	r3, [r3, #16]
 5421 0126 9BB2     		uxth	r3, r3
 5422 0128 002B     		cmp	r3, #0
 5423 012a 32D1     		bne	.L244
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 5424              		.loc 1 1600 0
 5425 012c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5426 012e 5A01     		lsls	r2, r3, #5
 5427 0130 7B68     		ldr	r3, [r7, #4]
 5428 0132 1344     		add	r3, r3, r2
 5429 0134 03F5A063 		add	r3, r3, #1280
 5430 0138 1946     		mov	r1, r3
 5431 013a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5432 013c 5A01     		lsls	r2, r3, #5
 5433 013e 7B68     		ldr	r3, [r7, #4]
 5434 0140 1344     		add	r3, r3, r2
 5435 0142 03F5A063 		add	r3, r3, #1280
 5436 0146 1B68     		ldr	r3, [r3]
 5437 0148 23F00043 		bic	r3, r3, #-2147483648
 5438 014c 0B60     		str	r3, [r1]
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;  
 5439              		.loc 1 1601 0
 5440 014e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5441 0150 5A01     		lsls	r2, r3, #5
 5442 0152 7B68     		ldr	r3, [r7, #4]
 5443 0154 1344     		add	r3, r3, r2
 5444 0156 03F5A063 		add	r3, r3, #1280
 5445 015a 1946     		mov	r1, r3
 5446 015c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5447 015e 5A01     		lsls	r2, r3, #5
 5448 0160 7B68     		ldr	r3, [r7, #4]
 5449 0162 1344     		add	r3, r3, r2
 5450 0164 03F5A063 		add	r3, r3, #1280
 5451 0168 1B68     		ldr	r3, [r3]
 5452 016a 43F00043 		orr	r3, r3, #-2147483648
 5453 016e 0B60     		str	r3, [r1]
 5454              	.L247:
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do 
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U) 
ARM GAS  /tmp/ccVcqEjV.s 			page 124


 5455              		.loc 1 1604 0
 5456 0170 FB68     		ldr	r3, [r7, #12]
 5457 0172 0133     		adds	r3, r3, #1
 5458 0174 FB60     		str	r3, [r7, #12]
 5459 0176 FB68     		ldr	r3, [r7, #12]
 5460 0178 B3F57A7F 		cmp	r3, #1000
 5461 017c 1BD8     		bhi	.L251
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } 
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hc_num)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);     
 5462              		.loc 1 1609 0
 5463 017e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5464 0180 5A01     		lsls	r2, r3, #5
 5465 0182 7B68     		ldr	r3, [r7, #4]
 5466 0184 1344     		add	r3, r3, r2
 5467 0186 03F5A063 		add	r3, r3, #1280
 5468 018a 1B68     		ldr	r3, [r3]
 5469 018c 002B     		cmp	r3, #0
 5470 018e EFDB     		blt	.L247
 5471 0190 12E0     		b	.L243
 5472              	.L244:
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA; 
 5473              		.loc 1 1613 0
 5474 0192 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5475 0194 5A01     		lsls	r2, r3, #5
 5476 0196 7B68     		ldr	r3, [r7, #4]
 5477 0198 1344     		add	r3, r3, r2
 5478 019a 03F5A063 		add	r3, r3, #1280
 5479 019e 1946     		mov	r1, r3
 5480 01a0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5481 01a2 5A01     		lsls	r2, r3, #5
 5482 01a4 7B68     		ldr	r3, [r7, #4]
 5483 01a6 1344     		add	r3, r3, r2
 5484 01a8 03F5A063 		add	r3, r3, #1280
 5485 01ac 1B68     		ldr	r3, [r3]
 5486 01ae 43F00043 		orr	r3, r3, #-2147483648
 5487 01b2 0B60     		str	r3, [r1]
 5488 01b4 00E0     		b	.L243
 5489              	.L251:
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5490              		.loc 1 1606 0
 5491 01b6 00BF     		nop
 5492              	.L243:
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5493              		.loc 1 1617 0
 5494 01b8 0023     		movs	r3, #0
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5495              		.loc 1 1618 0
 5496 01ba 1846     		mov	r0, r3
ARM GAS  /tmp/ccVcqEjV.s 			page 125


 5497 01bc 1437     		adds	r7, r7, #20
 5498              	.LCFI254:
 5499              		.cfi_def_cfa_offset 4
 5500 01be BD46     		mov	sp, r7
 5501              	.LCFI255:
 5502              		.cfi_def_cfa_register 13
 5503              		@ sp needed
 5504 01c0 5DF8047B 		ldr	r7, [sp], #4
 5505              	.LCFI256:
 5506              		.cfi_restore 7
 5507              		.cfi_def_cfa_offset 0
 5508 01c4 7047     		bx	lr
 5509              		.cfi_endproc
 5510              	.LFE168:
 5512 01c6 00BF     		.section	.text.USB_DoPing,"ax",%progbits
 5513              		.align	2
 5514              		.global	USB_DoPing
 5515              		.thumb
 5516              		.thumb_func
 5518              	USB_DoPing:
 5519              	.LFB169:
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num : Host Channel number
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx , uint8_t ch_num)
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5520              		.loc 1 1628 0
 5521              		.cfi_startproc
 5522              		@ args = 0, pretend = 0, frame = 16
 5523              		@ frame_needed = 1, uses_anonymous_args = 0
 5524              		@ link register save eliminated.
 5525 0000 80B4     		push	{r7}
 5526              	.LCFI257:
 5527              		.cfi_def_cfa_offset 4
 5528              		.cfi_offset 7, -4
 5529 0002 85B0     		sub	sp, sp, #20
 5530              	.LCFI258:
 5531              		.cfi_def_cfa_offset 24
 5532 0004 00AF     		add	r7, sp, #0
 5533              	.LCFI259:
 5534              		.cfi_def_cfa_register 7
 5535 0006 7860     		str	r0, [r7, #4]
 5536 0008 0B46     		mov	r3, r1
 5537 000a FB70     		strb	r3, [r7, #3]
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  num_packets = 1U;
 5538              		.loc 1 1629 0
 5539 000c 0123     		movs	r3, #1
 5540 000e FB73     		strb	r3, [r7, #15]
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg = 0U;
 5541              		.loc 1 1630 0
 5542 0010 0023     		movs	r3, #0
 5543 0012 BB60     		str	r3, [r7, #8]
ARM GAS  /tmp/ccVcqEjV.s 			page 126


1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 5544              		.loc 1 1632 0
 5545 0014 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5546 0016 5A01     		lsls	r2, r3, #5
 5547 0018 7B68     		ldr	r3, [r7, #4]
 5548 001a 1344     		add	r3, r3, r2
 5549 001c 03F5A063 		add	r3, r3, #1280
 5550 0020 1A46     		mov	r2, r3
 5551 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 5552 0024 DB04     		lsls	r3, r3, #19
 5553 0026 1946     		mov	r1, r3
 5554 0028 124B     		ldr	r3, .L254
 5555 002a 0B40     		ands	r3, r3, r1
 5556 002c 43F00043 		orr	r3, r3, #-2147483648
 5557 0030 1361     		str	r3, [r2, #16]
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCTSIZ_DOPING;
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 5558              		.loc 1 1636 0
 5559 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5560 0034 5A01     		lsls	r2, r3, #5
 5561 0036 7B68     		ldr	r3, [r7, #4]
 5562 0038 1344     		add	r3, r3, r2
 5563 003a 03F5A063 		add	r3, r3, #1280
 5564 003e 1B68     		ldr	r3, [r3]
 5565 0040 BB60     		str	r3, [r7, #8]
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 5566              		.loc 1 1637 0
 5567 0042 BB68     		ldr	r3, [r7, #8]
 5568 0044 23F08043 		bic	r3, r3, #1073741824
 5569 0048 BB60     		str	r3, [r7, #8]
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 5570              		.loc 1 1638 0
 5571 004a BB68     		ldr	r3, [r7, #8]
 5572 004c 43F00043 		orr	r3, r3, #-2147483648
 5573 0050 BB60     		str	r3, [r7, #8]
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 5574              		.loc 1 1639 0
 5575 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5576 0054 5A01     		lsls	r2, r3, #5
 5577 0056 7B68     		ldr	r3, [r7, #4]
 5578 0058 1344     		add	r3, r3, r2
 5579 005a 03F5A063 		add	r3, r3, #1280
 5580 005e 1A46     		mov	r2, r3
 5581 0060 BB68     		ldr	r3, [r7, #8]
 5582 0062 1360     		str	r3, [r2]
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 5583              		.loc 1 1641 0
 5584 0064 0023     		movs	r3, #0
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5585              		.loc 1 1642 0
 5586 0066 1846     		mov	r0, r3
 5587 0068 1437     		adds	r7, r7, #20
 5588              	.LCFI260:
ARM GAS  /tmp/ccVcqEjV.s 			page 127


 5589              		.cfi_def_cfa_offset 4
 5590 006a BD46     		mov	sp, r7
 5591              	.LCFI261:
 5592              		.cfi_def_cfa_register 13
 5593              		@ sp needed
 5594 006c 5DF8047B 		ldr	r7, [sp], #4
 5595              	.LCFI262:
 5596              		.cfi_restore 7
 5597              		.cfi_def_cfa_offset 0
 5598 0070 7047     		bx	lr
 5599              	.L255:
 5600 0072 00BF     		.align	2
 5601              	.L254:
 5602 0074 0000F81F 		.word	536346624
 5603              		.cfi_endproc
 5604              	.LFE169:
 5606              		.section	.text.USB_StopHost,"ax",%progbits
 5607              		.align	2
 5608              		.global	USB_StopHost
 5609              		.thumb
 5610              		.thumb_func
 5612              	USB_StopHost:
 5613              	.LFB170:
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx : Selected device
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5614              		.loc 1 1650 0
 5615              		.cfi_startproc
 5616              		@ args = 0, pretend = 0, frame = 24
 5617              		@ frame_needed = 1, uses_anonymous_args = 0
 5618 0000 80B5     		push	{r7, lr}
 5619              	.LCFI263:
 5620              		.cfi_def_cfa_offset 8
 5621              		.cfi_offset 7, -8
 5622              		.cfi_offset 14, -4
 5623 0002 86B0     		sub	sp, sp, #24
 5624              	.LCFI264:
 5625              		.cfi_def_cfa_offset 32
 5626 0004 00AF     		add	r7, sp, #0
 5627              	.LCFI265:
 5628              		.cfi_def_cfa_register 7
 5629 0006 7860     		str	r0, [r7, #4]
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t i;
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 5630              		.loc 1 1652 0
 5631 0008 0023     		movs	r3, #0
 5632 000a 3B61     		str	r3, [r7, #16]
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_DisableGlobalInt(USBx);
 5633              		.loc 1 1655 0
 5634 000c 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/ccVcqEjV.s 			page 128


 5635 000e FFF7FEFF 		bl	USB_DisableGlobalInt
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Flush FIFO */
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx, 0x10U);
 5636              		.loc 1 1658 0
 5637 0012 1021     		movs	r1, #16
 5638 0014 7868     		ldr	r0, [r7, #4]
 5639 0016 FFF7FEFF 		bl	USB_FlushTxFifo
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 5640              		.loc 1 1659 0
 5641 001a 7868     		ldr	r0, [r7, #4]
 5642 001c FFF7FEFF 		bl	USB_FlushRxFifo
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 5643              		.loc 1 1662 0
 5644 0020 0023     		movs	r3, #0
 5645 0022 FB75     		strb	r3, [r7, #23]
 5646 0024 1FE0     		b	.L257
 5647              	.L258:
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR ;
 5648              		.loc 1 1665 0 discriminator 3
 5649 0026 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5650 0028 5A01     		lsls	r2, r3, #5
 5651 002a 7B68     		ldr	r3, [r7, #4]
 5652 002c 1344     		add	r3, r3, r2
 5653 002e 03F5A063 		add	r3, r3, #1280
 5654 0032 1B68     		ldr	r3, [r3]
 5655 0034 FB60     		str	r3, [r7, #12]
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 5656              		.loc 1 1666 0 discriminator 3
 5657 0036 FB68     		ldr	r3, [r7, #12]
 5658 0038 43F08043 		orr	r3, r3, #1073741824
 5659 003c FB60     		str	r3, [r7, #12]
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;  
 5660              		.loc 1 1667 0 discriminator 3
 5661 003e FB68     		ldr	r3, [r7, #12]
 5662 0040 23F00043 		bic	r3, r3, #-2147483648
 5663 0044 FB60     		str	r3, [r7, #12]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 5664              		.loc 1 1668 0 discriminator 3
 5665 0046 FB68     		ldr	r3, [r7, #12]
 5666 0048 23F40043 		bic	r3, r3, #32768
 5667 004c FB60     		str	r3, [r7, #12]
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 5668              		.loc 1 1669 0 discriminator 3
 5669 004e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5670 0050 5A01     		lsls	r2, r3, #5
 5671 0052 7B68     		ldr	r3, [r7, #4]
 5672 0054 1344     		add	r3, r3, r2
 5673 0056 03F5A063 		add	r3, r3, #1280
 5674 005a 1A46     		mov	r2, r3
 5675 005c FB68     		ldr	r3, [r7, #12]
 5676 005e 1360     		str	r3, [r2]
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
ARM GAS  /tmp/ccVcqEjV.s 			page 129


 5677              		.loc 1 1662 0 discriminator 3
 5678 0060 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5679 0062 0133     		adds	r3, r3, #1
 5680 0064 FB75     		strb	r3, [r7, #23]
 5681              	.L257:
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
 5682              		.loc 1 1662 0 is_stmt 0 discriminator 1
 5683 0066 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5684 0068 0F2B     		cmp	r3, #15
 5685 006a DCD9     		bls	.L258
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */  
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 5686              		.loc 1 1673 0 is_stmt 1
 5687 006c 0023     		movs	r3, #0
 5688 006e FB75     		strb	r3, [r7, #23]
 5689 0070 31E0     		b	.L259
 5690              	.L263:
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR ;
 5691              		.loc 1 1675 0
 5692 0072 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5693 0074 5A01     		lsls	r2, r3, #5
 5694 0076 7B68     		ldr	r3, [r7, #4]
 5695 0078 1344     		add	r3, r3, r2
 5696 007a 03F5A063 		add	r3, r3, #1280
 5697 007e 1B68     		ldr	r3, [r3]
 5698 0080 FB60     		str	r3, [r7, #12]
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 5699              		.loc 1 1677 0
 5700 0082 FB68     		ldr	r3, [r7, #12]
 5701 0084 43F08043 		orr	r3, r3, #1073741824
 5702 0088 FB60     		str	r3, [r7, #12]
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;  
 5703              		.loc 1 1678 0
 5704 008a FB68     		ldr	r3, [r7, #12]
 5705 008c 43F00043 		orr	r3, r3, #-2147483648
 5706 0090 FB60     		str	r3, [r7, #12]
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 5707              		.loc 1 1679 0
 5708 0092 FB68     		ldr	r3, [r7, #12]
 5709 0094 23F40043 		bic	r3, r3, #32768
 5710 0098 FB60     		str	r3, [r7, #12]
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 5711              		.loc 1 1681 0
 5712 009a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5713 009c 5A01     		lsls	r2, r3, #5
 5714 009e 7B68     		ldr	r3, [r7, #4]
 5715 00a0 1344     		add	r3, r3, r2
 5716 00a2 03F5A063 		add	r3, r3, #1280
 5717 00a6 1A46     		mov	r2, r3
 5718 00a8 FB68     		ldr	r3, [r7, #12]
 5719 00aa 1360     		str	r3, [r2]
 5720              	.L262:
ARM GAS  /tmp/ccVcqEjV.s 			page 130


1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do 
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 1000U) 
 5721              		.loc 1 1684 0
 5722 00ac 3B69     		ldr	r3, [r7, #16]
 5723 00ae 0133     		adds	r3, r3, #1
 5724 00b0 3B61     		str	r3, [r7, #16]
 5725 00b2 3B69     		ldr	r3, [r7, #16]
 5726 00b4 B3F57A7F 		cmp	r3, #1000
 5727 00b8 09D8     		bhi	.L265
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 5728              		.loc 1 1689 0
 5729 00ba FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5730 00bc 5A01     		lsls	r2, r3, #5
 5731 00be 7B68     		ldr	r3, [r7, #4]
 5732 00c0 1344     		add	r3, r3, r2
 5733 00c2 03F5A063 		add	r3, r3, #1280
 5734 00c6 1B68     		ldr	r3, [r3]
 5735 00c8 002B     		cmp	r3, #0
 5736 00ca EFDB     		blt	.L262
 5737 00cc 00E0     		b	.L261
 5738              	.L265:
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 5739              		.loc 1 1686 0
 5740 00ce 00BF     		nop
 5741              	.L261:
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5742              		.loc 1 1673 0 discriminator 2
 5743 00d0 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5744 00d2 0133     		adds	r3, r3, #1
 5745 00d4 FB75     		strb	r3, [r7, #23]
 5746              	.L259:
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5747              		.loc 1 1673 0 is_stmt 0 discriminator 1
 5748 00d6 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5749 00d8 0F2B     		cmp	r3, #15
 5750 00da CAD9     		bls	.L263
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */  
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 5751              		.loc 1 1693 0 is_stmt 1
 5752 00dc 7B68     		ldr	r3, [r7, #4]
 5753 00de 03F58063 		add	r3, r3, #1024
 5754 00e2 1A46     		mov	r2, r3
 5755 00e4 4FF0FF33 		mov	r3, #-1
 5756 00e8 5361     		str	r3, [r2, #20]
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 5757              		.loc 1 1694 0
 5758 00ea 7B68     		ldr	r3, [r7, #4]
 5759 00ec 4FF0FF32 		mov	r2, #-1
 5760 00f0 5A61     		str	r2, [r3, #20]
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_EnableGlobalInt(USBx);
ARM GAS  /tmp/ccVcqEjV.s 			page 131


 5761              		.loc 1 1695 0
 5762 00f2 7868     		ldr	r0, [r7, #4]
 5763 00f4 FFF7FEFF 		bl	USB_EnableGlobalInt
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 5764              		.loc 1 1696 0
 5765 00f8 0023     		movs	r3, #0
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5766              		.loc 1 1697 0
 5767 00fa 1846     		mov	r0, r3
 5768 00fc 1837     		adds	r7, r7, #24
 5769              	.LCFI266:
 5770              		.cfi_def_cfa_offset 8
 5771 00fe BD46     		mov	sp, r7
 5772              	.LCFI267:
 5773              		.cfi_def_cfa_register 13
 5774              		@ sp needed
 5775 0100 80BD     		pop	{r7, pc}
 5776              		.cfi_endproc
 5777              	.LFE170:
 5779 0102 00BF     		.section	.bss.debug.7541,"aw",%nobits
 5780              		.align	2
 5783              	debug.7541:
 5784 0000 00000000 		.space	4
 5785              		.text
 5786              	.Letext0:
 5787              		.file 2 "/usr/local/gcc-arm-none-eabi-5_4-2016q2/arm-none-eabi/include/machine/_default_types.h"
 5788              		.file 3 "/usr/local/gcc-arm-none-eabi-5_4-2016q2/arm-none-eabi/include/sys/_stdint.h"
 5789              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 5790              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 5791              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 5792              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 5793              		.file 8 "Drivers/CMSIS/Include/core_cm4.h"
ARM GAS  /tmp/ccVcqEjV.s 			page 132


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4xx_ll_usb.c
     /tmp/ccVcqEjV.s:22     .text.USB_CoreInit:00000000 $t
     /tmp/ccVcqEjV.s:27     .text.USB_CoreInit:00000000 USB_CoreInit
     /tmp/ccVcqEjV.s:3896   .text.USB_CoreReset:00000000 USB_CoreReset
     /tmp/ccVcqEjV.s:139    .text.USB_EnableGlobalInt:00000000 $t
     /tmp/ccVcqEjV.s:144    .text.USB_EnableGlobalInt:00000000 USB_EnableGlobalInt
     /tmp/ccVcqEjV.s:188    .text.USB_DisableGlobalInt:00000000 $t
     /tmp/ccVcqEjV.s:193    .text.USB_DisableGlobalInt:00000000 USB_DisableGlobalInt
     /tmp/ccVcqEjV.s:237    .text.USB_SetCurrentMode:00000000 $t
     /tmp/ccVcqEjV.s:242    .text.USB_SetCurrentMode:00000000 USB_SetCurrentMode
     /tmp/ccVcqEjV.s:310    .text.USB_DevInit:00000000 $t
     /tmp/ccVcqEjV.s:315    .text.USB_DevInit:00000000 USB_DevInit
     /tmp/ccVcqEjV.s:835    .text.USB_SetDevSpeed:00000000 USB_SetDevSpeed
     /tmp/ccVcqEjV.s:684    .text.USB_FlushTxFifo:00000000 USB_FlushTxFifo
     /tmp/ccVcqEjV.s:761    .text.USB_FlushRxFifo:00000000 USB_FlushRxFifo
     /tmp/ccVcqEjV.s:673    .text.USB_DevInit:00000268 $d
     /tmp/ccVcqEjV.s:679    .text.USB_FlushTxFifo:00000000 $t
     /tmp/ccVcqEjV.s:751    .text.USB_FlushTxFifo:00000048 $d
     /tmp/ccVcqEjV.s:756    .text.USB_FlushRxFifo:00000000 $t
     /tmp/ccVcqEjV.s:825    .text.USB_FlushRxFifo:00000040 $d
     /tmp/ccVcqEjV.s:830    .text.USB_SetDevSpeed:00000000 $t
     /tmp/ccVcqEjV.s:885    .text.USB_GetDevSpeed:00000000 $t
     /tmp/ccVcqEjV.s:890    .text.USB_GetDevSpeed:00000000 USB_GetDevSpeed
     /tmp/ccVcqEjV.s:975    .text.USB_ActivateEndpoint:00000000 $t
     /tmp/ccVcqEjV.s:980    .text.USB_ActivateEndpoint:00000000 USB_ActivateEndpoint
     /tmp/ccVcqEjV.s:1137   .text.USB_ActivateDedicatedEndpoint:00000000 $t
     /tmp/ccVcqEjV.s:1142   .text.USB_ActivateDedicatedEndpoint:00000000 USB_ActivateDedicatedEndpoint
     /tmp/ccVcqEjV.s:1361   .text.USB_ActivateDedicatedEndpoint:00000184 $d
     /tmp/ccVcqEjV.s:5783   .bss.debug.7541:00000000 debug.7541
     /tmp/ccVcqEjV.s:1366   .text.USB_DeactivateEndpoint:00000000 $t
     /tmp/ccVcqEjV.s:1371   .text.USB_DeactivateEndpoint:00000000 USB_DeactivateEndpoint
     /tmp/ccVcqEjV.s:1516   .text.USB_DeactivateDedicatedEndpoint:00000000 $t
     /tmp/ccVcqEjV.s:1521   .text.USB_DeactivateDedicatedEndpoint:00000000 USB_DeactivateDedicatedEndpoint
     /tmp/ccVcqEjV.s:1634   .text.USB_EPStartXfer:00000000 $t
     /tmp/ccVcqEjV.s:1639   .text.USB_EPStartXfer:00000000 USB_EPStartXfer
     /tmp/ccVcqEjV.s:2601   .text.USB_WritePacket:00000000 USB_WritePacket
     /tmp/ccVcqEjV.s:2063   .text.USB_EPStartXfer:00000354 $d
     /tmp/ccVcqEjV.s:2066   .text.USB_EPStartXfer:00000358 $t
     /tmp/ccVcqEjV.s:2219   .text.USB_EPStartXfer:00000480 $d
     /tmp/ccVcqEjV.s:2224   .text.USB_EP0StartXfer:00000000 $t
     /tmp/ccVcqEjV.s:2229   .text.USB_EP0StartXfer:00000000 USB_EP0StartXfer
     /tmp/ccVcqEjV.s:2596   .text.USB_WritePacket:00000000 $t
     /tmp/ccVcqEjV.s:2689   .text.USB_ReadPacket:00000000 $t
     /tmp/ccVcqEjV.s:2694   .text.USB_ReadPacket:00000000 USB_ReadPacket
     /tmp/ccVcqEjV.s:2767   .text.USB_EPSetStall:00000000 $t
     /tmp/ccVcqEjV.s:2772   .text.USB_EPSetStall:00000000 USB_EPSetStall
     /tmp/ccVcqEjV.s:2909   .text.USB_EPClearStall:00000000 $t
     /tmp/ccVcqEjV.s:2914   .text.USB_EPClearStall:00000000 USB_EPClearStall
     /tmp/ccVcqEjV.s:3051   .text.USB_StopDevice:00000000 $t
     /tmp/ccVcqEjV.s:3056   .text.USB_StopDevice:00000000 USB_StopDevice
     /tmp/ccVcqEjV.s:3153   .text.USB_SetDevAddress:00000000 $t
     /tmp/ccVcqEjV.s:3158   .text.USB_SetDevAddress:00000000 USB_SetDevAddress
     /tmp/ccVcqEjV.s:3219   .text.USB_DevConnect:00000000 $t
     /tmp/ccVcqEjV.s:3224   .text.USB_DevConnect:00000000 USB_DevConnect
     /tmp/ccVcqEjV.s:3270   .text.USB_DevDisconnect:00000000 $t
     /tmp/ccVcqEjV.s:3275   .text.USB_DevDisconnect:00000000 USB_DevDisconnect
ARM GAS  /tmp/ccVcqEjV.s 			page 133


     /tmp/ccVcqEjV.s:3321   .text.USB_ReadInterrupts:00000000 $t
     /tmp/ccVcqEjV.s:3326   .text.USB_ReadInterrupts:00000000 USB_ReadInterrupts
     /tmp/ccVcqEjV.s:3377   .text.USB_ReadDevAllOutEpInterrupt:00000000 $t
     /tmp/ccVcqEjV.s:3382   .text.USB_ReadDevAllOutEpInterrupt:00000000 USB_ReadDevAllOutEpInterrupt
     /tmp/ccVcqEjV.s:3433   .text.USB_ReadDevAllInEpInterrupt:00000000 $t
     /tmp/ccVcqEjV.s:3438   .text.USB_ReadDevAllInEpInterrupt:00000000 USB_ReadDevAllInEpInterrupt
     /tmp/ccVcqEjV.s:3489   .text.USB_ReadDevOutEPInterrupt:00000000 $t
     /tmp/ccVcqEjV.s:3494   .text.USB_ReadDevOutEPInterrupt:00000000 USB_ReadDevOutEPInterrupt
     /tmp/ccVcqEjV.s:3549   .text.USB_ReadDevInEPInterrupt:00000000 $t
     /tmp/ccVcqEjV.s:3554   .text.USB_ReadDevInEPInterrupt:00000000 USB_ReadDevInEPInterrupt
     /tmp/ccVcqEjV.s:3623   .text.USB_ClearInterrupts:00000000 $t
     /tmp/ccVcqEjV.s:3628   .text.USB_ClearInterrupts:00000000 USB_ClearInterrupts
     /tmp/ccVcqEjV.s:3672   .text.USB_GetMode:00000000 $t
     /tmp/ccVcqEjV.s:3677   .text.USB_GetMode:00000000 USB_GetMode
     /tmp/ccVcqEjV.s:3717   .text.USB_ActivateSetup:00000000 $t
     /tmp/ccVcqEjV.s:3722   .text.USB_ActivateSetup:00000000 USB_ActivateSetup
     /tmp/ccVcqEjV.s:3796   .text.USB_EP0_OutStart:00000000 $t
     /tmp/ccVcqEjV.s:3801   .text.USB_EP0_OutStart:00000000 USB_EP0_OutStart
     /tmp/ccVcqEjV.s:3892   .text.USB_CoreReset:00000000 $t
     /tmp/ccVcqEjV.s:3983   .text.USB_CoreReset:00000064 $d
     /tmp/ccVcqEjV.s:3988   .text.USB_HostInit:00000000 $t
     /tmp/ccVcqEjV.s:3993   .text.USB_HostInit:00000000 USB_HostInit
     /tmp/ccVcqEjV.s:4351   .text.USB_DriveVbus:00000000 USB_DriveVbus
     /tmp/ccVcqEjV.s:4184   .text.USB_HostInit:0000012c $d
     /tmp/ccVcqEjV.s:4193   .text.USB_InitFSLSPClkSel:00000000 $t
     /tmp/ccVcqEjV.s:4198   .text.USB_InitFSLSPClkSel:00000000 USB_InitFSLSPClkSel
     /tmp/ccVcqEjV.s:4281   .text.USB_ResetPort:00000000 $t
     /tmp/ccVcqEjV.s:4286   .text.USB_ResetPort:00000000 USB_ResetPort
     /tmp/ccVcqEjV.s:4346   .text.USB_DriveVbus:00000000 $t
     /tmp/ccVcqEjV.s:4434   .text.USB_GetHostSpeed:00000000 $t
     /tmp/ccVcqEjV.s:4439   .text.USB_GetHostSpeed:00000000 USB_GetHostSpeed
     /tmp/ccVcqEjV.s:4484   .text.USB_GetCurrentFrame:00000000 $t
     /tmp/ccVcqEjV.s:4489   .text.USB_GetCurrentFrame:00000000 USB_GetCurrentFrame
     /tmp/ccVcqEjV.s:4530   .text.USB_HC_Init:00000000 $t
     /tmp/ccVcqEjV.s:4535   .text.USB_HC_Init:00000000 USB_HC_Init
     /tmp/ccVcqEjV.s:4579   .text.USB_HC_Init:0000003c $d
     /tmp/ccVcqEjV.s:4583   .text.USB_HC_Init:0000004c $t
     /tmp/ccVcqEjV.s:4824   .text.USB_HC_StartXfer:00000000 $t
     /tmp/ccVcqEjV.s:4829   .text.USB_HC_StartXfer:00000000 USB_HC_StartXfer
     /tmp/ccVcqEjV.s:5518   .text.USB_DoPing:00000000 USB_DoPing
     /tmp/ccVcqEjV.s:5112   .text.USB_HC_StartXfer:000001ec $d
     /tmp/ccVcqEjV.s:5116   .text.USB_HC_StartXfer:000001fc $t
     /tmp/ccVcqEjV.s:5204   .text.USB_HC_StartXfer:00000278 $d
     /tmp/ccVcqEjV.s:5209   .text.USB_HC_ReadInterrupt:00000000 $t
     /tmp/ccVcqEjV.s:5214   .text.USB_HC_ReadInterrupt:00000000 USB_HC_ReadInterrupt
     /tmp/ccVcqEjV.s:5255   .text.USB_HC_Halt:00000000 $t
     /tmp/ccVcqEjV.s:5260   .text.USB_HC_Halt:00000000 USB_HC_Halt
     /tmp/ccVcqEjV.s:5513   .text.USB_DoPing:00000000 $t
     /tmp/ccVcqEjV.s:5602   .text.USB_DoPing:00000074 $d
     /tmp/ccVcqEjV.s:5607   .text.USB_StopHost:00000000 $t
     /tmp/ccVcqEjV.s:5612   .text.USB_StopHost:00000000 USB_StopHost
     /tmp/ccVcqEjV.s:5780   .bss.debug.7541:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
HAL_Delay
